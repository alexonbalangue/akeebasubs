<?xml version="1.0" encoding="UTF-8"?>
<book version="5.0" xmlns="http://docbook.org/ns/docbook"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      xmlns:xi="http://www.w3.org/2001/XInclude"
      xmlns:svg="http://www.w3.org/2000/svg"
      xmlns:m="http://www.w3.org/1998/Math/MathML"
      xmlns:html="http://www.w3.org/1999/xhtml"
      xmlns:db="http://docbook.org/ns/docbook">
  <info>
    <title>Akeeba Subscriptions User's Guide</title>

    <author>
      <personname><firstname>Nicholas</firstname><othername>K.</othername><surname>Dionysopoulos</surname></personname>

      <affiliation>
        <orgname>AkeebaBackup.com</orgname>
      </affiliation>
    </author>

    <pubdate>April 2015</pubdate>

    <copyright>
      <year>2010-2016</year>

      <holder>Akeeba Ltd</holder>
    </copyright>

    <legalnotice>
      <para>Permission is granted to copy, distribute and/or modify this
      document under the terms of the GNU Free Documentation License, Version
      1.3 or any later version published by the Free Software Foundation; with
      no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts. A
      copy of the license can be found on-line at <link
      xlink:href="http://www.gnu.org/licenses/fdl.html">http://www.gnu.org/licenses/fdl.html</link>.</para>
    </legalnotice>

    <abstract>
      <para>This book covers the use of the Akeeba Subscriptions component and
      its bundled modules and plugins for selling and managing subscriptions
      on your <trademark>Joomla!</trademark>-powered web sites.</para>
    </abstract>
  </info>

  <chapter xml:id="intro-and-installation">
    <title>Introduction and installation</title>

    <section xml:id="requirements">
      <title>Requirements and compatibility</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Akeeba Subscriptions requires the following server-side
      configuration:</para>

      <itemizedlist>
        <listitem>
          <para><trademark>Joomla!</trademark> 3.3 or later</para>
        </listitem>

        <listitem>
          <para>PHP 5.4.0 or later</para>
        </listitem>

        <listitem>
          <para>MySQL 5.1 or later, 5.5 or 5.6 strongly recommended. Earlier
          database server versions will not be supported. Do note that earlier
          releases of MySQL are obsolete and not supported any more by Oracle
          (the company who controls the development of MySQL).</para>
        </listitem>
      </itemizedlist>
    </section>
  </chapter>

  <chapter xml:id="installation-updates-upgrades">
    <title>Installation, updates and upgrades</title>

    <section xml:id="installing">
      <title>Installing Akeeba Subscriptions</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Installing <application>Akeeba Subscriptions</application> is no
      different than installing any other <trademark>Joomla!</trademark>
      extension on your site. You can read the complete instructions for
      installing <trademark>Joomla!</trademark> extensions on the <link
      xlink:href="http://help.joomla.org/content/view/1476/235/">official help
      page</link>. Throughout this chapter we assume that you are familiar
      with these instructions and we will try not to duplicate them.</para>

      <note>
        <para>The language (translation) files are NOT installed
        automatically. You can download and install them from our <link
        xlink:href="http://cdn.akeebabackup.com/language/akeebasubs/index.html">language
        download page</link>. Do note that you will have to install both the
        component and the language packages for the component to work.</para>

        <para>As noted on that page, Akeeba Ltd only produces the English and
        Greek language files. All other languages are contributed by third
        parties. If you spot an error please do not contact Akeeba Ltd; we
        will be unable to help you. Instead, please go to the <link
        xlink:href="https://www.transifex.com/projects/p/akeebasubs/">translation
        project page</link> to find the contact information of the translator.
        Abandoned languages will show the maintainer being our staff member
        "nikosdion". In this case you're out of luck; if you want to fix the
        language package you will need to volunteer to take over the
        translation project for that language.</para>
      </note>

      <section>
        <title>Installing or manually updating the component and language
        files</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <para>Just like with most Joomla! extensions there are two ways to
        install or manually update Akeeba Subscriptions on your site:</para>

        <itemizedlist>
          <listitem>
            <para>Upload and install. That's the typical extension
            installation method for Joomla! extensions. It rarely
            fails.</para>
          </listitem>

          <listitem>
            <para>Manual installation. This is the hardest, but virtually
            fail-safe, installation method.</para>
          </listitem>
        </itemizedlist>

        <para>Please note that installing and updating Akeeba Subscriptions
        (and almost all Joomla! extensions) is actually the same thing. If you
        want to update Akeeba Subscriptions please remember that you <emphasis
        role="bold">MUST NOT</emphasis> uninstall it before installing the new
        version! When you uninstall Akeeba Subscriptions you will lose all
        your settings. This is definitely something you do not want to happen!
        Instead, simply install the new version on top of the old one. Joomla!
        will figure out that you are doing an update and will treat it as
        such, automatically.</para>

        <tip>
          <para>If you find that after installing or updating Akeeba
          Subscriptions it is missing some features or doesn't work, please
          try installing the same version a second time, without uninstalling
          the component. The reason is that very few times the Joomla!
          extensions installer infrastructure gets confused and fails to copy
          some files or entire folders. By repeating the installation you
          force it to copy the missing files and folders, solving the
          problem.</para>
        </tip>

        <section xml:id="installing-upload">
          <title>Upload and install.</title>

          <warning>
            <para>NO SUPPORT. We have discontinued support for this component.
            It is now a developer's product. This means that we will not
            provide any kind of support, help, instructions, custom feature
            implementations or any other kind of work related to this
            component for a fee or for free.</para>
          </warning>

          <para>You can download the latest installation packages our site's
          <link
          xlink:href="https://www.akeebabackup.com/download/official/akeeba-subscriptions.html">download
          page for Akeeba Subscriptions</link>. Please note that the latest
          version is always on top. If you have an older version of Joomla! or
          PHP please consult our <link
          xlink:href="https://www.akeebabackup.com/compatibility.html">Compatibility
          page</link> to find the version of Akeeba Subscriptions compatible
          with your Joomla! and PHP versions. In either case click on the
          version you want to download and install.</para>

          <para>Click on the Akeeba Subscriptions item to download the ZIP
          installation package.</para>

          <para>All Akeeba Subscriptions installation packages contain the
          component and all of its associated extensions. Installing it will
          install all of these items automatically. It can also be used to
          upgrade Akeeba Subscriptions; just install it
          <emphasis>without</emphasis> uninstalling the previous
          release.</para>

          <para>In any case, do not extract the ZIP files yet!</para>

          <warning>
            <para><emphasis role="bold">Attention Mac OS X users</emphasis>!
            Safari, the default web server provided to you by Apple, is
            automatically extracting the ZIP file into a directory and removes
            the ZIP file. In order to install the extension through Joomla!'s
            extensions installer you must select that directory, right-click
            on it and select Compress to get a ZIP file of its contents. This
            behaviour was changed in Mac OS X Mountain Lion, but people
            upgrading from older versions of Mac OS X (Mac OS X Lion and
            earlier) will witness the old, automatic ZIP extraction,
            behaviour.</para>
          </warning>

          <para>Log in to your site's administrator section. Click on
          <guimenu>Extensions</guimenu>, <guimenuitem>Manage</guimenuitem>
          link on the top menu. If you are on Joomla! 3.x please click on the
          <guilabel>Upload Package File</guilabel> tab. Locate the
          <guibutton>Browse</guibutton> button next to the <guilabel>Extension
          package file</guilabel> (Joomla! 3.2 and later) field. Locate the
          installation ZIP file you had previously downloaded and select it.
          Back to the page, click on the <guibutton>Upload &amp;
          Install</guibutton> button. After a short while,
          <trademark>Joomla!</trademark> will tell you that the component has
          been installed.</para>

          <warning>
            <para>Akeeba Subscriptions is a big extension (over 2Mb). Some
            servers do not allow you to upload files that big. If this is the
            case you can try the <link linkend="installation-manual">Manual
            installation</link> or ask your host to follow <link
            xlink:href="https://www.akeebabackup.com/documentation/troubleshooter/abinstallation.html">our
            installation troubleshooting instructions</link> under "You get an
            error about the package not being uploaded to the server".</para>

            <para>If you have WAMPServer (or any other prepackaged local
            server), please note that its default configuration does not allow
            files over 2Mb to be uploaded. To work around that you will need
            to modify your php.ini and restart the server. On WAMPserver
            left-click on the WAMP icon (the green W), click on
            <guimenu>PHP</guimenu>, <guimenuitem>php.ini</guimenuitem>. Find
            the line beginning with <code>upload_max_filesize</code>. Change
            it so that it reads:</para>

            <programlisting>upload_max_filesize = 6M</programlisting>

            <para>Save this file. Now, left-click on the WAMP icon, click on
            <guimenu>Apache</guimenu>, <guisubmenu>Service</guisubmenu>,
            <guimenuitem>Restart Service</guimenuitem> and you can now install
            the component. Editing the <filename>php.ini</filename> file
            should also work on all other servers, local and live
            alike.</para>
          </warning>

          <para>If the installation did not work, please take a look at <link
          xlink:href="https://www.akeebabackup.com/documentation/troubleshooter/abinstallation.html">our
          installation troubleshooting instructions</link> or try the <link
          linkend="installation-manual">manual installation</link> described
          below.</para>
        </section>

        <section xml:id="installation-manual">
          <title>Manual installation</title>

          <warning>
            <para>NO SUPPORT. We have discontinued support for this component.
            It is now a developer's product. This means that we will not
            provide any kind of support, help, instructions, custom feature
            implementations or any other kind of work related to this
            component for a fee or for free.</para>
          </warning>

          <para>Sometimes <trademark>Joomla!</trademark> is unable to properly
          extract ZIP archives due to technical limitations on your server. In
          this case, you can follow a manual installation procedure.</para>

          <para>You can download the latest installation packages our site's
          <link
          xlink:href="https://www.akeebabackup.com/download/official/akeeba-subscriptions.html">download
          page for Akeeba Subscriptions</link>. Please note that the latest
          version is always on top. If you have an older version of Joomla! or
          PHP please consult our <link
          xlink:href="https://www.akeebabackup.com/compatibility.html">Compatibility
          page</link> to find the version of Akeeba Subscriptions compatible
          with your Joomla! and PHP versions. In either case click on the
          version you want to download and install.</para>

          <para>Click on the Akeeba Subscriptions item to download the ZIP
          installation package.</para>

          <para>All Akeeba Subscriptions installation packages contain the
          component and all of its associated extensions. Installing it will
          install all of these items automatically. It can also be used to
          upgrade Akeeba Subscriptions; just install it
          <emphasis>without</emphasis> uninstalling the previous
          release.</para>

          <para>Before doing anything else, you have to extract the
          installation ZIP file in a subdirectory named
          <filename>akeeba</filename> on your local PC. Then, upload the
          entire subdirectory inside your site's temporary directory. At this
          point, there should be a subdirectory named
          <filename>akeeba</filename> inside your site's temporary directory
          which contains all of the ZIP package's files.</para>

          <para>If you are unsure where your site's temporary directory is
          located, you can look it up by going to the <guimenuitem>Global
          Configuration</guimenuitem>, click on the
          <guilabel>Server</guilabel> tab and take a look at the
          <guilabel>Path to Temp-folder</guilabel> setting. The default
          setting is the <filename>tmp</filename> directory under your site's
          root. Rarely, especially on automated installations using
          Fantastico, this might have been assigned the system-wide
          <filename>/tmp</filename> directory. In this case, please consult
          your host for instructions on how to upload files inside this
          directory, or about changing your <trademark>Joomla!</trademark>
          temporary directory back to the default location and making it
          writable.</para>

          <para>Assuming that you are past this uploading step, click on
          <guimenu>Extensions</guimenu>, <guimenuitem>Manage</guimenuitem>
          link on the top menu. If you are on Joomla! 3.x please click on the
          <guilabel>Install from Directory</guilabel> tab. Locate the
          <guibutton>Install Directory</guibutton> edit box. It is already
          filled in with the absolute path to your temporary directory, for
          example <filename>/var/www/joomla/tmp</filename>. Please append
          <filename>/akeeba</filename> to it. In our example, it should look
          something like <filename>/var/www/joomla/tmp/akeeba</filename>.
          Then, click on the <guibutton>Install</guibutton> button.</para>

          <para>If you still can't install Akeeba Subscriptions and you are
          receiving messages regarding unwritable directories, inability to
          move files or other similar file system related error messages,
          please consult <link
          xlink:href="https://www.akeebabackup.com/documentation/troubleshooter/abinstallation.html">our
          installation troubleshooting instructions</link>. If these
          instructions do not help please do not request support from us; we
          are unlikely to be able to help you. These errors come from your
          site set up and can best be resolved by asking your host for
          assistance or by asking other users in the <link
          xlink:href="http://forum.joomla.org">official
          <trademark>Joomla!</trademark> forums</link>.</para>
        </section>
      </section>
    </section>

    <section xml:id="update">
      <title>Automatic updates</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <bridgehead>Checking for the latest version and upgrading</bridgehead>

      <para>You can easily check for the latest published version of the
      Akeeba Backup component by visiting <link os=""
      xlink:href="http://www.akeebabackup.com/latest">http://www.akeebabackup.com/latest</link>.
      The page lists the version and release date of the latest Akeeba
      Subscriptions release. You can check it against the data which appear on
      the right-hand pane of your Akeeba Subscriptions Control Panel. If your
      release is out of date, simply click on the Download link to download
      the install package of the latest release to your PC.</para>

      <bridgehead>Updating automatically with the Joomla! extensions update
      feature</bridgehead>

      <para>Akeeba Subscriptions can be updated just like any other Joomla!
      extension, using the Joomla! extensions update feature. Joomla! is
      responsible for finding the updates, downloading them and installing
      them on your server. You can access the extensions update feature in two
      different ways:</para>

      <itemizedlist>
        <listitem>
          <para>From the icon your Joomla! administrator control panel page.
          On Joomla! 3 you will find the icon in the left-hand sidebar, under
          the <guilabel>Maintenance</guilabel> header. It has an icon which
          looks like an empty star. When there are updates found for any of
          your extensions you will see the <guilabel>Updates are
          available</guilabel> message. Clicking on it will get you to the
          Update page of Joomla! Extensions Manager.</para>
        </listitem>

        <listitem>
          <para>From the top menu of your Joomla! administrator click on
          <guimenu>Extensions</guimenu>, <guimenuitem>Extensions
          Manager</guimenuitem>. From that page click on the
          <guilabel>Update</guilabel> tab found in the left-hand sidebar on
          Joomla! 3. Clicking on it will get you to the Update page of Joomla!
          Extensions Manager.</para>
        </listitem>
      </itemizedlist>

      <para>If you do not see the updates try clicking on the <guibutton>Find
      Updates</guibutton> button in the toolbar. If you do not see the updates
      still you may want to wait up to 24 hours before retrying. This has to
      do with the way the update CDN works and how Joomla! caches the update
      information. Unfortunately we can't do anything about it.</para>

      <para>If there is an update available for Akeeba Subscriptions tick the
      box to the left of its row and then click on the
      <guibutton>Update</guibutton> button in the toolbar. Joomla! will now
      download and install the update.</para>

      <para>If Joomla! cannot download the package, please use one of the
      manual update methods described below. If, however you get an error
      about copying files, folder not found or a cryptic "-1" error please
      follow <link
      xlink:href="https://www.akeebabackup.com/documentation/troubleshooter/abinstallation.html">our
      installation troubleshooting instructions</link>.</para>

      <bridgehead>Updating manually</bridgehead>

      <para>As noted in the <link linkend="installing">installation
      section</link>, installing and updating Akeeba Subscriptions is actually
      the same thing. If the automatic update using Joomla!'s extensions
      update feature does not work, please install the update manually
      following the instructions in the <link
      linkend="installing">installation section of this
      documentation</link>.</para>

      <important>
        <para>When installing an update manually you MUST NOT uninstall your
        existing version of Akeeba Subscriptions. Uninstalling Akeeba
        Subscriptions will always remove all your settings. You definitely not
        want that to happen!</para>
      </important>
    </section>

    <section xml:id="requesting-support">
      <title>Requesting support and reporting bugs</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Akeeba Subscriptions is a product for developers. This means that
      absolutely no support, free or paid, is offered for Akeeba Subscriptions
      by our company.</para>

      <para>If you have found a bug please submit the fix as a Pull Request to
      <link xlink:href="https://github.com/akeeba/akeebasubs">our GitHub
      project</link>. Please note that requests for support through our GitHub
      page or any other means will not be answered.</para>
    </section>

    <section xml:id="uninstallation">
      <title>Uninstallation</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>You can uninstall the component just like any other Joomla!
      component. In your site's back-end, just go to <guimenuitem>Extensions
      Manager</guimenuitem>, click on <guilabel>Uninstall</guilabel>, select
      Akeeba Subscriptions and click on <guibutton>Uninstall</guibutton>. This
      will completely remove Akeeba Subscriptions including all plugins and
      modules.</para>
    </section>
  </chapter>

  <chapter xml:id="setup-and-usage">
    <title>Initial set-up and usage</title>

    <section xml:id="how-subscriptions-work">
      <title>How subscriptions work and Quick Start</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Before you begin setting up Akeeba Subscriptions, you should be
      aware of the way subscriptions work under the hood. The most basic
      concept is the subscription level (referred to simply as Level from now
      on). This is what you are selling to your customers. Your customers buy
      a subscription to a Level. The composite piece of information containing
      the Level, payment information and expiration time is called a
      Subscription.</para>

      <para>When a user enters the subscription page, Akeeba Subscriptions
      first fetches the price associated with the Level your user wants to
      buy. It will then try to understand if there is an applicable discount.
      First, it will look into Upgrade definitions and produce a list of
      upgrade rules applicable for the user and the Level he wishes to buy. If
      there are multiple applicable upgrade rules, the one giving the maximum
      discount is elected. Next up, it takes a look at the coupon code, is
      supplied. If it is an active coupon and your user can use it to get a
      discount, the coupon's discount is calculated. In the case where there
      are two discounts, both an upgrade discount and a coupon discount, the
      highest one is elected. The level price minus the discount is called the
      Net Price.</para>

      <para>Right up, Akeeba Subscriptions will try to determine the
      applicable tax by going through all the tax rules. It will go through
      the tax rules and keep the one which is the closest match to the
      country, zip code, city and VIES registration status. If no match is
      found, Akeeba Subscriptions will select the tax rate defined in the very
      first tax rule you have defined. This is called the Tax Amount. The sum
      of the Net Price and Tax Amount is the Gross Amount and that's what the
      user will have to pay.</para>

      <para>When the user hits the Subscribe button, Akeeba Subscriptions will
      first check if this is a new or existing user. If it is a new user, it
      will create a new –but inactive– user account based on the information
      the user has supplied. A new, inactive subscription will be created for
      your user and he's redirected to the payment gateway. Exception: if you
      have an 100% or more discount (which means that the user shall pay
      nothing) he's not redirected to the payment gateway. Instead, he's
      redirected to the Subscription Confirmation page and his subscription
      becomes instantly active.</para>

      <para>Once the user finishes the payment, he's redirected to the
      Subscription Confirmation page. If he changes his mind and cancels the
      payment, he will be taken to the Subscription Cancellation page. The
      text on each page is determined by the relevant fields in the Level
      configuration.</para>

      <para>At the same time, your payment processor will send a post-back to
      your site, notifying Akeeba Subscriptions about the payment status. If
      the payment is marked as complete, the subscription is activated. Its
      start and expiration date are calculated based on the exact date and
      time that the payment post-back was received and the Level's configured
      length. If the associated user account was marked as blocked (inactive),
      it is activated. If any integrations are set up, they will run. For
      example, you may be adding users to JUGA groups upon a successful
      subscription.</para>

      <para>Based on the above, you need to configure the following –in the
      order shown– for Akeeba Subscriptions to work:</para>

      <itemizedlist>
        <listitem>
          <para>Configuration Options - well, that's just the currency you're
          selling in!</para>
        </listitem>

        <listitem>
          <para>Subscription Levels - the subscription products you are
          selling, i.e. your inventory</para>
        </listitem>

        <listitem>
          <para>Tax Rules - determine if the user has to be charged taxes over
          the subscription amount and how much that will be</para>
        </listitem>

        <listitem>
          <para>Upgrade rules - (optional) discounts based on what other
          products the user has bought and how long he's been a subscriber to
          them</para>
        </listitem>

        <listitem>
          <para>Coupons - (optional) discount codes used for promotions</para>
        </listitem>
      </itemizedlist>

      <para>Alternatively, you can import Subscription Levels and Coupons from
      other subscription systems instead of manually defining them.</para>

      <para>The sections below will tell you how to go through each of these
      steps.</para>

      <bridgehead>How to make it all work together to make money from your
      site</bridgehead>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>What we described above cover just one small part of Akeeba
      Subscriptions' functionality: how to create something that your clients
      can buy and how to sell it. Obviously, your clients expect to get
      something for the money they paid. In other words, you need to make the
      subscriptions <emphasis>do something</emphasis> on your site. Akeeba
      Subscriptions' integration plugins are that magic glue which binds
      together subscriptions and features on your site.</para>

      <para>In order to make it easier to understand, let's take a simple
      example. You want to set up a magazine site. Subscribers will have
      access to premium content. You want to sell 3, 6 and 12 months
      subscriptions. How can you do it? Very easily, but you have to start
      <emphasis>backwards</emphasis>. We will set up you site's Joomla! ACL to
      limit access to the premium content, Akeeba Subscriptions to sell
      subscriptions to the premium content and the <guilabel>Akeeba
      Subscriptions - Joomla! Usergroups Integration</guilabel> plugin as the
      glue to link Joomla! ACL (usergroups) to subscriptions. Still with us?
      Let's see how we can do it in 5 minutes or less.</para>

      <bridgehead renderas="sect4">Setting up Joomla! access control (ACL) for
      your content</bridgehead>

      <para>First, we have to ensure that premium content can only be accessed
      by subscribers only. Using Joomla!'s powerful access control features it
      is very easy to do so. Before we begin, we strongly recommend reading
      some more about how Joomla! access control works:</para>

      <itemizedlist>
        <listitem>
          <para><link
          xlink:href="http://magazine.joomla.org/issues/issue-jan-2016/item/637-Joomla-1-6,-1-7,-and-2-5-ACL-Concepts-Overview">ACL
          concepts overview</link> (beginners)</para>
        </listitem>

        <listitem>
          <para><link
          xlink:href="http://magazine.joomla.org/issues/issue-feb-2016/item/639-Joomla-ACL-Access-Levels">Joomla!
          ACL: Access Levels</link> (beginners; scroll all the way down for a
          very good video)</para>
        </listitem>

        <listitem>
          <para><link
          xlink:href="http://magazine.joomla.org/issues/Issue-Aug-2016/item/825-A-Case-for-Role-Based-ACL">A
          case for role-based ACL</link> (advanced)</para>
        </listitem>

        <listitem>
          <para><link
          xlink:href="http://magazine.joomla.org/issues/Issue-Sept-2016/item/856-Implementing-Role-Based-ACL">Implementing
          role-based ACL</link> (advanced)</para>
        </listitem>

        <listitem>
          <para><link xlink:href="http://www.aclmanager.net/">ACL
          Manager</link> is a third party commercial component which can help
          you effectively managing ACLs on complex sites.</para>
        </listitem>
      </itemizedlist>

      <para>Alternatively, you'll have to just take our word and follow our
      easy instructions below. So, let's get down to business! You need to
      create a Joomla! user group called <option>Subscribers</option>. In
      order to do so go to <guimenu>Users</guimenu>,
      <guimenuitem>Groups</guimenuitem> menu item.</para>

      <screenshot>
        <info>
          <title>Going into the User Groups page</title>
        </info>

        <mediaobject>
          <imageobject>
            <imagedata depth=" " fileref="images/3.png" scalefit="1"
                       width="320px"/>
          </imageobject>
        </mediaobject>
      </screenshot>

      <para>Then click on the <guibutton>New</guibutton> button.</para>

      <screenshot>
        <info>
          <title>The User Groups page</title>
        </info>

        <mediaobject>
          <imageobject>
            <imagedata depth="50%" fileref="images/4.png" scalefit="1"
                       width="95%"/>
          </imageobject>
        </mediaobject>
      </screenshot>

      <para>Enter the following:</para>

      <itemizedlist>
        <listitem>
          <para><guilabel>Group title</guilabel>: Subscriber</para>
        </listitem>

        <listitem>
          <para><guilabel>Group Parent</guilabel>: Public</para>
        </listitem>
      </itemizedlist>

      <screenshot>
        <info>
          <title>Adding a new user group</title>
        </info>

        <mediaobject>
          <imageobject>
            <imagedata depth="50%" fileref="images/5.png" scalefit="1"
                       width="95%"/>
          </imageobject>
        </mediaobject>
      </screenshot>

      <para>and click on <guibutton>Save &amp; Close</guibutton>. No, we will
      create a new Viewing Access Level called <option>Premium
      Content</option>, adding only the new Subscribers group to it. Click on
      <guilabel>Viewing Access Level</guilabel> and then click on
      <guibutton>New</guibutton>.</para>

      <screenshot>
        <info>
          <title>The Viewing Access Level page</title>
        </info>

        <mediaobject>
          <imageobject>
            <imagedata depth="50%" fileref="images/6.png" scalefit="1"
                       width="95%"/>
          </imageobject>
        </mediaobject>
      </screenshot>

      <para>In the new page enter Premium Content as your level title and
      select ONLY the Subscriber group. There are two very common mistakes
      we've seen people doing:</para>

      <itemizedlist>
        <listitem>
          <para>Using the Registered or any other built-in user group instead
          of a dedicated Subscriber user group. This is wrong. Without getting
          into too much technical details and rare exceptions, you should keep
          in mind that all Joomla! user accounts belong to the Registered
          group. Otherwise they wouldn't be able to log in at all. If you use
          the Registered group as your subscribers group then all users are
          subscribers, no matter if they paid or not. This is not a bug in
          Akeeba Subscriptions, it's how Joomla! works.</para>
        </listitem>

        <listitem>
          <para>Some people select both the Subscriber and Registered (or,
          worse, Public!) user groups in their Viewing Access Level. This is
          wrong. A user has access to content assigned to a particular Viewing
          Access Level if he belongs to <emphasis>any</emphasis> of the groups
          selected in the Viewing Access Level or one of their children
          groups. For example, if you select the Manager group in a Viewing
          Access Level then user who belong to either the Manager or the
          Administrator user group have access to the content. This happens
          because the Administrator group is a child (is
          <emphasis>under</emphasis>) the Manager group. This takes some
          getting used to, no doubt. Again, this is not a bug with Akeeba
          Subscriptions, it's the way Joomla! is designed to work.</para>
        </listitem>
      </itemizedlist>

      <screenshot>
        <info>
          <title>Creating a new Viewing Access Level</title>
        </info>

        <mediaobject>
          <imageobject>
            <imagedata depth="50%" fileref="images/7.png" scalefit="1"
                       width="95%"/>
          </imageobject>
        </mediaobject>
      </screenshot>

      <para>Then click on <guibutton>Save &amp; Close</guibutton>.</para>

      <para>Then you have to set the Access to all the premium Joomla!
      articles and components to, you guessed it, Premium Content. The easiest
      way is using the batch processing feature of Joomla!. Go to Joomla!
      article manager, select all the subscriber-only articles and scroll
      down. You'll see the <guilabel>Batch process the selected articles
      area</guilabel>. Set the <guilabel>Set Access Level</guilabel> to
      <option>Premium Content</option> and click on
      <guibutton>Process</guibutton>. Done!</para>

      <screenshot>
        <info>
          <title>Assigning a different access level to many articles at
          once</title>
        </info>

        <mediaobject>
          <imageobject>
            <imagedata depth="50%" fileref="images/8.png" scalefit="1"
                       width="95%"/>
          </imageobject>
        </mediaobject>
      </screenshot>

      <bridgehead renderas="sect4">Using Akeeba Subscriptions to sell access
      to your site</bridgehead>

      <para>Before we go back to defining our subscription levels, you have to
      do one small thing. Go to the Extensions, Plugin Manager page and make
      sure that the "Akeeba Subscriptions - Joomla! Usergroups Integration"
      plugin is enabled.</para>

      <screenshot>
        <info>
          <title>Checking that the "Akeeba Subscriptions - Joomla! Usergroups
          Integration" plugin is enabled</title>
        </info>

        <mediaobject>
          <imageobject>
            <imagedata depth="50%" fileref="images/9.png" scalefit="1"
                       width="95%"/>
          </imageobject>
        </mediaobject>
      </screenshot>

      <para>Then, we will set up the three subscription levels. Go to
      <guimenu>Components</guimenu>, <guimenuitem>Akeeba
      Subscriptions</guimenuitem>. Click on the <guimenu>Setup</guimenu>,
      <guimenuitem>Subscription Levels</guimenuitem> menu item.</para>

      <screenshot>
        <info>
          <title>Going into the Subscription Levels editor</title>
        </info>

        <mediaobject>
          <imageobject>
            <imagedata depth=" " fileref="images/10.png" scalefit="1"
                       width="400px"/>
          </imageobject>
        </mediaobject>
      </screenshot>

      <para>The first level is called <option>3MONTHS</option> and has a
      duration of 90 days. The second one is called <option>6MONTHS</option>
      and has a length of 180 days. The last one is called
      <option>12MONTHS</option> and has a length of 365 days. For each plugin,
      in the Integration area, she has to click on the User Groups tab. Most
      likely it's the only tab and it's already active. See those "Add to
      Joomla! Usergroups" and "Remove from Joomla! Usergroups" lists? She just
      has to select the <option>Subscribers</option> group on each one of
      them. This tells Akeeba Subscriptions to add the subscribers to the
      Subscribers group once their subscription is enabled and remove them
      from this group when their subscription expires.</para>

      <important>
        <para>Make sure each subscription level has its Published option set
        to Yes, otherwise users won't be able to subscribe to it.</para>
      </important>

      <para>For example, here's how to set up the 3MONTHS level:</para>

      <screenshot>
        <info>
          <title>Creating a new subscription level</title>
        </info>

        <mediaobject>
          <imageobject>
            <imagedata depth=" 80%" fileref="images/11.png" scalefit="1"
                       width="90% "/>
          </imageobject>
        </mediaobject>
      </screenshot>

      <para>Don't be intimidated by the many options you see in here. Stick to
      the basic option and don't touch what you don't understand. Once you set
      up your site you have all the time in the world to read the
      documentation and deal with the more advanced options.</para>

      <para>One important detail left: handling user payments. Essentially,
      you need a payments processor that Akeeba Subscriptions can talk to and
      ask them to handle the gory details of payments. The easiest option is
      PayPal. Setting it up is very easy, indeed. For the purpose of this
      tutorial we are going to demonstrate how you can integrate with PayPal
      payments. PayPal allows you to start selling without filing out
      paperwork until you reach a certain income level. Of course, Akeeba
      Subscriptions supports dozen of payment processors other than PayPal. If
      you haven't done so already, you have to go to PayPal and open a new
      account.</para>

      <para>Now back you go to your site's Plugin Manager and find the "Akeeba
      Subscriptions - PayPal integration" plugin.</para>

      <screenshot>
        <info>
          <title>Finding the "Akeeba Subscriptions - PayPal integration"
          plugin</title>
        </info>

        <mediaobject>
          <imageobject>
            <imagedata depth="50%" fileref="images/12.png" scalefit="1"
                       width="95%"/>
          </imageobject>
        </mediaobject>
      </screenshot>

      <para>Click on it to edit its configuration. All you need to do is enter
      your email address, the same one you used to open your PayPal account,
      into the Merchant ID or Email field. Make sure that Status is set to
      Enabled and Access set to Public.</para>

      <warning>
        <para>Never, ever, <emphasis role="bold">E V E R</emphasis>, set the
        Access of payment plugins to anything else than Public.</para>
      </warning>

      <screenshot>
        <info>
          <title>Configuring the "Akeeba Subscriptions - PayPal integration"
          plugin</title>
        </info>

        <mediaobject>
          <imageobject>
            <imagedata depth="50%" fileref="images/13.png" scalefit="1"
                       width="95%"/>
          </imageobject>
        </mediaobject>
      </screenshot>

      <para>Save and close. Done!</para>

      <para>The final touch is creating a menu item so that your users can
      subscribe. Go to Menus, Main Menu, Add New Menu Item.</para>

      <screenshot>
        <info>
          <title>Getting read to add a menu</title>
        </info>

        <mediaobject>
          <imageobject>
            <imagedata depth=" " fileref="images/14.png" scalefit="1"
                       width="350px"/>
          </imageobject>
        </mediaobject>
      </screenshot>

      <para>In the <guilabel>Menu Item Type</guilabel> area click on
      <guibutton>Select</guibutton>. A popup appears:</para>

      <screenshot>
        <info>
          <title>The menu item popup</title>
        </info>

        <mediaobject>
          <imageobject>
            <imagedata depth="50%" fileref="images/15.png" scalefit="1"
                       width="500px"/>
          </imageobject>
        </mediaobject>
      </screenshot>

      <para>You will need one of the "All Levels" option under Akeeba
      Subscriptions. We recommend using the <option>All Levels (Awesome
      layout)</option> when you have less than 5 subscription levels. Set up
      all other menu options to your liking. And that's how it shows in the
      front-end:</para>

      <screenshot>
        <info>
          <title>The Awesome layout</title>
        </info>

        <mediaobject>
          <imageobject>
            <imagedata depth="50%" fileref="images/16.png" scalefit="1"
                       width="500px"/>
          </imageobject>
        </mediaobject>
      </screenshot>

      <para>That's all folks! You are now ready to start making some money
      from your site!</para>
    </section>

    <section xml:id="configuration">
      <title>Configuration options</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Click on <guibutton>Options</guibutton> in the toolbar links area.
      The available options are:</para>

      <para><guilabel>Currency Options</guilabel></para>

      <variablelist>
        <varlistentry>
          <term>Currency code</term>

          <listitem>
            <para>The <link xlink:href="http://www.xe.com/iso4217.php">three
            letter ISO 4217 currency code</link>. Common values are EUR
            (Euro), USD (United States Dollar), GBP (Great Britain Pound), CAD
            (Canada Dollar), AUD (Australia Dollar), JPY (Japan Yen), CNY
            (China Yuan) and MXN (Mexico, Pesos). This is used on virtually
            all of the payment processors to notify them about the currency
            you're selling your goods in. Please remember that all of your
            payment processors must support the selected currency. Some
            payment processors only accept a subset of currencies, most
            usually only one of USD, GBP and EUR.</para>

            <para>Default: EUR (Euro)</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Currency Symbol</term>

          <listitem>
            <para>The currency symbol to be shown to your web visitors, e.g. €
            for Euro, £ for British Pound, $ for US/Australia/Canada Dollar or
            ¥ for Japan Yen. This is free form text used to prefix the prices.
            If your currency has no special symbol you can use text to
            describe it, or leave blank to completely omit the currency symbol
            display throughout the components.</para>

            <para>Default: € (Euro symbol)</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Currency sign position</term>

          <listitem>
            <para>Determines if the currency symbol should appear before or
            after the amount.</para>

            <para>Default: After the amount</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <para><guilabel>Back-end display</guilabel></para>

      <variablelist>
        <varlistentry>
          <term>Show Gravatar images in Subscriptions page</term>

          <listitem>
            <para>When enabled, Gravatar images are shown next to each user in
            the Subscriptions page. If disabled, there will be no avatar
            images displayed.</para>

            <para>Default: Yes</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Images directory</term>

          <listitem>
            <para>The directory, relative to your site's root, where the
            subscription level images will be stored.</para>

            <para>Default: images</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <para><guilabel>Front-end display</guilabel></para>

      <variablelist>
        <varlistentry>
          <term>Show steps bar</term>

          <listitem>
            <para>Should we render the steps bar (1-2-3) on the top of the
            page?</para>

            <para>Default: Yes</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Display sign-up fee</term>

          <listitem>
            <para>If you have subscriptions with a sign-up fee defined (which
            is charged on top of the regular price) you have the following
            display options:</para>

            <itemizedlist>
              <listitem>
                <para><option>Don't display</option>. The sign-up fee will not
                be displayed, but it will be included in the price the user is
                called to pay. We strongly recommend against using this option
                as the price the user sees is different than the price the
                user is called to pay which may be illegal in some
                jurisdictions.</para>
              </listitem>

              <listitem>
                <para><option>Include in price</option>. The sign-up fee will
                be added to the price and the total amount will be displayed
                instead of the price of the subscription.</para>
              </listitem>

              <listitem>
                <para><option>Show below the price</option>. The sign-up fee
                appears in a separate field below the regular price. This is
                the default option.</para>
              </listitem>
            </itemizedlist>

            <para>In the latter two cases, the sign-up fee is only included /
            displayed if the user has to pay it. If the user is already logged
            in and has already subscribed in the past to the subscription
            level the sign-up fee will not be included / displayed.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Allow collection of personal information and business
          registrations</term>

          <listitem>
            <para>When enabled, Akeeba Subscriptions will ask for address
            information and business registration information. This
            information is required if you have to issue invoices or receipts
            to your customers. On some jurisdictions, the automatic receipt
            generated by, for example, PayPal is adequate. In this case, there
            is no point collection this information on your site. In this
            case, set this option to No and Akeeba Subscriptions will not ask
            your customers for their address, city, state, ZIP, country,
            business registration, business name, occupation or VAT number.
            This also means that AS will no longer allow different tax rates
            based on city, state, country or VIES registration status; the
            default (first) tax rate will be applied instead.</para>

            <para>Default: Yes</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Business registration</term>

          <listitem>
            <para>Akeeba Subscriptions normally allows subscribers to register
            either as individuals or as businesses. Depending on your target
            audience and local tax laws it is possible that you do not want
            this at all or, on the contrary, you only want businesses to
            subscribe to your site. This option allows you to modify the
            behaviour of Akeeba Subscriptions with regards to business
            registration handling. The possible options are:</para>

            <itemizedlist>
              <listitem>
                <para><option>Auto</option>. Let the user select if they want
                to register as an individual or as a business. This is the
                default behaviour.</para>
              </listitem>
            </itemizedlist>

            <itemizedlist>
              <listitem>
                <para><option>Never</option>. Do no allow the users to
                register as a business. All of your subscribers will be
                individuals, not businesses.</para>
              </listitem>
            </itemizedlist>

            <itemizedlist>
              <listitem>
                <para><option>Always</option>. Only allow the users to
                register as a business. All of your subscribers will be
                businesses, not individuals.</para>
              </listitem>
            </itemizedlist>

            <important>
              <para>If <guilabel>Allow collection of personal information and
              business registrations</guilabel> above is set to
              <option>No</option> the setting of this option will be ignored
              and the effect will be the same as selecting
              <option>Never</option>.</para>
            </important>

            <para>Default: Auto.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Display regular price</term>

          <listitem>
            <para>Akeeba Subscriptions normally displays the regular price,
            i.e. the price you've set up in the subscription level the user is
            trying to subscribe to. If you don't intend to have any discounts
            or taxes you may want to hide this and only show the total amount
            to be paid. This option allows you to do that. The available
            settings are:</para>

            <itemizedlist>
              <listitem>
                <para><option>Yes</option>. Always show the regular
                price.</para>
              </listitem>

              <listitem>
                <para><option>No</option>. Never show the regular
                price.</para>
              </listitem>

              <listitem>
                <para><option>Auto</option>. Only show the regular price if
                there is tax and/or a discount applied to price. Recommended
                setting.</para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Display discount amount</term>

          <listitem>
            <para>Akeeba Subscriptions normally displays the discount price,
            i.e. the amount deducted from the price as the result of a coupon
            code, upgrade rule or subscription level relation. If you don't
            intend to have any discounts you may want to hide this. This
            option allows you to do that. The available settings are:</para>

            <itemizedlist>
              <listitem>
                <para><option>Yes</option>. Always show the discount, even if
                it's zero.</para>
              </listitem>

              <listitem>
                <para><option>No</option>. Never show the discount. Only use
                if you're sure no discount will ever be applied.</para>
              </listitem>

              <listitem>
                <para><option>Auto</option>. Only show the discount if it's
                non zero (e.g. a coupon or upgrade rule is applied).
                Recommended setting.</para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Display tax amount</term>

          <listitem>
            <para>Akeeba Subscriptions normally displays the tax amount, i.e.
            the amount added to the price as the result of a tax rule. If you
            don't intend to have any tax rules you may want to hide this. This
            option allows you to do that. The available settings are:</para>

            <itemizedlist>
              <listitem>
                <para><option>Yes</option>. Always show the tax amount, even
                if it's zero.</para>
              </listitem>

              <listitem>
                <para><option>No</option>. Never show the tax amount. Only use
                if you're sure no tax amount will ever be applied.</para>
              </listitem>

              <listitem>
                <para><option>Auto</option>. Only show the tax amount if it's
                non zero (e.g. a tax rule is applied to this subscription).
                Recommended setting.</para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Display coupon field</term>

          <listitem>
            <para>Akeeba Subscriptions normally displays a field where the
            user can enter a coupon code. If you do not intend to be using
            coupon codes you may want to hide this field. This option allows
            you to do that. The available settings are:</para>

            <itemizedlist>
              <listitem>
                <para><option>Yes</option>. Always show the coupon code
                field.</para>
              </listitem>

              <listitem>
                <para><option>No</option>. Never show the coupon code
                field.<important>
                    <para>If you enable Require valid coupon and set Display
                    coupon field to No your users will never be able to
                    subscribe!</para>
                  </important></para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Show countries</term>

          <listitem>
            <para>This option controls which countries will be shown in the
            country selection box. If left empty (default) no filtering is
            applied to the country list. Provide a comma separated list of ISO
            country codes to limit the countries which will be shown in the
            subscriptions page. For example entering US,CA,DE will only show
            USA, Canada and Germany in the list.</para>

            <note>
              <para>This option, when set, overrides the Hide countries option
              below.</para>
            </note>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Hide countries</term>

          <listitem>
            <para>This option controls which countries will not be shown in
            the country selection box. If left empty (default) no filtering is
            applied to the country list. Provide a comma separated list of ISO
            country codes not to be shown in the subscriptions page. For
            example entering US,CA,DE will show all countries EXCEPT USA,
            Canada and Germany in the list.</para>

            <note>
              <para>This option is overridden by the Show countries options if
              both options are set.</para>
            </note>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Display state field</term>

          <listitem>
            <para>Set to No to hide the State field from the subscription
            page. Only makes sense if you do not want to collect the state /
            province of the user, e.g when all of your subscribers only come
            from a country where no state / provinces are provided or required
            to be selected to validate an address.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Show login box</term>

          <listitem>
            <para>When enabled, if the user is not logged in yet when he tries
            to subscribe, a login box will be displayed on top of the
            subscriptions page, allowing her to login to the site. If
            disabled, this login box will not be disabled. Many people have
            reported that the login feature is confusing and redundant, as
            there is usually a login button or module for the same function,
            hence this option.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Show renew</term>

          <listitem>
            <para>When enabled, the front-end subscriptions list (the "My
            Subscriptions" page) will show a Renew link next to each
            subscription. Please note that only renewable subscriptions (the
            subscription level is still published and it doesn't have the
            Forbid Renew checked) will have such a link next to them when this
            option is enabled.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Allow non-EU VAT entry</term>

          <listitem>
            <para>By default, only European Unions are allowed to enter their
            VAT number, for VIES registration checking. When you enable this
            option business users from countries outside the EU will be able
            to enter their VAT number. Their VAT number will, of course, not
            be checked for VIES registration and will always be accepted
            without any further check.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Payment method rendering</term>

          <listitem>
            <para>How are the payment method going to be rendered in the
            bottom of the new subscription page? The <guilabel>Text
            Only</guilabel> option renders them as drop-down list (combo box),
            i.e. the way they were rendered in Akeeba Subscriptions up to and
            including 2.1.0. The <guilabel>Images Only</guilabel> displays a
            radio list of images (logos). The images can be modified at the
            plugin parameters. Finally, the <guilabel>Images and
            Text</guilabel> displays the same radio list as the Images Only
            option, but next to each image you now have the (user-defined)
            payment option title.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Custom date format</term>

          <listitem>
            <para>You can customise the date and time format for the front-end
            display. For more information regarding date/time format strings,
            please consult the PHP manual:
            http://www.php.net/manual/en/function.date.php</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Include tax rate in display</term>

          <listitem>
            <para>When this option is enabled, the front-end display of prices
            will include the tax amount. Moreover, if there is a non zero tax
            applied to the price there will be a label "incl. X% VAT" next to
            the tax-inclusive price. We believe that this feature should*
            satisfy the two EU directives mandating the display of
            VAT-inclusive prices and the application of a different VAT rate
            according to your client's country starting from January 1st,
            2015.</para>

            <important>
              <para>The tax percentage used for this calculation is taken from
              the Tax Rules you have defined. You might remember that tax
              rules depend on knowing the subscription level, country, state
              and city of the subscriber. This information is read from the
              database for logged in users. When a user is not logged in no
              tax will be calculated UNLESS you publish a "Akeeba
              Subscriptions - Country selection for tax display" module in the
              <parameter>akeebasubscriptionslistheader</parameter> position.
              In this case Akeeba Subscriptions will try using the following
              information, in this order (the first one to yield non-empty
              results wins):</para>

              <itemizedlist>
                <listitem>
                  <para>The country selection made in the module</para>
                </listitem>

                <listitem>
                  <para>The information in the database for the currently
                  logged in user, if there is a logged in user and he's
                  already or had once been a subscriber</para>
                </listitem>

                <listitem>
                  <para>The country detected by the user's IP address (this
                  feature requires you to download and install the optional
                  <link
                  xlink:href="https://www.akeebabackup.com/download/akgeoip.html">Akeeba
                  GeoIP Provider Plugin</link> from our site)</para>
                </listitem>
              </itemizedlist>
            </important>

            <para>Example: Let's say you have a subscription level which costs
            10 EUR. Let's say you have a client from Germany with applicable
            VAT rate 19%. The price of the subscription level will be listed
            as 11.90 EUR (that's 10 EUR plus 19% VAT).</para>

            <warning>
              <para>* We are not lawyers and we are not accountants, as a
              result we are not allowed to give you accounting and legal
              advice. Please consult with your accountant and lawyer to make
              sure that this solution is legal in the country you are based
              in. Complying with local legislation and regulations is your
              responsibility. We do not accept any responsibility or liability
              whatsoever.</para>
            </warning>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Require valid coupon</term>

          <listitem>
            <para>There are some cases when you want your users to enter an
            "authorization code" before they can subscribe. One prime example
            is a complimentary subscription to your site once a user buys a
            tangible or intangible good from you, or when you want to track
            the origin of your subscribers. When this option is enabled it
            allows you to use Akeeba Subscriptions in such a scenario: in
            order for the user to be allowed to subscribe he will have to
            provide a valid coupon code. If no valid code is provided the user
            will not be allowed to proceed with the subscription. You can
            always create coupon codes withe their type set to Amount and
            their value set to 0 to create "authorization codes" which only
            allow users to subscribe but not give them any discount.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Confirm free subscriptions</term>

          <listitem>
            <para>When disabled (default) free subscriptions –that is,
            subscriptions to subscription levels with a price of 0– will be
            activated immediately. If a new user account was created for a
            free subscription it will enabled automatically.</para>

            <para>When this option is enabled, the subscription to a
            subscription level with a price of 0 will be activated
            automatically, but the new user account will not. Instead, the
            standard Joomla! user activation email will be sent out, using
            Joomla!'s own code. The activation link is handled by Joomla!
            itself, NOT Akeeba Subscriptions.</para>

            <para>The email which is sent by this feature depends on your
            Joomla! User Manager setup. Go to Joomla!'s <guilabel>User
            Manager</guilabel> and click on the <guibutton>Options</guibutton>
            button. In the <guilabel>Component</guilabel> area you have to set
            <guilabel>New User Activation</guilabel> to either
            <option>Self</option> or <option>Admin</option>. When you select
            Self an email will be sent to the user with the free subscription
            containing an activation link. Visiting it will activate his user
            account. When it is set to Admin the administrators of the site
            will receive an email which will allow them to manually activate
            the user with the free subscription. If you select
            <option>None</option> then no email is sent and the free
            subscribers will never get activated! Please remember that the
            user activation is handled by Joomla! itself and NOT Akeeba
            Subscriptions.</para>

            <para>The following warnings are about self-understood facts that
            are normally covered by common sense. Judging by a number of "bug
            reports" we have received common sense is nowhere near as common
            as we thought. So here we are:</para>

            <warning>
              <para>THE <guilabel>Allow User Registration</guilabel> OPTION
              MUST BE ENABLED IN THE JOOMLA! USER MANAGER. If this option is
              disabled you CANNOT create new users in Joomla!. No new users =
              no new subscribers. Please remember that the user activation is
              handled by Joomla! itself and NOT Akeeba Subscriptions.</para>
            </warning>

            <warning>
              <para>This option of course has effect only on subscription
              levels which are free. Free means that the price is zero
              (0).</para>
            </warning>

            <warning>
              <para>This option of course has effect only on NEW USERS. An
              existing user is already logged in, which means that he is
              already activated, which means that he doesn't need to receive
              an activation email.</para>
            </warning>

            <warning>
              <para>Your site must be able to send emails for your new users
              to receive the activation email.</para>
            </warning>

            <warning>
              <para>If you cannot get this feature to work we cannot provide
              any support for you. The code used to generate this email is
              copied directly from Joomla! itself. Please remember that the
              link for the user activation is handled by Joomla! itself and
              NOT Akeeba Subscriptions. If it doesn't work we cannot obviously
              debug Joomla!, therefore no support can be given.</para>
            </warning>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Render zero price as FREE</term>

          <listitem>
            <para>When the subscription price is zero show it as FREE instead
            of 0.00</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Summary images</term>

          <listitem>
            <para>Should we display subscription level images in the My
            Subscriptions page? If so, what is the forced width of the
            images?</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Use Akeeba Strapper</term>

          <listitem>
            <para>If your template does not use Bootstrap 2.3 you need to
            enable Akeeba Strapper to display the interface correctly. You can
            choose between front-end only, back-end only or both. You can find
            Akeeba Strapper and its configuration in your site's
            /media/strapper30 directory.</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <para><guilabel>Integrated invoicing</guilabel></para>

      <important>
        <para>These options only apply if you are using the integrated
        invoicing feature of the component, by enabling the Akeeba
        Subscriptions - Integrated Invoicing plugin</para>
      </important>

      <variablelist>
        <varlistentry>
          <term>Invoice number format</term>

          <listitem>
            <para>Normally, invoice numbers are monotonically increasing
            integers (1, 2, 3, 4, ...). Sometimes you need to be able to
            customise the format of the invoice number to match your
            preferences or requirements imposed by your local tax authorities.
            This setting allows you to define how the invoice numbers will be
            formatted. You can use a mix of text and "variables". The
            available variables are:</para>

            <variablelist>
              <varlistentry>
                <term>[D:<replaceable>x</replaceable>]</term>

                <listitem>
                  <para>Returns a specific part of the current date and time.
                  The exact part of the date/time that will be returned is
                  defined by <replaceable>x</replaceable>. This can take a
                  single letter used by <link
                  xlink:href="http://www.php.net/manual/en/function.date.php">PHP's
                  date() function</link>. For example, [D:y] will return the
                  year (four digits), [D:m] will return the month and so
                  on.</para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term>[N:<replaceable>x</replaceable>]</term>

                <listitem>
                  <para>Returns the invoice number.
                  <replaceable>x</replaceable> is the minimum length of the
                  invoice number. If the invoice number has a shorter length
                  it will be zero padded. For example, let's consider invoice
                  #12. [N:1] will return 12. [N:5] will return 00012
                  (zero-padded to five digits length).</para>
                </listitem>
              </varlistentry>
            </variablelist>

            <para>If you are unsure, use [N:1] as your invoice number
            format.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Auto-send invoices</term>

          <listitem>
            <para>When enabled the invoice will be sent by email to the user
            as soon as it's generated. Otherwise you will have to go to your
            site's back-end, Components, Akeeba Subscriptions, Invoices and
            click the envelope icon to send the invoice to the subscriber as a
            PDF file.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Override numbering</term>

          <listitem>
            <para>If this is non-zero, invoice numbering will restart with
            this number. Once the first invoice with this number is generated,
            this option will revert back to 0 automatically.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>VIES VAT notice</term>

          <listitem>
            <para>If you a VIES-registered merchant in the EU and you are
            selling to an VIES registered EU client no VAT will be charged and
            this note will be available in the [VAT_NOTICE] variable for your
            invoice template.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Certificate file</term>

          <listitem>
            <para>The name of the X.509 certificate file which will be used
            for PDF invoice signing. The file must be in PEM format and
            located in the
            administrator/components/com_akeebasubs/assets/tcpdf/certificates
            directory of your site. Only required if you NEED to produce
            signed PDF documents.</para>

            <para>For more information on signed invoice PDF files please read
            the <link linkend="signed-pdfs">Invoices as signed PDF
            files</link> section of the documentation.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Certificate secret key (optional)</term>

          <listitem>
            <para>The name of the X.509 certificate file containing the secret
            key for PDF signing. The file must be in PEM format and located in
            the
            administrator/components/com_akeebasubs/assets/tcpdf/certificates
            directory of your site.</para>

            <para>For more information on signed invoice PDF files please read
            the <link linkend="signed-pdfs">Invoices as signed PDF
            files</link> section of the documentation.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Certificate secret key password (optional)</term>

          <listitem>
            <para>The password for your secret key, used in PDF signing</para>

            <para>For more information on signed invoice PDF files please read
            the <link linkend="signed-pdfs">Invoices as signed PDF
            files</link> section of the documentation.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Extra certificates (optional)</term>

          <listitem>
            <para>The name of the X.509 certificate file containing additional
            certificates to attach to the signed PDF file, e.g. the root
            (public key) certificates of your Certificate Authority. The file
            must be in PEM format and located in the
            administrator/components/com_akeebasubs/assets/tcpdf/certificates
            directory of your site.</para>

            <para>For more information on signed invoice PDF files please read
            the <link linkend="signed-pdfs">Invoices as signed PDF
            files</link> section of the documentation.</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <para><guilabel>Updates</guilabel></para>

      <para>These options control how the updates work</para>

      <variablelist>
        <varlistentry>
          <term>Auto-update CLI settings</term>

          <listitem>
            <para>What the auto update CLI script should do: notify only (send
            email about update availability), update only (install the updated
            version) or both notify and update.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Notification frequency and Notification time</term>

          <listitem>
            <para>Maximum frequency of notification emails sent by the update
            CLI script. Actual frequency may be lower, depending on your CRON
            job settings.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Email for update notification</term>

          <listitem>
            <para>Email address to be notified about updates from the update
            CLI script. One email only.</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <para><guilabel>Permissions</guilabel></para>

      <para>This is the standard Joomla! 1.6 or later ACL permissions widget.
      The meaning of the different ACL settings* is as follows:</para>

      <variablelist>
        <varlistentry>
          <term>Configure</term>

          <listitem>
            <para>Allows the user to access the Options page of the component
            (the very page you are on right now)</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Access Administration Interface</term>

          <listitem>
            <para>Allows backend access to the component. Frontend access IS
            NOT affected by this setting!</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Create</term>

          <listitem>
            <para>Allows the creation of new records on any backend page (e.g.
            Subscription Levels, Subscriptions, Users, Tax Rules, Coupons and
            so on)</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Delete</term>

          <listitem>
            <para>Allows the deletion of records on any backend page</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Edit</term>

          <listitem>
            <para>Allows the user to edit any record on any backend
            page</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Edit State</term>

          <listitem>
            <para>Allows the user to publish/unpublish records on any backend
            page</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <para>* actual label text may differ depending on your Joomla! version;
      this documentation is based on English (United Kingdom) language strings
      found in Joomla! 2.5.1 and later.</para>
    </section>

    <section xml:id="level-groups">
      <title>Subscription Level Groups</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>You can access this feature by clicking on
      <guimenu>Setup</guimenu>, <guimenuitem>Levels Groups</guimenuitem> in
      the toolbar links area.</para>

      <para>Subscription level groups allow you to visually group subscription
      levels in related groups. Moreover, subscription level groups modify the
      way Akeeba Subscriptions defines the Valid From date of new
      subscriptions.</para>

      <para>When a subscription level doesn't belong to a group and the user
      buys a new subscription on this level the Valid From date for the new
      subscription is set to the furthest in future Valid To date of other
      paid subscriptions in the same level. If this date is in the past, the
      current date and time is used. For example, if a user has a yearly
      subscription until June 1st and he buys a new subscription on May 1st
      his new subscription begins on June 1st this year and expires on June
      1st the next year. If, however, the user tries to buy a new subscription
      on August 1st, his new subscription will begin on August 1st this year
      and expire on July 31st next year. Any other subscriptions in other
      subscription levels are ignored during this calculation. With
      subscription level groups this changes a little. Instead having Akeeba
      Subscriptions only look for other subscriptions in the same subscription
      level, it now looks for all subscriptions in all levels belonging to the
      same group.</para>

      <para>In practice, this means that if you have –let's say– a 3 month, a
      6 month and a yearly subscription you should put them in the same group.
      No matter which subscription your user buys and in which order he will
      not lose any subscription time. Moreover, if you have a trial and a full
      subscription you should put both of them in the same group. Thus your
      users can upgrade from trial to full without losing subscription
      time.</para>
    </section>

    <section xml:id="subscription-levels">
      <title>Subscription Levels</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>You can access this feature by clicking on
      <guimenu>Setup</guimenu>, <guimenuitem>Subscription Levels</guimenuitem>
      in the toolbar links area.</para>

      <para>Creating or editing a Subscription Level, you have five tabs with
      the different options per subscription level.</para>

      <bridgehead>The Details tab</bridgehead>

      <variablelist>
        <varlistentry>
          <term>Title</term>

          <listitem>
            <para>How the subscription will be presented to your users. We
            strongly suggest using all-capital letters and no spaces for
            easier administration, albeit you can really use anything you
            like.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Slug / Alias</term>

          <listitem>
            <para>The alias, used to construct the URL. Use only lowercase
            Latin characters without diacritics and accents, dashes and
            underscores. For example <option>uber-sub</option> is valid,
            whereas <option>über SUB</option> is INVALID.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Access</term>

          <listitem>
            <para>Since Akeeba Subscriptions 3.2.1 you can define which users
            can see which subscriptions. The default option (Public) means
            that all users, logged in or not, can see the subscription level
            and subscribe to it.</para>

            <important>
              <para>This feature is VERY powerful. Just like Joomla!'s ACLs it
              will obediently allow someone to create the most pointless
              setups possible. Remember that a user must ALREADY belong to a
              group contained in this access level to be able to subscribe to
              this subscription level. For instance, let's say have a user
              group called Subscribers and a viewing access level called
              Subscriber Access containing only the Subscribers group. If you
              set a subscription level to the Subscribers access level then a
              user must already be a subscriber (belong to the Subscribers
              user group) before they can subscribe to your site. If this is
              your only subscription level you have just shot yourself in the
              feet. Think about it. If I need to be a subscriber before I can
              subscribe, how can I ever subscribe to your site?</para>
            </important>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Image</term>

          <listitem>
            <para>Select a picture to represent your subscription. The image
            must be located in your site's images directory.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Published</term>

          <listitem>
            <para>Should it be shown to your users?</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Short Description</term>

          <listitem>
            <para>A description of the subscription to show to your users.
            Keep it short (ca. 30 words or less) or it will overflow the
            boundaries of the subscription presentation areas in the
            front-end.</para>

            <para>Since Akeeba Subscription 1.0.b4 you can use content plugin
            codes (like our own aslink plugin) in the description.</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <bridgehead>The Price and Duration tab</bridgehead>

      <variablelist>
        <varlistentry>
          <term>Price</term>

          <listitem>
            <para>The price of a subscription in this level. If you need to
            enter a decimal value, use a dot as the decimal separator. For
            example, 12.30 is valid, whereas 12,30 is INVALID and will be
            interpreted as 1230. Do NOT use a thousands separator. For example
            1000 is valid, whereas 1,000 is INVALID.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Sign-up fee</term>

          <listitem>
            <para>Sometimes you need to have a one-time sign-up fee.
            "One-time" means that this fee is only charged once, when a user
            first subscribes to a subscription level. Just enter the amount of
            money to be charged above the regular price in this box. If you
            need to enter a decimal value, use a dot as the decimal separator.
            For example, 12.30 is valid, whereas 12,30 is INVALID and will be
            interpreted as 1230. Do NOT use a thousands separator. For example
            1000 is valid, whereas 1,000 is INVALID.</para>

            <para>There are some things you need to keep in mind when you are
            using a sign-up fee:</para>

            <itemizedlist>
              <listitem>
                <para>The sign-up fee is only charged to users who have never
                subscribed to this subscription level before. If the user had
                already subscribed to this level anytime in the past (even
                years ago) he will not be charged this fee.</para>
              </listitem>

              <listitem>
                <para>The sign-up fee is added to the regular price of the
                subscription. If you have a tax rule, the tax will be
                calculated against the total amount of the price plus the
                sign-up fee.</para>
              </listitem>

              <listitem>
                <para>Discounts such as coupons, upgrades and subscription
                level relations are applied to the sum of the price plus the
                sign-up fee. If you have a subscription level worth 80 Euros
                with a 20 Euro sign-up fee, a 20% coupon code will give the
                user 20% * (80 + 20 Euros) = 20 Euros discount NOT 20% * 80€ =
                16€.</para>
              </listitem>

              <listitem>
                <para>Sign-up fees do not work properly with recurring
                payments UNLESS you are using PayPal. PayPal will correctly
                charge the price plus sign-up fee only during the first
                subscription term, charging only the regular price from the
                second subscription term onwards (plus any applicable taxes,
                of course!). All other payment processors that support
                recurring payments will end up charging the full price plus
                the sign-up fee on every single payment term. As a result, if
                you are not using PayPal or if you are using PayPal plus other
                recurring payment provides we strongly advise AGAINST using
                sign-up fees with recurring payments.</para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Subscription Length (days)</term>

          <listitem>
            <para>How many days a subscription in this level lasts. Common
            values are 30 (one month), 180 (half a year) and 365 (one
            year).</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Fixed expiration</term>

          <listitem>
            <para>Normally, subscriptions expire after a fixed amount of time
            since their creation. This is what the "Subscription length"
            option above does. In some cases you want to expire subscriptions
            on a specific fixed date. For example, a football club may want
            all of its subscriptions to end on July 1st, when the season
            officially ends. This is what the "Fixed expiration" is meant for.
            You have to enter the exact date (and, optionally, time) all
            subscriptions on this level will expire on. If you don't want to
            use this feature just leave it blank or use the pseudo-date
            "0000-00-00 00:00:00".</para>

            <important>
              <para>We recommend against using the expiration notification
              features with fixed expiration subscriptions. If you do use them
              please bear in mind the following:</para>

              <itemizedlist>
                <listitem>
                  <para>All expiration notification emails will be scheduled
                  for sending at the same time and date for all subscriptions
                  on this level. If you have 300 subscriptions then 300 emails
                  will be scheduled for the same date and time</para>
                </listitem>

                <listitem>
                  <para>The expiration plugin will only send a handful of
                  emails on each page load. This means that it will need
                  several or even hundreds of page loads to send all
                  notification emails. This has major effects outlined
                  below.</para>
                </listitem>

                <listitem>
                  <para>If you don't have enough traffic on your site for all
                  emails to be sent out at the specified date, expiration
                  notification emails may end being sent too late or
                  never.</para>
                </listitem>

                <listitem>
                  <para>While your site is sending emails its performance will
                  suffer. You may experience an increase of page load time of
                  up to 3 seconds.</para>
                </listitem>

                <listitem>
                  <para>Most mail servers ban email addresses and email
                  servers causing sudden traffic spikes on them. In other
                  words, if you end sending too many emails too fast to a
                  specific domain (e.g. many mails to GMail addresses) you
                  might end up being marked as a spammer and banned from
                  sending email to that domain again.</para>
                </listitem>

                <listitem>
                  <para>Many mail servers impose an email quota, i.e. a
                  maximum number of emails which can be sent per day from a
                  single email account. Most hosts have a limit of 500 or 1000
                  emails, whereas GMail and Google Mail for Applications has a
                  limit of 250 emails per day. If you go over this limit your
                  emails will not be sent and it's possible that your account
                  will be blocked.</para>
                </listitem>
              </itemizedlist>

              <para>So, to save you from trouble, we recommend not using
              notification emails with fixed date subscriptions unless you are
              perfectly aware of the risks involved and you believe that your
              site will not be adversely affected by them.</para>
            </important>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Forever</term>

          <listitem>
            <para>When this option is selected, the subscription is set to
            never expire. Actually, the subscription date for Forever
            subscriptions is set to January 1st, 2038 00:00:00 YTC for a very
            good reason.</para>

            <para>PHP and MySQL use something called UNIX timestamps to do
            date calculations, like determining if a date is in the future or
            how many days have elapsed since a certain date. Due to <link
            xlink:href="http://en.wikipedia.org/wiki/Year_2038_problem">some
            geeky stuff you probably don't care to understand</link> the
            maximum date which can currently be expressed is Tuesday, 19
            January 2038 03:14:07 UTC. That's why we use an easy to remember
            date which is as close to this End of Time as possible.</para>

            <para>OK, let's also take this practically. At the time of this
            writing (November 2012), January 2038 is roughly 26 years in the
            future. That's more than the lifespan of the Web as we know it (it
            was born in 1989, 23 years ago, and took another 5 to become
            mainstream) and it has radically changed ever since. Joomla!'s
            predecessor, Mambo, was born in 2001. Believing that in 26 years
            you will still be in the same business with the same business
            model as today, we will be using 2012's web technologies, Joomla!,
            Akeeba Subscriptions and anything else we are used to right now is
            a pipe dream. So, yes, 26 years into the future is MORE than the
            lifetime of your site, your business model, my business model and
            the web as we know it.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Payment methods</term>

          <listitem>
            <para>Select one or more payment methods to be shown for this
            subscription level. If you select the <option>- No selection
            -</option> option all enabled payment methods are shown
            (default).</para>

            <para>Pro tip: This feature is especially useful when you want to
            limit which subscription levels will allow off-line or mobile
            (SMS) payment. Of course you can choose between any of the payment
            plugins you have activated.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Level Group</term>

          <listitem>
            <para>When a subscription is not part of a group, the Valid From
            date of a new subscription is set to the maximum Valid To date of
            a properly paid (payment status set to "Completed") subscription
            at the same level. This is what allows Akeeba Backup to treat
            purchases of a new subscription on the same level as a renewal of
            the subscription.</para>

            <para>When a subscription is part of a group, the Valid From date
            of a new subscription is set to the maximum Valid To date of a
            properly paid (payment status set to "Completed") subscription at
            any level belonging to this group.</para>

            <para>For example, let's say FOOBAR6 is a subscription level with
            a 6 month duration and FOOBAR12 is a subscription level with a 12
            month duration. A user has a subscription in the FOOBAR6 level
            valid from 2013-01-01 to 2013-05-31. On May 1st, 2013 he decides
            to renew his subscription. We have the following
            possibilities:</para>

            <itemizedlist>
              <listitem>
                <para>No matter of the level grouping, if he buys a new
                FOOBAR6 subscription, the new subscription will be valid from
                2013-05-31 to 2013-12-31, as it is a renewal on the same
                level.</para>
              </listitem>

              <listitem>
                <para>If the two levels <emphasis>do not</emphasis> belong to
                the same group and he buys a FOOBAR12 subscription, the new
                subscription will be valid from 2013-05-01 to 2014-04-30. In
                this case, the user loses a month because Akeeba Subscriptions
                doesn't know that the two levels are the same thing with a
                different duration.</para>
              </listitem>

              <listitem>
                <para>If the two levels <emphasis>belong to the same
                group</emphasis> and he buys a FOOBAR12 subscription, the new
                subscription will be valid from 2013-05-31 to 2014-05-30. In
                this case, Akeeba Subscriptions known that buying a FOOBAR12
                subscription must be treated as a renewal of the FOOBAR6
                subscription.</para>
              </listitem>
            </itemizedlist>

            <para>You can set up your groups in the <guilabel>Level
            Groups</guilabel> page of the component.</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <bridgehead>The Actions tab</bridgehead>

      <variablelist>
        <varlistentry>
          <term>Integration</term>

          <listitem>
            <para>Since Akeeba Subscriptions 2.4.5 you may see a section in
            the page called Integration. Here you can configure the parameters
            for second-generation integration plugins, e.g. the "Akeeba
            Subscriptions - Joomla! Usergroups Integration" plugin. Each
            integration plugin renders a tab in this area. The parameters
            under each tab are detailed in the respective plugin's
            documentation page. You can enable integration plugins from your
            site's Extensions, Plugin Manager page.</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <bridgehead>The Messages tab</bridgehead>

      <variablelist>
        <varlistentry>
          <term>Message to show after successful sign-up</term>

          <listitem>
            <para>The text in this area will be presented to the users after
            they successfully complete their payment. Use it to thank them for
            giving you their money and show them important information about
            their subscription, e.g. links to your support method, download
            links etc.</para>

            <warning>
              <para>Do not include any sensitive information (such as "secret"
              download links) as the content of this page can be directly
              accessed by a knowledgeable user by manipulating the URL. If you
              want to include such information, please use the Restricted
              Content plugin bundled with Akeeba Subscriptions to make sure
              that the information will only be shown to users holding a valid
              subscription.</para>
            </warning>

            <para>Since Akeeba Subscription 1.0.b4 you can use content plugin
            codes (like our own aslink plugin) in the message.</para>

            <para>Alternatively you can enter a URL in the Custom redirect
            URL. If it is not empty, Akeeba Subscriptions will redirect your
            client to that URL instead of showing the message.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Message to show after sign-up cancellation</term>

          <listitem>
            <para>The text in this area will be presented to the users after
            they cancel their payment (if your payment gateway supports this
            feature). This is your last attempt to changing your user's mind
            or have them give you feedback on the reasons they decided to not
            move forward with their subscription. Use it wisely and do not
            insult your users, please :)</para>

            <para>Since Akeeba Subscription 1.0.b4 you can use content plugin
            codes (like our own aslink plugin) in the message.</para>

            <para>Alternatively you can enter a URL in the Custom redirect
            URL. If it is not empty, Akeeba Subscriptions will redirect your
            client to that URL instead of showing the message.</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <bridgehead>The Renewals and notifications tab</bridgehead>

      <variablelist>
        <varlistentry>
          <term>Recurring</term>

          <listitem>
            <para>This feature is available since Akeeba Subscriptions
            2.1</para>

            <para>When selected, Akeeba Subscriptions will notify the payment
            processor plugin that the subscription should recur, i.e. it will
            automatically be renewed on expiration. In this case, please set
            both expiration notification parameters below to 0; there is no
            point informing your users that their subscription is expiring
            when it will be re-activated automatically.</para>

            <warning>
              <para>Not all payment processors support recurring
              subscriptions. Please consult the documentation of your payment
              processor plugin.</para>

              <para>Moreover, recurring subscriptions have some very serious
              inflexibilities and pitfalls:</para>

              <itemizedlist>
                <listitem>
                  <para>You cannot pro grammatically cancel recurring
                  subscriptions.</para>
                </listitem>

                <listitem>
                  <para>You cannot modify the price of recurring
                  subscriptions.</para>
                </listitem>

                <listitem>
                  <para>Using coupon codes, tax rules, upgrade rules,
                  automatic discounts, subscription option custom fields or
                  any other kind of price modifier will not work as you are
                  expecting. The recurring payment will always be equal to the
                  very first payment ever made by the client. If you gave a
                  50% discount via a coupon, the user will be charged a 50%
                  discounted price forever and ever.</para>
                </listitem>

                <listitem>
                  <para>If you do a price increase or decrease the recurring
                  subscription will not be affected.</para>
                </listitem>

                <listitem>
                  <para>If the tax rules change (e.g. VAT percentage increase
                  nationwide) or if the subscriber wants to change his
                  business and/or VIES registration status, which would result
                  in a change in tax charged, the only way to do so is to
                  manually cancel his subscription through the payment
                  processor and re-subscribe to your site, potentially losing
                  subscription time.</para>
                </listitem>

                <listitem>
                  <para>If you remove a subscription level the recurring
                  subscription will continue to be charged and the only way to
                  stop robbing your user's money is going manually to the
                  back-end of the payment processor (e.g. PayPal) and cancel
                  each and every such subscription manually.</para>
                </listitem>

                <listitem>
                  <para>If your site is moved, upgraded, or generally modified
                  in such a way that the payment notification URL is changed
                  or invalidated you will have to manually cancel the
                  recurring subscriptions through the payment processor's
                  back-end.</para>
                </listitem>

                <listitem>
                  <para>If you uninstall Akeeba Subscriptions you will have to
                  manually cancel the recurring subscriptions through the
                  payment processor's back-end.</para>
                </listitem>

                <listitem>
                  <para>If your site is off-line, inaccessible or otherwise
                  the payment notification from the payment processor doesn't
                  reach your site you will have to manually cancel the
                  recurring subscription through the payment processor's
                  back-end and ask your user to re-subscribe.</para>
                </listitem>
              </itemizedlist>
            </warning>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Forbid renewals</term>

          <listitem>
            <para>This feature is available since Akeeba Subscriptions
            2.1</para>

            <para>Is set to Yes, a user can subscribe to this level only ONCE.
            He won't be able to renew his subscription. Useful in setting up
            "trial subscriptions", i.e. cheap or even free subscription levels
            with very limited duration which a user can subscribe to only
            once.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Custom renewal URL</term>

          <listitem>
            <para>Normally Akeeba Subscriptions will determine the renewal
            page's URL automatically, sending the user to re-subscribe to the
            same subscription level he's renewing. This is not desirable in
            some cases. You can enter a custom renewal URL here. A few things
            to notice:</para>

            <itemizedlist>
              <listitem>
                <para>When you enter a custom renewal URL the Renew button
                will be shown in the front-end of your site even when the
                subscription level has Forbid renewals set to Yes. In this
                case the renewal URL will be the custom URL you've entered
                here.</para>
              </listitem>

              <listitem>
                <para>If a user tries to manually access the subscription URL
                of a subscription level which has Forbid renewals set to Yes
                he will normally be shown a 403 Forbidden error page if he
                already has a subscription to this level. When the
                subscription level, however, has a custom renewal URL he will
                not be shown an error page; he will be redirected to the
                custom renewal URL.</para>
              </listitem>
            </itemizedlist>

            <para>These features allow you to have a free (trial) subscription
            which automatically directs the user to renew it with a paid
            subscription when it expires. All you need to do is enter the
            subscription page URL for the paid subscription in the Custom
            renewal URL field.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Content URL</term>

          <listitem>
            <para>If you have a front-end menu item of the <option>All of my
            subscriptions</option> type, the title of the subscription level
            will be linked to this URL. This URL can point to anything. We
            recommend giving the URL of a page on your site which explains the
            privileges the subscriber of this subscription level has on your
            site, e.g. linking to premium content categories, restricted
            downloads and so on. If you leave it blank no link will be
            generated (default behaviour before Akeeba Subscriptions
            3.2.1).</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>First expiration notification (days)</term>

          <listitem>
            <para>Akeeba Subscriptions will send a notification email to users
            whose subscription is expiring soon. It can send up to two emails.
            This parameter tells Akeeba Subscriptions how many days before the
            subscriptions expiration the first email will be sent. Set to 0 to
            not send out a notification email.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Second expiration notification (days)</term>

          <listitem>
            <para>Akeeba Subscriptions will send a notification email to users
            whose subscription is expiring soon. It can send up to two emails.
            This parameter tells Akeeba Subscriptions how many days before the
            subscriptions expiration the second email will be sent. Set to 0
            to not send out a notification email.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Notification after expiration (days)</term>

          <listitem>
            <para>Akeeba Subscriptions will send a notification email to users
            whose subscription has expired this many days ago. Set 0 to not
            send out a notification email.</para>

            <tip>
              <para>You can use this post-expiration notification email to
              offer your users a discount coupon code which can entice them to
              re-subscribe to your site. Never underestimate the strong impact
              of an offer to the psychology of the prospective buyer, even if
              the value of the coupon code is only in the 10-20% area.</para>
            </tip>
          </listitem>
        </varlistentry>
      </variablelist>

      <bridgehead>Multi-lingual support</bridgehead>

      <para>Akeeba Subscriptions 2.0 and later are able support multi-lingual
      sites without the need of a third-party extension. This is done by using
      language code "merge tags" in the three last fields outlined above:
      short description, message to show after successful sign-up and message
      to show after sign-up cancellation. The merge tags in the text look like
      this:</para>

      <programlisting>[IFLANG en-GB]This is the English description[/IFLANG]
[IFLANG fr-FR]Ceci est la description française[/IFLANG]
[IFLANG de-DE]Diese ist die deutsche Beschreibung[/IFLANG]
[IFLANG el-GR]Αυτή είναι η Ελληνική περιγραφή[/IFLANG]</programlisting>

      <para>Essentially, you have to wrap your per-language text in
      <code>[IFLANG <replaceable>languageCode</replaceable>]</code> and
      <code>[/IFLANG]</code> merge tags. The languageCode you must use is the
      five letter language code used by Joomla!'s translation packages. For
      example, the English language is en-GB (British English), en-AU
      (Australian English) or en-US (Unites States English), German is de-DE
      (Germany) or de-AT (Austria) and so forth. If you're unsure, please go
      to your site's back-end, Language Manager and take a look at the
      language code in there.</para>

      <para>Please note that you cannot use the same language code
      twice.</para>

      <bridgehead>Customising the messages to show on successful sign-up and
      cancellation</bridgehead>

      <para>Since Akeeba Subscriptions 2.0.a3, you can personalise the
      messages which are shown after a successful sign-up or cancellation of
      the subscription process. This is done using "merge codes". The merge
      codes are explained below. Please note that you can use them in
      conjunction with Joomla! content plugins as well. In fact, using the
      merge codes you are open to a world of possibilities, even integrating
      an external affiliate system –like OSI Affiliates– on your site.</para>

      <para>The available merge codes are listed in the Message variables
      section of our documentation.</para>
    </section>

    <section xml:id="tax-rules">
      <title>Tax Rules</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <important>
        <para>Attention EU businesses! This documentation page is out of date
        and does not cover the VAT MOSS implementation. If you use the Tax
        Rules Wizard feature after December 30th, 2014 18:00 using the lastest
        version of Akeeba Subscriptions the VAT rate you specify will not be
        taken into account. Instead, Akeeba Subscriptions will use its
        internal list of VAt rates across all EU member states. This is
        required to comply with the new VAT MOSS legislation coming into
        effect January 1st, 2015.</para>
      </important>

      <para>You can access this feature by clicking on
      <guimenu>Setup</guimenu>, <guimenuitem>Tax Rules</guimenuitem>
      <guilabel>Tax Rules</guilabel> in the toolbar links area.</para>

      <para>Out of the box, Akeeba Subscriptions is set up to not apply any
      VAT or other tax at all. However, this is not what most users would
      like. Below we are providing the most common setups based on your
      business type. Our lawyers told us that we have to say this to you:
      Please note that we are not lawyers or tax technicians. As a result, our
      advice is based on our personal experience, may be flawed and in no way
      should be considered a legal or financial advice. Should you chose to
      use it you do so at your own risk. We strongly advise you to ask a
      qualified tax technician, lawyer or other relevant professional
      qualified by law to give you advice regarding tax laws. That said,
      here's the most common tax setups:</para>

      <bridgehead>Extra-EU businesses, e.g. US based</bridgehead>

      <para>Tax Rules determine if the user should be charged a tax amount on
      top of the regular price of the subscription level. If you do not wish
      to charge any taxes (e.g. you have already included any applicable taxes
      in your subscription price), you will still have to create a default
      rule with 0 tax charges. In order to do so, click on the New button,
      select the "- Select -" option in the Country drop-down and set the tax
      rate to 0, then click on Save. Now you have created a catch-all rule
      with 0% tax. Likewise, if you want to charge all users a flat tax rate,
      say 18%, do the same thing, but set the tax rate to your desired
      percentage, in our case 18 (note: without the % sign!) and click on
      Save.</para>

      <bridgehead>Intra-EU businesses with a VIES registered VAT number, or
      extra-EU businesses with an EU VAT number</bridgehead>

      <para>If you are a business based in the European Union with a
      VIES-registered VAT number you have to create a total of 30 rules to
      conform to the overcomplicated EU tax regulations. First, create a
      default rule with 0% tax as noted above. Then do the same thing, but set
      the <guilabel>VIES Reg</guilabel> option to Yes and the tax rate to 0%.
      Now create new tax rules for each one of these countries, <guilabel>VIES
      Reg</guilabel> set to No and tax rate set to your local VAT tax rate
      (e.g. 23% for Greece): Austria, Belgium, Bulgaria, Cyprus, Czech
      Republic, Germany, Greece, Denmark, Estonia, Finland, France, Hungary,
      Ireland, Italy, Latvia, Lithuania, Luxembourg, Malta, Netherlands,
      Poland, Portugal, Romania, Slovakia, Slovenia, Spain, Sweden, United
      Kingdom. For the country of your business (e.g. Greece for a
      Greece-based business) create on more rule with <guilabel>VIES
      Reg</guilabel> set to Yes and the tax rate set to your local VAT tax
      rate (e.g. 23% for Greece).</para>

      <para>After setting up the tax rules you need to pay attention to the
      ordering of the rules. The correct ordering of the rules is:</para>

      <itemizedlist>
        <listitem>
          <para>Create one rule for each EU country <emphasis>including
          yours</emphasis> with VIES Reg set to No and the tax rate set to
          your local VAT rate</para>
        </listitem>

        <listitem>
          <para>Create one rule for <emphasis>your country only</emphasis>
          with VIES Reg set to Yes and the tax rate set to your local VAT
          rate</para>
        </listitem>

        <listitem>
          <para>Create one rule with no country selected, VIES Reg set to Yes,
          tax rate set to 0.</para>
        </listitem>

        <listitem>
          <para>Create one rule with no country selected, VIES Reg set to No,
          tax rate set to 0.</para>
        </listitem>
      </itemizedlist>

      <para>This way, the following happens:</para>

      <itemizedlist>
        <listitem>
          <para>If the customer is extra-EU he will be charged no VAT (the
          last rule kicks in)</para>
        </listitem>

        <listitem>
          <para>If the customer is intra-EU, but not a business with a
          VIES-registered VAT number, he's paying VAT (the first rules kicks
          in).</para>
        </listitem>

        <listitem>
          <para>If the customer is an intra-EU business, he will be charged no
          VAT. He's liable to VAT on his local tax authorities, not your
          country's tax authorities.</para>
        </listitem>

        <listitem>
          <para>If the customer is from your own country, you are charging him
          with VAT no matter of the VIES registration status (the third to
          last rule kick in).</para>
        </listitem>
      </itemizedlist>

      <para>Do note that the same setup is required if you are an extra-EU
      business –e.g. US-based– with an EU VAT ID (it's in the format
      EU012345678). In this case, you have no EU country of residence, so you
      can skip the last set of two tax rules mentioned above.</para>

      <bridgehead>Intra-EU businesses without a VIES-registered VAT
      number</bridgehead>

      <para>Please ask your lawyer whether it's legal for you to sell
      subscriptions to residents of a country other than yours. There is a gap
      in the EU directives regarding that case, therefore we can't provide you
      with even semi-accurate tax setup information within any stretch of
      imagination.</para>

      <bridgehead>Tax Rule options</bridgehead>

      <para>Each tax rule has the following options:</para>

      <variablelist>
        <varlistentry>
          <term>Country</term>

          <listitem>
            <para>Which country this tax rule is applicable in. If empty (the
            "- Select -" pseudo-option of the country list) it applies to all
            countries.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>State</term>

          <listitem>
            <para>Which state this tax rule is applicable in. Note: only US
            and Canada states and provinces can be selected. If left empty
            (the N/A option) it applies to all states.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>City</term>

          <listitem>
            <para>Which city this tax rule is applicable in. Do note that the
            spelling of the city must match, but it's case insensitive. This
            means that <option>new york</option>, <option>NEW YORK</option>
            and <option>New York</option> are equivalent. Leave blank to match
            all cities.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>VIES Reg</term>

          <listitem>
            <para>If set to Yes, the tax rule matches only those clients with
            a valid, VIES registered EU VAT number. If you don't know what
            VIES registration is, <link
            xlink:href="http://ec.europa.eu/taxation_customs/taxation/vat/traders/vat_number/index_en.htm">read
            this</link>. You can verify if a VAT number of an EU resident or
            EU registered business is also VIES registered through EU's <link
            xlink:href="http://ec.europa.eu/taxation_customs/vies/">official
            web application on Europa.eu</link>.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Tax Rate</term>

          <listitem>
            <para>The tax rate percentage. If you need to enter decimal
            digits, use a dot not a comma. For example, <option>17.5</option>
            is valid, <option>17,5</option> is INVALID. Do NOT type the
            percentage sign. For example, <option>23</option> is valid,
            <option>23%</option> is INVALID. The percentage is always implied,
            that's why it's printed after the field's contents.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Enabled</term>

          <listitem>
            <para>If set to Yes, the VAT Rule will be applied, otherwise it
            will be ignored (as if it weren't set at all)</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>

    <section xml:id="upgrade-rules">
      <title>Upgrade Rules</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>You can access this feature by clicking on
      <guimenu>Setup</guimenu>, <guimenuitem>Upgrades</guimenuitem> in the
      toolbar links area.</para>

      <para>This feature allows you to create automatically applied discount
      rules to reward your loyal customers by giving them a discount. If you
      are not sure this is what you want to do, I strongly suggest reading
      Seth Godin's "<link
      xlink:href="http://sethgodin.typepad.com/seths_blog/2011/02/how-should-you-treat-your-best-customers.html">How
      should you treat your best customers?</link>" and view <link
      xlink:href="http://www.attorneymarketing.com/2010/04/25/seth-godin-explains-how-to-build-a-tribe-of-loyal-clients/">this
      video of his</link> where he explains his ideas on small businesses even
      more clearly.</para>

      <para>Each Upgrade rule has the following options:</para>

      <variablelist>
        <varlistentry>
          <term>Title</term>

          <listitem>
            <para>Just a title to remind you of what this upgrade rule
            does</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Published</term>

          <listitem>
            <para>If set to No, it won't be taken into account during a new
            subscription's price calculation</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>From level</term>

          <listitem>
            <para>The subscription level for which the user must already have
            a valid subscription in order for the upgrade rule to take
            effect</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>To Level</term>

          <listitem>
            <para>The subscription level which the user is currently trying to
            subscribe to and onto which the discount will be applied</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Min. Presence</term>

          <listitem>
            <para>The minimum number of days the user has to have a valid
            subscription to From Level for this rule to be applied</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Max. Presence</term>

          <listitem>
            <para>The maximum number of days the user has to have a valid
            subscription to From Level for this rule to be applied</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Discount Type</term>

          <listitem>
            <para>If it's Value, the Value field contains currency, e.g. if
            you're using Euros and type a value of 20 then 20 Euros will be
            subtracted from the price. If its Percent, then the Value field
            contains a percentage, e.g. if you type a value of 20 then a 20%
            discount will be applied to the price.</para>

            <para>A special type, available since version 2.2, is the "Percent
            of last payment". When this option is selected, Akeeba
            Subscriptions looks for the paid amount in the user's latest
            subscription in the "From level" subscription level and applies
            the percentage on that amount (which may be different from the
            current subscription level's price).</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Value</term>

          <listitem>
            <para>See above.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>After Expiration</term>

          <listitem>
            <para>Normally an upgrade rule takes into account only the
            currently active subscriptions. However, you may want to give a
            discoutn to returning clients. For example, consider a client who
            had a SILVER subscription, let it expire and comes two months
            later to buy a GOLD subscription. Maybe you want to give them a
            10% discount. This is what this feature is for.</para>

            <para>By enabling this feature the upgrade rules now apply to
            expired subscriptions only. An expired subscription is one with a
            payment state Completed and enabled set to No. The Min and Max
            Presence will now refer to the time which has elapsed between the
            expiration date of the From Level and the current date and
            time.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Combine</term>

          <listitem>
            <para>The final discount is normally defined by the upgrade rule
            that generates the highest discount. When upgrade rules have the
            <guilabel>Combine</guilabel> option set to <option>Yes</option>,
            then all these (that apply to the subscriber's situation) will be
            added together (combined) to define the discount. In other words,
            the applicable upgrade rules with the Combined flag turned on work
            accumulatively instead of exclusively. This feature comes in handy
            when you want to give discounts to "bundle" subscriptions, i.e.
            subscription levels which give you the same privileges as buying
            several other subscription levels at the same time.</para>

            <para>Example #1 (without Combine):</para>

            <programlisting>Rule A gives $ 10 discount
Rule B gives $ 15 discount
Rule C gives $ 20 discount</programlisting>

            <para>Total discount will be $20 given by rule C because it's the
            biggest discount of the three.</para>

            <para>Example #2:</para>

            <programlisting>Rule A gives $ 10 discount =&gt; combine is on
Rule B gives $ 15 discount =&gt; combine is on
Rule C gives $ 20 discount</programlisting>

            <para>Total discount will be $25 given by rule A + B because A+B
            (combined) give a bigger discount than C.</para>

            <para>Example #3:</para>

            <programlisting>Rule A gives $ 10 discount =&gt; combine is on
Rule B gives $ 15 discount =&gt; combine is on
Rule C gives $ 30 discount</programlisting>

            <para>Total discount will be $30 given by rule C because C gives a
            bigger discount than A+B (combined).</para>

            <important>
              <para>The Combine flag only applies to upgrade rules of the same
              kind as far as the After Expiration flag is concerned. It will
              NOT combine discounts for expired and active
              subscriptions.</para>
            </important>
          </listitem>
        </varlistentry>
      </variablelist>

      <para>Practical examples of upgrade rules:</para>

      <para>You want to give a 30% discount to users with a SUB1 annual
      subscription if they renew up to 30 days before their subscription
      expiration. Both levels set to SUB1, min presence is set to 0, max
      presence is set to 335 (one year is 365 days, minus 30 days, equals 335
      days), discount type Percent, value 30.</para>

      <para>You want to give a 15% discount to users with a SUB1 annual
      subscription if they renew during the last 30 days of their
      subscription. Both levels set to SUB1, min presence is set to 335 (one
      year is 365 days, minus 30 days, equals 335 days), max presence set to
      365 (one full year) discount type Percent, value 15.</para>

      <para>You want to give a 10 Euro discount to users with a SUB1 annual
      subscription who are now buying a SUB2 subscription. From Level set to
      SUB1, To Level set to SUB2, min presence set to 0, max presence set to
      365 (one year), discount set to Value, value set to 10.</para>

      <para>You want users buying both SUB1 and SUB2 to have a 10 Euro
      discount. First, create a rule like in the previous example. Then create
      another rule with From Level set to SUB2, To Level set to SUB1, min
      presence set to 0, max presence set to 365, discount set to Value, value
      set to 10. This way, whichever subscription they buy first, they'll get
      the discount when they buy the other subscription as well.</para>

      <para>You want to give a complimentary (free) SUB3 subscription to users
      who have already bought SUB1 and SUB2: you can't do that with Upgrade
      Rules, as you cannot combine multiple subscriptions in a single rule.
      Instead, use a coupon code with 100% discount and show this coupon code
      only to subscribers who have already bought a SUB1 and SUB2 subscription
      using the Restricted Content plugin bundled with Akeeba
      Subscriptions.</para>

      <para>You want to give a 10% discount to users who used to have a SUB1
      subscription but let it expire, then come back in the following 3 months
      to purchase a new SUB1 or SUB2 subscription. Create an upgrade rule with
      From Level SUB1, To Level SUB1, Min Presence 0, Max Presence 90,
      discount type Percent, value 10, After Expire set to Yes. Then create a
      new upgrade rule with From Level SUB1, To Level SUB2, Min Presence 0,
      Max Presence 90, discount type Percent, value 10, After Expire set to
      Yes.</para>
    </section>

    <section xml:id="subscription-level-relations">
      <title>Subscription Level Relations</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>This feature allows you to create more fine-tuned subscription
      level relations than Upgrade Rules, covering areas of business policy
      that would otherwise be unenforceable. It can cover cases like:</para>

      <itemizedlist>
        <listitem>
          <para>upgrading between subscriptions with the same access but
          different lengths, e.g. between one month, six month and yearly
          subscription levels.</para>
        </listitem>

        <listitem>
          <para>upgrading between subscriptions, e.g. when you have Apples,
          Oranges and Fruit Salad subscription levels it allows you to upgrade
          from Apples or Oranges to Fruit Salad, disabling the subscriptions
          in the Apples and Oranges levels in the process</para>
        </listitem>

        <listitem>
          <para>giving flexible discounts, based on how much subscription time
          remains on a user's existing subscription. This allows you to give a
          different discount to somebody who has one month left and a
          different discount to somebody who has six months left in his
          subscription, using one rule (instead of several you'd need with the
          regular Upgrade Rules)</para>
        </listitem>
      </itemizedlist>

      <para>The key differences from upgrade rules are:</para>

      <itemizedlist>
        <listitem>
          <para>Flexible discounts with one relation entry. You can tell
          Akeeba Subscriptions how much discount to give every X amount of
          time left in a subscription instead of creating dozens of Upgrade
          Rules.</para>
        </listitem>

        <listitem>
          <para>Control the start and end of subscriptions. With Upgrade Rules
          you only get to give a discount. The previously active subscription
          remains active and the new subscription is always immediately
          activated. With relations you can give an optional discount. What is
          more important is that you can choose the old subscription to be
          immediately expired (therefore your subscribers not getting update
          emails for it) or have the new subscription become active when the
          old one expires (think about the case of buying a 3 month
          subscription when a 1 month subscription is already active).</para>
        </listitem>
      </itemizedlist>

      <para>You can access this feature by clicking on
      <guimenu>Setup</guimenu>, <guimenuitem>Subscription Level
      Relations</guimenuitem> in the toolbar links area.</para>

      <para>The <guilabel>Basic options</guilabel> you have on each
      Subscription Level Relation are:</para>

      <variablelist>
        <varlistentry>
          <term>From Level</term>

          <listitem>
            <para>In order for this relation to be applied, the user must have
            at least one paid for subscription in this Subscription Level,
            with a Valid To date in the future.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>To Level</term>

          <listitem>
            <para>In order for this relation to be applied, the user must be
            trying to buy a subscription in this Subscription Level.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Discount Mode</term>

          <listitem>
            <para>There are three types of discounts which can be applied by a
            Subscription Level Relation:</para>

            <itemizedlist>
              <listitem>
                <para><emphasis role="bold">Use Upgrade Rules</emphasis>. The
                discount to be applied is controlled by Upgrade Rules. This is
                useful when you are satisfied with the automatic discount
                given by Upgrade Rules and all you want is to control the
                subscription expiration (see further down).</para>
              </listitem>

              <listitem>
                <para><emphasis role="bold">Fixed Discount</emphasis>. A fixed
                discount will be given to users upgrading from the
                <guilabel>From Level</guilabel> to the <guilabel>To
                Level</guilabel>.</para>
              </listitem>

              <listitem>
                <para><emphasis role="bold">Flexible Discount</emphasis>. The
                discount will be calculated based on how much subscription
                time the user has left in his existing subscription in the
                <guilabel>From Level</guilabel>.</para>
              </listitem>
            </itemizedlist>

            <para>The fields you see on the right hand of the page depend on
            your selection here.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Discount Type</term>

          <listitem>
            <para>You can choose between <option>Value</option> (deduct X from
            the price) and <option>Percent</option> (deduct X% from the
            price). This works in conjunction with all value fields, depending
            on the Discount Mode you're using.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Subscription expiration handling</term>

          <listitem>
            <para>This controls the way Akeeba Subscriptions handles the
            expiration of old subscriptions and the activation of the new
            subscription. In this context, old subscriptions are successfully
            paid subscriptions in the <guilabel>From Level</guilabel>
            subscription level with a Valid To date in the future. New
            subscription is the subscription which is being created in the
            <guilabel>To Level</guilabel> subscription level. The options you
            have are:</para>

            <variablelist>
              <varlistentry>
                <term>Replace</term>

                <listitem>
                  <para>Upon successful payment of the new subscription, the
                  old subscriptions are immediately expired. The new
                  subscription becomes active immediately. Use it when the To
                  Level is an upgrade to the From Level, e.g. from a Silver to
                  a Gold subscription.</para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term>Extend</term>

                <listitem>
                  <para>The old subscriptions are left intact. The new
                  subscription does not become active immediately. Its Valid
                  From date is set to be the same as the Valid To date of the
                  currently active old subscription. Use it when the To Level
                  provides the same access as the From Level with a different
                  duration, e.g. a 3 month and a 6 month subscription
                  level.</para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term>Overlap</term>

                <listitem>
                  <para>The old subscriptions are left intact. The new
                  subscription becomes active immediately. Both subscriptions
                  run in parallel. This is the same behaviour as when using
                  Upgrade Rules.</para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Combine with other rules</term>

          <listitem>
            <para>Normally, Akeeba Subscriptions selects the Subscription
            Level Relation which gives the biggest discount and that's what it
            will use. When this option is enabled, Akeeba Subscriptions will
            combine the discount given by all applicable Level Relation rules
            which have "Combine with other rules" enabled and apply them all
            together. This is useful when you have, for example, a Bronze to
            Gold and a Silver to Gold relation, the user has booth a Bronze
            and Silver subscription and by upgrading to Gold you want to give
            him a combined discount.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Published</term>

          <listitem>
            <para>Set to Yes to activate this subscription level
            relation.</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <para>Depending on which Discount Mode you have selected, on the right
      hand side you will see one of the following sections. Please note that
      if you chose Use Upgrade Rules then there is nothing displayed on the
      right hand side of the page.</para>

      <para>If you selected the Fixed Discount mode you will see this
      field:</para>

      <variablelist>
        <varlistentry>
          <term>Discount Amount</term>

          <listitem>
            <para>The discount amount which will always be given. Please note
            that this field respects the <guilabel>Discount Type</guilabel>
            option. If you chose <option>Percent</option>, you have to enter a
            number 0-100 in here (decimals, like 22.5) are allowed. If you
            chose <option>Value</option> enter the amount to be directly
            deducted from the price.</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <para>On the other hand, if you selected the Flexible Discount you will
      see several fields. Remember that this mode will calculate the discount
      amount based on the remaining subscription time in the user's old
      subscriptions. The following options will allow you to define how that
      time is calculated and how much discount to give to your user.</para>

      <para><variablelist>
          <varlistentry>
            <term>Flexible discount</term>

            <listitem>
              <para>You have three fields. The concept is that you give X
              amount of discount for every Y days / weeks / months / years of
              remaining subscription time.</para>

              <para>So, the first field defines how much that X amount of
              flexible discount is. Please note that this field respects the
              <guilabel>Discount Type</guilabel> option. If you chose
              <option>Percent</option>, you have to enter a number 0-100 in
              here (decimals, like 22.5) are allowed. If you chose
              <option>Value</option> enter the amount to be directly deducted
              from the price.</para>

              <para>The next two fields are the "period quantiser" of the
              remaining subscription time. They let you define what Y is. You
              can choose to enter the period in days, weeks (understood as 7
              days), months (understood as 30 days) or years (understood as
              365 days). So, 2 months is equivalent to choosing 60 days. For
              every this much of remaining subscription time the user will get
              X discount.</para>

              <para>This is easier to understand with an example. Let's say
              that you select to give 1€ of discount every 10 days. If your
              subscriber has 40 days of subscription time left he will be
              given a discount of 4€. That's 40 days, divided by 10 days (your
              Y value), multiplied by 1€ (your X value).</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Low threshold fixed discount</term>

            <listitem>
              <para>Sometimes you want to give a fixed discount if the
              remaining time is below a certain amolimitunt. In these fields
              you can select how much discount to give if the subscription
              time remaining is less than a specific limit.</para>

              <para>The first field is your fixed discount. Please note that
              this field respects the <guilabel>Discount Type</guilabel>
              option. If you chose <option>Percent</option>, you have to enter
              a number 0-100 in here (decimals, like 22.5) are allowed. If you
              chose <option>Value</option> enter the amount to be directly
              deducted from the price.</para>

              <para>The second field is the amount of time below which this
              Low Threshold Fixed Discount is applied. It uses the same units
              you selected in the last Flexible Discount field above.</para>

              <para>For example, if the Flexible Discount is 1€ of discount
              every 10 days and selecting to give 3€ of discount if there are
              less than 30 days of subscription time left you will have the
              following result. If your subscriber has 40 days of subscription
              time left, he will be give a 4€ discount as explained in the
              Flexible Discount field above. If he has 25 days, he will be
              given a 3€ discount. Why? Because his remaining time (25 days)
              is less than your low threshold (30 days), so the fixed low
              threshold discount kicks in.</para>

              <para>If you don't want to use this feature enter 0 in both
              fields.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>High threshold fixed discount</term>

            <listitem>
              <para>Sometimes you want to give a fixed discount if the
              remaining time is above a certain limit. In these fields you can
              select how much discount to give if the subscription time
              remaining is more than a specific limit.</para>

              <para>The first field is your fixed discount. Please note that
              this field respects the <guilabel>Discount Type</guilabel>
              option. If you chose <option>Percent</option>, you have to enter
              a number 0-100 in here (decimals, like 22.5) are allowed. If you
              chose <option>Value</option> enter the amount to be directly
              deducted from the price.</para>

              <para>The second field is the amount of time above which this
              High Threshold Fixed Discount is applied. It uses the same units
              you selected in the last Flexible Discount field above.</para>

              <para>For example, if the Flexible Discount is 1€ of discount
              every 10 days and selecting to give 5€ of discount if there are
              more than 50 days of subscription time left you will have the
              following result. If your subscriber has 40 days of subscription
              time left, he will be give a 4€ discount as explained in the
              Flexible Discount field above. If he has 120 days, he will be
              given a 5€ discount. Why? Because his remaining time (120 days)
              is more than your high threshold (50 days), so the fixed high
              threshold discount kicks in.</para>

              <para>If you don't want to use this feature enter 0 in both
              fields.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Remaining subscription time calculation</term>

            <listitem>
              <para>Akeeba Subscriptions need to calculate the remaining
              subscription time so that it can apply the Flexible Discount.
              This option controls how this remaining subscription time will
              be calculated. You have two options:</para>

              <variablelist>
                <varlistentry>
                  <term>Use only the currently active subscription</term>

                  <listitem>
                    <para>Only the currently active (enabled) subscription in
                    the From Level will be taken into account.</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Currently active subscription and renewals</term>

                  <listitem>
                    <para>The currently active (enabled) subscription in the
                    From Level and all paid (but not yet enabled)
                    subscriptions in the From Level with a Valid To date in
                    the future will be taken into account.</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Remaining subscription time rounding</term>

            <listitem>
              <para>Let's say that your subscriber has 43 days of subscription
              time and you want to give 1€ of discount every 10 days. How much
              discount should you give that user? 4€? 5€? That's what this
              options controls: how Akeeba Subscriptions will handle the
              rounding of the remaining subscription time over the flexible
              discount period you've defined. You have the following
              options:</para>

              <variablelist>
                <varlistentry>
                  <term>Round down</term>

                  <listitem>
                    <para>The decimals are stripped off. 1.0, 1.2, 1.5 and 1.9
                    will all be rounded down to 1.</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Round up</term>

                  <listitem>
                    <para>The number is rounded to the next whole number. 1.0
                    remains 1. 1.2, 1.5 and 1.9 become 2.</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Smart rounding</term>

                  <listitem>
                    <para>If the decimal value is less than 0.5 the number is
                    rounded down. If the decimal value is equal or over 0.5 it
                    is rounded up. 1.0 and 1.2 become 1. 1.5 and 1.9 become
                    2.</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </listitem>
          </varlistentry>
        </variablelist></para>
    </section>

    <section xlink:href="email-templates" xml:id="email-templates">
      <title>E-mail templates</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>This feature allows you to manage HTML email templates for all
      emails sent out by Akeeba Subscriptions. In contrast with the
      translation strings approach used in the Core release, this feature lets
      you manage your template emails more easily, define beautiful HTML email
      templates (instead of ugly plain text emails) and even set up different
      email messages per subscription level and language.</para>

      <para>You can access this feature by clicking on
      <guimenu>Setup</guimenu>, <guimenuitem>E-mail Templates</guimenuitem> in
      the toolbar links area.</para>

      <para>Each e-mail template has the following options:</para>

      <variablelist>
        <varlistentry>
          <term>Email type</term>

          <listitem>
            <para>This drop down displays all email types currently known to
            Akeeba Subscriptions. In fact, Akeeba Subscriptions is smart
            enough to query the currently published plugins if they support
            sending Akeeba Subscriptions-related emails and, if so, which
            email types they support. As a result you will only see the email
            types supported by currently published plugins. Make sure you have
            enabled all the e-mail related plugins you are interested in
            before trying to edit e-mail templates.</para>

            <para>Please note that this is a grouped list. The grayed out
            header indicates which e-mail plugin the following, indented to
            the right, email types refer to. Some e-mail types may have the
            same name across different plugins but are triggered in very
            different conditions.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Language</term>

          <listitem>
            <para>Which language this e-mail template is written in. Choose
            <option>(All)</option> to have this e-mail template apply to all
            languages. Akeeba Subscriptions is smart enough to figure out
            which template it should use. It will first try to find a template
            in the user's preferred language, then the site's default
            language, then English, then load the entries marked as
            All.</para>

            <para>If you have a single language website (e.g. only Dutch) you
            first need to make an email template in your own language e.g.
            Dutch or set it to All Languages. Furthermore you need to
            unpublish the original English versions.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Subscription level</term>

          <listitem>
            <para>Which subscription level this e-mail template applies to.
            Choose <option>(All levels)</option> to have this e-mail template
            apply to all subscription levels. Akeeba Subscriptions is smart
            enough to figure out which template it should use. It will first
            try to find a template for the subscription level of the
            subscription involved, the entries marked as All levels.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Status</term>

          <listitem>
            <para>If you want to temporarily disable an email template without
            deleting it just set its Status to Unpublished.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Subject line</term>

          <listitem>
            <para>The subject line of the email. You can use <link
            linkend="message-variables">message variables</link> in it.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Email body</term>

          <listitem>
            <para>The body of the email. You can use rich HTML text and <link
            linkend="message-variables">message variables</link> in it.</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>

    <section xml:id="coupons">
      <title>Coupons</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>You can access this feature by clicking on
      <guilabel>Coupons</guilabel>, <guilabel>Coupons</guilabel> in the
      toolbar links area.</para>

      <para>This feature allows you to create discount coupon codes. When a
      user enters a valid coupon code during registration, it's subtracted
      from the price of his subscription. You can let coupons work on specific
      subscriptions, specific users, for a predefined time period or even for
      a predefined number of times before becoming inactive. You can even
      create 100% discount coupons for giveaways or other similar promotional
      reasons.</para>

      <note>
        <para>You can not publish/unpublish coupons. A coupon will be
        automatically published when the current date is between its Valid
        From / Valid To dates. Likewise, a coupon will be automatically
        unpublished when the current date is outside its Valid From / Valid To
        dates. In order to unpublish a coupon set its Valid To date in the
        past and it will be automatically unpublished.</para>
      </note>

      <para>Each coupon supports the following fields:</para>

      <variablelist>
        <varlistentry>
          <term>Title</term>

          <listitem>
            <para>A descriptive title for your coupon. It is only displayed to
            you, it is not displayed to your users.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Coupon code</term>

          <listitem>
            <para>The coupon code which the user has to enter in order to
            receive the discount. Very important: coupon codes are case
            insensitive, therefore it's best to type them in all capital
            letters. Moreover, we suggest using only capital Latin letters
            without accents or diacretics and numbers, so that all users can
            type them in using their keyboard.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Discount type</term>

          <listitem>
            <para>You can either specify Percent (give an X% discount over the
            price) or Value (deducts X from the price). It works in
            conjunction with the Value field below. For example, if you are
            using Euros as your currency, you set Value here and type in a
            value of 10, the coupon gives 10 Euro discount.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Discount value</term>

          <listitem>
            <para>See above</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Published</term>

          <listitem>
            <para>Set to Yes for the coupon to become active</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Hits</term>

          <listitem>
            <para>This is the number of times this coupon has been
            used.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Valid from</term>

          <listitem>
            <para>When the coupon will become active (note: the date is
            expressed in the GMT/UTC timezone). Leave blank and it will be
            adjusted automatically.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Valid to</term>

          <listitem>
            <para>When the coupon will become inactive (note: the date is
            expressed in the GMT/UTC timezone). Leave blank and it will be
            adjusted automatically.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>User</term>

          <listitem>
            <para>Click on <guibutton>Select</guibutton> to pick a user for
            which the coupon will be active. For all other users the coupon
            will have no effect. Leave blank to let all users –even new ones–
            to use the coupon.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>User Groups</term>

          <listitem>
            <para>This option is only available when using Akeeba
            Subscriptions on Joomla! 1.6 and later.</para>

            <para>Choose the user group(s) which will have access to the
            coupon. If a user does not belong to one of the selected groups,
            the coupon code will not be available for him and he won't be able
            to use it. If you don't want to impose any restriction, leave this
            blank (or make sure that only the <option>- Select -</option>
            pseudo-option is selected) and Akeeba Subscriptions will allow all
            user groups to have access to this coupon code.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Subscription Levels</term>

          <listitem>
            <para>Choose the subscription levels which the coupon code can be
            applied to. Leave it blank (or make sure that only the <option>-
            Select -</option> pseudo-option is selected) to let Akeeba
            Subscriptions apply the coupon to all current and future
            subscription levels you are offering on your site.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Hits limit</term>

          <listitem>
            <para>If it is greater than zero, the coupon can be used up to
            this number of times before it becomes inactive. In other words,
            when the Hits counter becomes equal to Hits Limit, the coupon can
            no longer be used by anyone. Leave it blank to not apply any such
            limit.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Maximum hits per user</term>

          <listitem>
            <para>If it is greater than zero, the coupon code can be used up
            to this number of times <emphasis>per user</emphasis>. For
            example, if this value is set to 2 a user will be able to use it
            only up to two times. The third time he tries to use it, the
            coupon code will have no effect.</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <section xml:id="coupons-api">
        <title>Coupons API</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <para>You can access this feature by clicking on
        <guilabel>Coupons</guilabel>, <guilabel>API Coupons</guilabel> in the
        toolbar links area.</para>

        <para>There are many cases when you want to allow third parties to
        create coupon codes on your site automatically. For example a reseller
        who processes the transactions on their end might need to create 100%
        discount coupon codes for your site that his clients can redeem to
        subscribe to your site. Or you may have an ongoing deal with a third
        party to offer a discount on your subscriptions but do not wish to let
        them publish a coupon code common for every one of their clients, in
        fear of abuse (someone sharing the coupon code). In this case you need
        to use the Coupons API which allows on-demand generation of single use
        coupon codes.</para>

        <para>First you need to create at least one API entry for each one of
        your associates. The settings you can define for each API entry
        are:</para>

        <variablelist>
          <varlistentry>
            <term>Title</term>

            <listitem>
              <para>Just a reminder for you to know what this API entry is
              supposed to do, e.g. "20% off LEVEL1 coupons for XYZ
              Corp."</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Key</term>

            <listitem>
              <para>The API key. You can use anything you like as long as it
              consists only of lowercase letters a-z and numbers 0-9. You will
              be giving that to your associate.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Password</term>

            <listitem>
              <para>The API password. You can use anything you like as long as
              it consists only of lowercase letters a-z and numbers 0-9. You
              will be giving that to your associate. This password is used to
              guard against unauthorised access to the API key.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Discount type</term>

            <listitem>
              <para>The discount type of the coupon, percent or value. Please
              see the coupons feature for more information.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Discount value</term>

            <listitem>
              <para>The value of the coupon. Please see the coupons feature
              for more information.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Published</term>

            <listitem>
              <para>Is this API key published? Unpublished API keys cannot be
              used.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Subscription levels</term>

            <listitem>
              <para>Which subscription levels the coupon generated by the API
              key will apply to. If you make no selection it applies to all
              subscription levels.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Usage limits</term>

            <listitem>
              <para>You can have one of three usage limit types:</para>

              <itemizedlist>
                <listitem>
                  <para>Create up to this many coupons. Only up to this many
                  coupons can be created with the API key.</para>
                </listitem>

                <listitem>
                  <para>Allow up to this many subscriptions to be created.
                  Similar to the above, but it actually counts how many
                  subscription have been created, i.e. how many of the coupon
                  codes have actually been used.</para>
                </listitem>

                <listitem>
                  <para>This is not an exact science! Let's say that this
                  limit is set to 10. Let's say that your associate has
                  created 10 coupon codes but only 9 of them have been used.
                  He can now create an 11th coupon code. Let's assume that
                  this coupon code is immediately used. We are left with one
                  coupon code which has not been used. This coupon code CAN be
                  used by the user, so you'll end up with 11 used coupon codes
                  generated by this API key.</para>
                </listitem>

                <listitem>
                  <para>Maximum value of discount given. Similar to the above,
                  but instead of counting how many coupon codes have been used
                  it counts how much money has been given as a discount.
                  Again, this is not an exact science so be warned.</para>
                </listitem>
              </itemizedlist>

              <para>You can set the value of the limit in the box to the right
              of the drop-down list.</para>

              <para>If you want no limits, select "Create up to this many
              coupons" and either leave the field blank or set it to 0. This
              tells Akeeba Subscriptions to ignore the limits
              altogether.</para>
            </listitem>
          </varlistentry>
        </variablelist>

        <para>The exact URL for each API key is shown when you edit an API key
        entry. It only shows when you edit an existing API key. It doesn't
        show when you create a new API key until you click on Save.</para>
      </section>
    </section>

    <section xml:id="subscriptions-management">
      <title>Subscriptions management</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>You can access this feature by clicking on
      <guilabel>Subscriptions</guilabel> in the toolbar links area.</para>

      <para>This is a standard Joomla! administrator page which needs no
      explanation.</para>

      <para>The icons on the left hand side of the user information are
      Gravatars. If the user has linked a Gravatar to their email address, it
      is displayed next to their name, otherwise a default avatar (head-shaped
      cut out) is displayed.</para>

      <para>In order to edit a subscription, click on the leftmost column (the
      numeric ID) of the subscription record. Clicking on the other links will
      edit the respective item, i.e. clicking on the subscription level will
      open the subscription level editor.</para>

      <para>The available columns (and the respective filters on each column)
      are:</para>

      <variablelist>
        <varlistentry>
          <term>ID</term>

          <listitem>
            <para>The subscription ID. Clicking on an ID will open the
            subscription for editing.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Level</term>

          <listitem>
            <para>The subscription level of this particular subscriptions.
            Click on a subscription level to open the subscription level's
            editor page. You can use the dropdown to filter the view by a
            particular subscription.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>User</term>

          <listitem>
            <para>Displays the user information of this subscription. Typing
            in the search box will search for whatever you typed in the
            username, full name and email address of the user. Partial matches
            will also be returned, e.g. searching for "car" will also match
            "Carlos", "Descartes" and, of course, "Car".</para>

            <para>Clicking on the user information will open the Akeeba
            Subscriptions' user information editor where you can see the
            values of core and custom fields stored by Akeeba Subscriptions
            for the specific user's account.</para>

            <tip>
              <para>If you are an EU merchant you may have observed that the
              VIES service, used to validate the European VAT numbers, is
              off-line or malfunctioning more often than not. This can cause a
              problem with your clients, as they have to pay VAT which they
              shouldn't. In such cases set the <guilabel>VAT is VIES
              Registered</guilabel> to <option>Yes, don't check
              again</option>. Akeeba Subscriptions will consider the VAT
              number as VIES registered, without consulting the VIES
              service.</para>
            </tip>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Payment / Discount</term>

          <listitem>
            <para>The payment column can be a dollar icon (successful
            payment), dollar icon with an exclamation mark (the payment is
            being processed), dollar icon with a star (the user was taken to
            the payment processor but we don't have any news if the payment
            worked) or a dollar icon in a red circle (payment was cancelled,
            reversed or failed).</para>

            <para>The discount column will tell you if a discount was used and
            what type of discount. A dollar card followed by green bold text
            means that a coupon was used; the green text is the coupon's code.
            A magician's hat followed by brown text indicates that an Upgrade
            Rule was used; the brown text is the title of the upgrade rule
            used.</para>

            <para>You have four available filters:</para>

            <itemizedlist>
              <listitem>
                <para>The State dropdown allows you to filter by payment
                state, e.g. Completed will only show the subscriptions which
                are paid for</para>
              </listitem>

              <listitem>
                <para>The first text box allows you to filter by the Payment
                Processor Key of each subscription. This is useful when you
                have, for example, they Transaction # of a PayPal payment and
                you want to find the subscription it refers to; just paste it
                to this box and press ENTER on your keyboard!</para>
              </listitem>

              <listitem>
                <para>The Discount dropdown allows you to filter by the
                discount type which was used on that subscription</para>
              </listitem>

              <listitem>
                <para>The second textbox allows you to filter by coupon code
                or upgrade rule title.</para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Amount</term>

          <listitem>
            <para>Displays the breakdown of the amount paid by the user. The
            first line displays the net value, before any discount or taxes
            and is displayed in green letters if and only if the subscription
            cost money (it's not a zero-priced subscription). The second line
            is the discount amount and appears in red letters and a negative
            sign prefix if and only if there was a discount applied to the
            subscription. The third line is the tax amount and appears in
            brown, italic letters if and only if a tax amount (as determined
            by a tax rule) was applied. Finally, the bigger, black, bold
            letters indicate the amount paid by the user.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Valid From / Valid To</term>

          <listitem>
            <para>Shows the validity period of a subscription. The Valid From
            date is displayed left aligned in black type. The Valid To date is
            displayed right aligned in red type.</para>

            <para>You have two date pickers you can use to filter your
            subscriptions. The first one is the From and the second one is the
            To picker. You can have the following combinations:</para>

            <itemizedlist>
              <listitem>
                <para>Date entered in From, nothing in To. Shows subscriptions
                with a Valid From date AFTER the one you entered.</para>
              </listitem>

              <listitem>
                <para>Date entered in To, nothing in From. Shows subscriptions
                with a Valid To date BEFORE the one you entered.</para>
              </listitem>

              <listitem>
                <para>Date entered in From and To. Shows subscriptions with a
                Valid From date BETWEEN the two entered dates. The Valid To
                date can be anything. This is a bit unintuitive!</para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Created On</term>

          <listitem>
            <para>When the subscription was created. Entering a date in the
            date picker allows you to filter the display showing subscriptions
            which were created AFTER the entered date.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Published</term>

          <listitem>
            <para>Is the subscription active?</para>

            <important>
              <para>Clicking on the Published column apparently has no effect.
              This is not a bug; it's the expected behaviour. The publish
              status of each subscriptions is defined by the payment state and
              the valid from/ to dates. If the payment state is marked as
              "Completed" then the subscription is forced to be active within
              the time period defined by the valid from / to columns. If you
              want to disable a paid subscription, set its payment state to
              cancelled and unpublish it.</para>
            </important>
          </listitem>
        </varlistentry>
      </variablelist>

      <para>You can use the <guibutton>Run Integrations</guibutton> button any
      time in order to have Akeeba Subscriptions re-process all integrations
      with third party components. This is useful when you suspect an
      integration has gone wrong, you changed the options in an integration
      plugin or you just imported a large number of subscriptions.</para>

      <para>Using the <guibutton>Export to CSV</guibutton> button allows you
      to export the current view into a CSV file for further processing in a
      spreadsheet application such as Microsoft Office Excel, Apple Numbers or
      OpenOffice.org Calc. Do note that the full set of raw data is dumped to
      the CSV file. What we mean is that the filters are applied, but instead
      of exporting just one page of data (what is displayed on your screen) it
      will export all pages of data.</para>

      <tip>
        <para>If you want to get the subscriptions list as CSV data through a
        CRON job, you can use the following URL:</para>

        <para><uri>http://<replaceable>www.example.com</replaceable>/index.php?option=com_akeebasubs&amp;view=subscriptions&amp;format=csv&amp;username=<replaceable>yourusername</replaceable>&amp;password=<replaceable>yourpassword</replaceable></uri></para>

        <para>where www.example.com is the domain name of your site,
        yourusername is the user name of a Super User and yourpassword is the
        password of that user. Please do not use this URL from your local
        computer over an insecure HTTP connection for security reasons. Only
        use it in CRON jobs running on your server or when accessing your site
        over HTTPS (encrypted / SSL-secured connection).</para>
      </tip>
    </section>

    <section xml:id="frotn-end-items">
      <title>Front-end items</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>There are four types of front-end menu items you can
      create:</para>

      <variablelist>
        <varlistentry>
          <term>Subscribe • Specific Level</term>

          <listitem>
            <para>Allows you to create a menu link to the subscription page of
            a specific Subscription Level</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Subscription Levels • Awesome Layout</term>

          <listitem>
            <para>Presents a list of all available subscription levels in a
            comparison table, using CSS3 styling. It's the most eye-catching
            presentation layout and it's best to use only if you have a small
            number of subscription levels (4 to 5)</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Subscription Levels • All Levels</term>

          <listitem>
            <para>Presents a list of all available subscription levels as a
            two column list of boxes. It is a relatively dull presentation
            mode, but is suitable for a very large number of subscription
            levels (over 6)</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>My subscriptions • All of my subscriptions</term>

          <listitem>
            <para>Think of it as a kind of "My Account" page. It shows the
            user all of his subscriptions and allows him to review the
            information on each one of them, as well as renew them.</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <para>The subscription page defines two module positions where you can
      publish modules to further expand the information presented on the page.
      Publishing modules in the <option>akeebasubscriptionsheader</option>
      position will make them appear at the very top of the page, right above
      the Steps bar. That's a good place to publish information about SSL
      security or banners about your latest special offers. Publishing modules
      in the <option>akeebasubscriptionsfooter</option> position will make
      them appear right after the end of the subscription form. This is a good
      place to put a custom HTML module with links to your terms of service,
      business contact information, etc.</para>

      <para>Additionally, the page which lists the subscriptions defines
      another two module positions where you can publish modules to further
      expand the information presented on the page. Publishing modules in the
      <option>akeebasubscriptionslistheader</option> position will make them
      appear at the very top of the page, right above the list of subscription
      levels. Publishing modules in the
      <option>akeebasubscriptionslistfooter</option> position will make them
      appear right after the end of the subscription levels list.</para>
    </section>

    <section xml:id="importing">
      <title>Importing data</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Akeeba Subscriptions allows you to import data from other
      subscription components and from other sources. This allows you to move
      data from an old subscriptions system into Akeeba Subscriptions.</para>

      <warning>
        <para>If you have recurring payments set up in your old system you
        must not import them to Akeeba Subscriptions. Recurring payments use a
        component-specific payment notification URL and integration code.
        Importing recurring subscriptions will lead to your customers being
        charged but their subscriptions not renewing. This is not a bug; it is
        how recurring payments work in all payment processors we know of. You
        will need to MANUALLY cancel existing recurring payments with your
        payment processing service and instruct your users to
        resubscribe.</para>
      </warning>

      <section xml:id="importing-from-csv">
        <title>Importing from CSV (a.k.a. Import Users)</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <para>If you need a way to quickly import your existing subscriptions
        to Akeeba Subscriptions, the fastest way is using the CSV import
        feature. CSV files can be generated by most subscription systems,
        spreadsheet applications (e.g. Microsoft Office Excel,
        OpenOffice/LibreOffice Calc, Apple Numbers, Google Docs etc) and
        database tools (e.g. phpMyAdmin). You can access the CSV import from
        Akeeba Subscription's dashboard page, by clicking on the Operations
        tab, and then on <guibutton>Import users</guibutton>.</para>

        <important>
          <para>You need to manually create the subscription levels before
          importing any data.</para>

          <para>Imported data will NOT overwrite existing subscriptions; it
          will simply append new subscriptions.</para>

          <para>All Akeeba Subscriptions integration plugins and Joomla! user
          plugins run when a new subscription or user (respectively) is
          created. In order to avoid emails being sent you must disable the
          Akeeba Subscriptions - Subscription e-mails plugin. To avoid
          invoices being created (which might lead to import failure) you have
          to disable all invoice related plugins, e.g. Akeeba Subscriptions -
          Integrated Invoicing. To avoid new user emails being generated you
          must edit the User - Joomla! plugin and disable sending emails from
          its basic options.</para>

          <para>The import can lead to timeout issues. Please try importing a
          few records (depending on your server, 10 to 100) at a time.
          Importing hundreds or thousands of records will probably lead to a
          white page, Internal Server Error 500 or a timeout error
          page.</para>

          <para>The first line of the CSV file MUST contain the column
          names.</para>
        </important>

        <para>In the interface you have the following options:</para>

        <variablelist>
          <varlistentry>
            <term>CSV delimiters</term>

            <listitem>
              <para>CSV files can have their fields separated and enclosed in
              different ways. You will have to open your CSV file with a plain
              text editor such as Notepad, gEdit or TextEdit to determine
              which format your file is using. Even different versions of the
              same software may be using different delimiters. The options you
              have are:</para>

              <itemizedlist>
                <listitem>
                  <para><option>abc, def</option> Fields separated by commas,
                  not enclosed in any character</para>
                </listitem>

                <listitem>
                  <para><option>abc; def</option> Fields separated by
                  semicolons, not enclosed in any character</para>
                </listitem>

                <listitem>
                  <para><option>"abc"; "def"</option> Fields separated by
                  semicolons, enclosed in double quotes</para>
                </listitem>

                <listitem>
                  <para><option>Custom delimiters</option> is used to show the
                  following two options which allows better
                  customisation</para>
                </listitem>
              </itemizedlist>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Field delimiter</term>

            <listitem>
              <para>Enter the character used to separate fields from each
              other such as a comma, a semicolon, a pipe character etc. If you
              leave it blank hell will break loose. You've been warned!</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Field enclosure</term>

            <listitem>
              <para>Enter the character used to enclose fields such as quote
              or double quote. You may leave that blank if none is used in
              your file</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>File</term>

            <listitem>
              <para>Choose the CSV file to upload</para>
            </listitem>
          </varlistentry>
        </variablelist>

        <para>Akeeba Subscriptions tries to guess the line ending of your
        file. It supports all known line endings: CR (Mac OS classic and all
        versions of Microsoft Office for Mac, even on Mac OS X), LF (Linux,
        UNIX, Mac OS X), CR and LF (Windows, DOS).</para>

        <para>Your CSV file MUST contain all of the following fields:</para>

        <variablelist>
          <varlistentry>
            <term>username</term>

            <listitem>
              <para>The username of the user account linked with this
              subscription. If the user account doesn't exist it will be
              created.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>email</term>

            <listitem>
              <para>The email of the user account linked with this
              subscription. If the user account doesn't exist it will be
              created.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>password</term>

            <listitem>
              <para>Only used if the user account doesn't already exist. In
              this case, this is the password that will be used for the new
              user account. You may leave it blank if the user account already
              exists.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>name</term>

            <listitem>
              <para>The full (real) name of the user account linked with this
              subscription. Only used if the user account doesn't already
              exist.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>subscription_level</term>

            <listitem>
              <para>The title of the subscription level for this subscription.
              The subscription level must already exist.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>publish_up</term>

            <listitem>
              <para>The starting date of the subscription. The format MUST be
              yyyy-mm-dd HH:MM:SS (four digits for the year, dash, two digits
              for the month, dash, two digits for the day of the week, space,
              two digits for the hour in 24-hour format, colon, two digits for
              the minutes, colon, two digits for the seconds), e.g.
              <parameter>2013-08-15 22:10:55</parameter>. The date and time
              must be in GMT timezone.</para>
            </listitem>
          </varlistentry>
        </variablelist>

        <para>Your CSV file MAY contain one or more of the following
        fields:</para>

        <variablelist>
          <varlistentry>
            <term>isbusiness</term>

            <listitem>
              <para>1 if this user is a business entity, 0 if it's a
              person.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>businessname</term>

            <listitem>
              <para>The name of the business entity</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>occupation</term>

            <listitem>
              <para>The profession/occupation of the business entity</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>vatnumber</term>

            <listitem>
              <para>The VAT number of the user without the country prefix. For
              example, if a user's VAT number is DE1234567890 you MUST set it
              to 1234567890 without the DE prefix (which denotes Germany as
              the country of the VAT number).</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>viesregistered</term>

            <listitem>
              <para>1 is the user is registered with the VIES system, 0
              otherwise. Only makes sense for EU citizens and
              businesses.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>address1</term>

            <listitem>
              <para>The first line of the user's mail address, usually street
              name and number</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>address2</term>

            <listitem>
              <para>The second line of the user's mail address, usually name
              of house or floor / apartment number.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>city</term>

            <listitem>
              <para>The city of the user</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>state</term>

            <listitem>
              <para>The state of the user. Please note that you have to type
              the State Code as defined in Tools, States in the component. For
              example, the state code for California (as shipped with the
              component) is CA. If the user lives in California you have to
              type CA in this field, NOT California.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>zip</term>

            <listitem>
              <para>The zip / postal code</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>country</term>

            <listitem>
              <para>The user's country code. Please note that you must use the
              two letter <link
              xlink:href="http://userpage.chemie.fu-berlin.de/diverse/doc/ISO_3166.html">ISO
              3166 country code</link>. For example, the country code for the
              United States of America is US whereas the country code for
              Germany is DE. If you look at the ISO 3166 table linked above,
              the two letter country code is under the "A 2" column.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>publish_down</term>

            <listitem>
              <para>The expiration date of the subscription. The format MUST
              be yyyy-mm-dd HH:MM:SS (four digits for the year, dash, two
              digits for the month, dash, two digits for the day of the week,
              space, two digits for the hour in 24-hour format, colon, two
              digits for the minutes, colon, two digits for the seconds), e.g.
              <parameter>2013-08-15 22:10:55</parameter>. The date and time
              must be in GMT timezone. If not defined Akeeba Subscriptions
              will guess it based on the publish_up date/time and the
              subscription level's length.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>enabled</term>

            <listitem>
              <para>0 if the subscription is not active, 1 if it is active. If
              not defined it will be determined automatically.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>processor</term>

            <listitem>
              <para>The name of the payment processor, all lowercase without
              spaces. If unsure, use the value <option>none</option></para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>processor_key</term>

            <listitem>
              <para>The transaction number as recorded by the payment
              processor. If unsure, use a random number. Each processor_key
              must be unique.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>status</term>

            <listitem>
              <para>The payment status. Can be one of:</para>

              <itemizedlist>
                <listitem>
                  <para><option>N</option> means New. The subscription is not
                  paid for and will be automatically disabled.</para>
                </listitem>

                <listitem>
                  <para><option>P</option> means Pending. The payment is
                  pending. For example waiting for a bank transfer or cheque
                  to clear and the subscription will be automatically
                  disabled.</para>
                </listitem>

                <listitem>
                  <para><option>C</option> means Completed. The payment is
                  complete and the subscription is enabled.</para>
                </listitem>

                <listitem>
                  <para><option>X</option> means Cancelled. The payment was
                  cancelled / reversed / refunded and the subscription will be
                  automatically disabled.</para>
                </listitem>
              </itemizedlist>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>net_amount</term>

            <listitem>
              <para>The net (before tax) amount paid for the subscription. You
              MUST use a dot as the decimal separator.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>tax_amount</term>

            <listitem>
              <para>The tax amount paid for the subscription. You MUST use a
              dot as the decimal separator.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>gross_amount</term>

            <listitem>
              <para>The gross (net plus tax) amount paid for the subscription.
              You MUST use a dot as the decimal separator.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>recurring_amount</term>

            <listitem>
              <para>The gross amount charged for auto-recurring subscriptions.
              You MUST use a dot as the decimal separator.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>tax_percent</term>

            <listitem>
              <para>The percentage of the tax on the net price. This must be a
              number from 0.0 to 100.0. You MUST use a dot as the decimal
              separator.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>created_on</term>

            <listitem>
              <para>The date and time when the subscription was created. The
              format MUST be yyyy-mm-dd HH:MM:SS (four digits for the year,
              dash, two digits for the month, dash, two digits for the day of
              the week, space, two digits for the hour in 24-hour format,
              colon, two digits for the minutes, colon, two digits for the
              seconds), e.g. <parameter>2013-08-15 22:10:55</parameter>. The
              date and time must be in GMT timezone.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>prediscount_amount</term>

            <listitem>
              <para>The net amount before any discount was applied. You MUST
              use a dot as the decimal separator.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>discount_amount</term>

            <listitem>
              <para>The discount amount deducted from the net price. You MUST
              use a dot as the decimal separator.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>contact_flag</term>

            <listitem>
              <para>This field determines if the user will be contacted about
              imminent subscription expiration. The possible values
              are:</para>

              <itemizedlist>
                <listitem>
                  <para><option>0</option> means that both first and second
                  reminders (and the post-expiration reminder) will be
                  sent</para>
                </listitem>

                <listitem>
                  <para><option>1</option> means that the first reminder is
                  already sent. Only the second and post-expiration reminder
                  will be sent.</para>
                </listitem>

                <listitem>
                  <para><option>2</option> means that the second reminder is
                  already sent. Only the post-expiration reminder will be
                  sent.</para>
                </listitem>

                <listitem>
                  <para><option>3</option> means that we should not send any
                  reminders to the user at all; he has already renewed his
                  subscription.</para>
                </listitem>
              </itemizedlist>
            </listitem>
          </varlistentry>
        </variablelist>
      </section>
    </section>

    <section xml:id="custom-fields">
      <title>Custom fields</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <important>
        <para>You need to publish the "Akeeba Subscriptions - Custom fields"
        plugin for this feature to work. This plugin is installed and
        automatically activated when you install or update Akeeba
        Subscriptions.</para>
      </important>

      <para>One of the most frequently requested features in Akeeba
      Subscriptions has been the customisation of the fields shown in the
      subscription page. Traditionally, this has been possible only by
      creating specialised Joomla! plugins. For all the merits of custom
      plugins, there was always one major drawback: it takes a developer to
      create them, making it impossible for non-developer site owners and
      integrators to add custom fields. Not any more! The Custom Fields
      feature of Akeeba Subscriptions allows you to easily create simple
      fields, such as text boxes and selection lists, using a simple graphical
      user interface. The custom fields are stored per user and shown in
      Akeeba Subscriptions' <guilabel>Users</guilabel> page.</para>

      <para>You can access this feature by clicking on the Custom Fields
      toolbar link.</para>

      <para>The parameters for each custom field are:</para>

      <variablelist>
        <varlistentry>
          <term>Title</term>

          <listitem>
            <para>The display title of the field. If you want to translate the
            title, please use a language constant as described in our <link
            linkend="custom-fields-translation">translation
            instructions</link> below.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Slug</term>

          <listitem>
            <para>The internal name of the field. It should consist of only
            lowercase, unaccented letters (a-z) and numbers (0-9). This is
            used when you need to <link
            linkend="custom-fields-accessing">access the field
            data</link>.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>When to Show</term>

          <listitem>
            <para>Fields can be shown for all subscription levels or for a
            specific subscription level only.</para>

            <warning>
              <para>When you select <option>Specific level</option> the custom
              field will not be displayed in the Users page of Akeeba
              Subscriptions. It will only be available in the
              post-subscription messages and emails.</para>
            </warning>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Subscription Level</term>

          <listitem>
            <para>If you set the option above to <option>Specific
            level</option> or <option>All levels except selected</option> this
            defines for which level the field will be displayed. When the
            <guilabel>When to show</guilabel> option is set to <option>All
            levels</option> this will be ignored.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Field Type</term>

          <listitem>
            <para>Chose the type of the field. The available options
            are:</para>

            <itemizedlist>
              <listitem>
                <para><emphasis role="bold">Text box</emphasis>. Creates a
                simple text entry box.</para>
              </listitem>

              <listitem>
                <para><emphasis role="bold">Password box</emphasis>. Creates a
                simple password entry box.</para>
              </listitem>

              <listitem>
                <para><emphasis role="bold">Checkbox</emphasis>. Creates a
                single tick box.</para>
              </listitem>

              <listitem>
                <para><emphasis role="bold">Drop-down</emphasis>. Creates a
                drop-down selection field. Ideal for selecting between short
                descriptions or a lengthy list. You can define the available
                options in the <guilabel>Options</guilabel> field
                below.</para>
              </listitem>

              <listitem>
                <para><emphasis role="bold">Mutliple selection
                list</emphasis>. Creates a multiple selection list. You can
                define the available options in the
                <guilabel>Options</guilabel> field below.</para>
              </listitem>

              <listitem>
                <para><emphasis role="bold">Radio buttons</emphasis>. Creates
                a one-of-many selection field using vertically stacked radio
                buttons. Ideal for selecting between a few, described in great
                length, options. You can define the available options in the
                <guilabel>Options</guilabel> field below.</para>
              </listitem>

              <listitem>
                <para><emphasis role="bold">Date</emphasis>. Creates a date
                picker field. The user will be able to type in a date or
                select a date using the standard Joomla! pop-up date
                picker.</para>
              </listitem>

              <listitem>
                <para><emphasis role="bold">Subscription options</emphasis>.
                This creates a drop-down with subscription options. This works
                like the "Drop-down" field type, with two very important
                difference: each option can increase or decrease the net price
                and the duration (length in days) of the subscription.</para>

                <para>For example, a local footbal club could offer a
                "supporter" membership which costs 200 Euros annually. If the
                subscriber wants access to cheaper tickets they want an extra
                fee of 20 Euros per year. Without "Subscription options" you'd
                need to create two subscription levels, one without access to
                cheaper tickets for 200 Euros and one with cheaper tickets for
                220 Euros. With "Subscription options" you can create only one
                subscription level for 200 Euros with a custom field for
                access to cheaper tickets. The field allows the subscriber to
                select between no access (no additional charge) or with access
                (extra charge of 20 Euros).</para>

                <para>Another example is having the same kind of subscription,
                e.g. access to a local newspaper, with three different
                subscription lengths: 1 month, 6 months, 1 year. Traditionally
                you'd need to create three subscription levels, one for each
                length. Using a Subscription Options custom field you can
                create only one level with a duration of 180 days (i.e. 6
                months) and create three entries in the Subscription Options
                field with duration modifiers of -150 days (180 days minus 150
                days = 30 days, i.e. one month) and 185 days (180 days plus
                185 days is 265 days, i.e. a year).</para>

                <important>
                  <para>This field type is a per-subscription option. Unlike
                  other custom fields (which are per-user options) it's not
                  saved in the User profile. It is kept in the subscription
                  record and you will need to use the [SUBCUSTOM:slug_name]
                  tag to access its contents in invoices, emails and
                  messages.</para>
                </important>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Options</term>

          <listitem>
            <para>Its function depends on the field type:</para>

            <itemizedlist>
              <listitem>
                <para><emphasis role="bold">Text and password box</emphasis>.
                Anything you type in here will be shown as a placeholder (gray
                text which disappears when you start typing) inside the
                box.</para>
              </listitem>

              <listitem>
                <para><emphasis role="bold">Checkbox</emphasis>. Anything you
                type in Options is ignored.</para>
              </listitem>

              <listitem>
                <para><emphasis role="bold">Everything else</emphasis>. For
                all other field types this is how you define options and their
                labels. The format is VALUE=LABEL, on pair per line. For
                example:</para>

                <programlisting>1=One
10=Ten
100=A hundred
1000=A thousand</programlisting>

                <para>With the example above, a drop=down list would show you
                the options One, Ten, A hundred and A thousand. The value
                stored, depending on your selection, would be 1, 10, 100 or
                1000.</para>

                <para>To make it clear: Each line defines one option to be
                shown to the user. Anything to the left of the equals sign is
                saved in the database and is made available to you when you
                display the contents of the field. Anything to the right of
                the equals sign is what your subscriber sees in the
                subscription page.</para>

                <para>If you want to translate the label (right hand part) of
                the options you can use a language constant as described in
                our <link linkend="custom-fields-translation">translation
                instructions</link> below.</para>
              </listitem>

              <listitem>
                <para><emphasis role="bold">Subscription options</emphasis>.
                It works pretty much the same was as "Everything else"
                described above. The only difference is what comes to the
                right hand of the equals sign. Each line follows the
                convention VALUE=LABEL|PRICE|DAYS. For example:</para>

                <programlisting>1=Normal price
2=Cheaper, one month shorter|-9.99|-30
3=More expensive, one month longer|9.99|30
4=Invalid, same as the normal price|foobar
5=More expensive, same duration|9.99
6=Cheaper, but same length|-9.99|foobar
7=Same price, one month longer|0|30</programlisting>

                <para>That pretty much means that after the label you are
                expected to put a vertical bar (|) followed by the amount of
                money you want to add/remove from the subscription's net
                price, optionally followed by one more vertical bar (|)
                followed by the amount of time, in days, you want to
                add/remove from the subscription's duration.</para>

                <important>
                  <para>These options only apple to the Subscription Options
                  custom field type. They DO NOT apply to the Dropdown field
                  type!</para>
                </important>

                <para>In this example, if someone chooses the "Normal price"
                option the net price will be left unchanged because we did not
                define an amount for the option.</para>

                <para>Conversely if the choose "Cheaper, one month shorter"
                they will be charged 9.99 <emphasis>less</emphasis> because
                the value after the vertical bar is negative. Since this is
                followed by |-30 the subscription will be shorter by 30
                days.</para>

                <para>If they choose "More expensive, one month longer" they
                will be charged 9.99 <emphasis>more</emphasis> because the
                value after the vertical bar is positive. Moreover, as this is
                followed by |30 the subscription will also be longer by 30
                days.</para>

                <para>If they chose "More expensive, same duration" would be
                charged 9.99 <emphasis>more</emphasis> because the value after
                the vertical bar is positive. Since this is not followed by a
                subscription length modifier, the subscription's length would
                remain intact. This solution is useful e.g. in conferences
                when you want to allow people to also pay for an add-on event
                such as a dinner.</para>

                <para>If they chose "Same price, one month longer" they will
                pay the same price, because the price modifier is 0. However,
                the subscription length will be longer by 30 days. Honestly,
                we have no idea why someone would possibly want such a setup,
                but if you actually do need it it's there for you to
                use.</para>

                <para>If they choose "Invalid" the price will not be modified
                because the value after the vertical bar is not a number and
                Akeeba Subscriptions has no idea what you want it to do. This
                makes the field equivalent to a regular Drop-Down custom field
                and doesn't make much sense.</para>

                <para>Finally, the "Cheaper, but same length" has a valid
                price modified (-9.99) which means that the subscriber will
                pay less, but the subscription length modifier is not a number
                and will be totally ignored.</para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Default value</term>

          <listitem>
            <para>The default value the field is set to. It depends on the
            field type:</para>

            <itemizedlist>
              <listitem>
                <para><emphasis role="bold">Text and password box</emphasis>.
                The contents of the box.</para>
              </listitem>

              <listitem>
                <para><emphasis role="bold">Checkbox</emphasis>. Use ON, TRUE,
                1 or ENABLED to have the checkbox checked by default. Anything
                else will result in the checkbox being cleared (unchecked) by
                default</para>
              </listitem>

              <listitem>
                <para><emphasis role="bold">Everything else</emphasis>. Enter
                the value (left-hand part) of an option you defined in the
                <guilabel>Options</guilabel> above.</para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Allow Empty</term>

          <listitem>
            <para>If checked the custom field is allowed to be left empty /
            unchecked by your subscriber. If it's not checked (default),
            Akeeba Subscriptions will not allow your subscriber to submit the
            subscription form unless he fills in / checks the field.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Valid Field Label</term>

          <listitem>
            <para>If <guilabel>Allow Empty</guilabel> above is NOT checked,
            the contents of this field are shown next to your custom field
            when it's valid (filled in / checked). If you want to translate
            this label you can use a language constant as described in our
            <link linkend="custom-fields-translation">translation
            instructions</link> below.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Invalid Field Label</term>

          <listitem>
            <para>If <guilabel>Allow Empty</guilabel> above is NOT checked,
            the contents of this field are shown next to your custom field
            when it's invalid (not filled in / checked). If you want to
            translate this label you can use a language constant as described
            in our <link linkend="custom-fields-translation">translation
            instructions</link> below.</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <section xml:id="custom-fields-accessing">
        <title>Accessing custom fields data</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <para>Custom fields can be accessed like any other custom field
        throughout the component. Whenever our documentation is talking about
        the field name's it means the Slug you have entered in the custom
        field edit page. Below you can find the most common uses.</para>

        <bridgehead>Subscription Levels</bridgehead>

        <para>You can use custom field data in a Subscription Level's sign-up
        and cancellation messages. Assuming that your custom field's slug is
        my_field you can use the merge tag <option>[CUSTOM:MY_FIELD]</option>
        to access your custom field's contents. Please note that despite the
        case (lower or upper case) you've used for the slug you have to type
        the merge tag in all uppercase letters.</para>

        <bridgehead>Subscription and administrator emails</bridgehead>

        <para>In both the "Akeeba Subscriptions - Emails" and "Akeeba
        Subscriptions - Administrator Emails" plugins it's possible to
        customise the email messages sent to users and administrators
        respectively. Assuming that your custom field's slug is my_field you
        can use the merge tag <option>[CUSTOM:MY_FIELD]</option> to access
        your custom field's contents. Please note that despite the case (lower
        or upper case) you've used for the slug you have to type the merge tag
        in all uppercase letters.</para>

        <bridgehead>ccInvoices Tags</bridgehead>

        <para>If you are using our "ccInvoices - Akeeba Subscriptions merge
        tags" plugin it's possible to access the value of custom fields for
        use in your invoices. Assuming that your custom field's slug is
        my_field you can use the merge tag
        <option>{asuser_custom_<replaceable>my_field</replaceable>}</option>
        to access your custom field's contents. Please note that despite the
        case (lower or upper case) you've used for the slug you have to type
        the merge tag in all lowercase letters.</para>
      </section>

      <section xml:id="custom-fields-translation">
        <title>Localising (translating) custom fields' labels and
        options</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <para>It is possible to use "language constants" instead of plain
        words in titles and option values. A "language constant" is an
        arbitrary string consisting of uppercase English characters and
        underscores. It doesn't have to mean anything. It's just a
        placeholder. You will assign a meaning to each language constant later
        on. This is a language constant: THIS_IS_A_LANGUAGE_CONSTANT. This is
        also a language constant:
        COM_AKEEBASUBS_MYCUSTOMFIELDS_FOOBAR_TITLE.</para>

        <tip>
          <para>As a rule of thumb, we recommend using the naming convention
          COM_AKEEBASUBS_USERCUSTOMFIELD_<replaceable>FIELDNAME</replaceable>_TITLE
          for field title language constant and
          COM_AKEEBASUBS_USERCUSTOMFIELD_<replaceable>FIELDNAME</replaceable>_OPTION_<replaceable>OPTIONNAME</replaceable>
          for field option language constants, where
          <replaceable>FIELDNAME</replaceable> is the field's slug in all
          uppercase letters and <replaceable>OPTIONNAME</replaceable> is a
          shorthand for the name of the option.</para>

          <para>Likewise, we suggest using
          COM_AKEEBASUBS_USERCUSTOMFIELD_<replaceable>FIELDNAME</replaceable>_LABEL_VALID
          and
          COM_AKEEBASUBS_USERCUSTOMFIELD_<replaceable>FIELDNAME</replaceable>_LABEL_INVALID
          for the Valid Field Label and Invalid Field Label language
          constants.</para>

          <para>While it is not mandatory to follow this convention, it makes
          translation much easier as the key name provides
          <emphasis>context</emphasis> to your translators, e.g. it tells them
          that they are translating the field title for such and such user
          defined custom field in Akeeba Subscriptions.</para>
        </tip>

        <para>And now, the interesting part: assigning a localised message per
        language constant and site language. This is easy, using its
        <guilabel>Language Override</guilabel> feature. Log into your site's
        back-end and go to <guimenu>Extensions</guimenu>, <guisubmenu>Language
        Manager</guisubmenu>, then click on
        <guimenuitem>Overrides</guimenuitem>. Right above the list, on the
        right-hand side, there is a drop down. Select your desired language,
        e.g. <guilabel>English (United Kingdom) - Site</guilabel>.</para>

        <important>
          <para>Make sure you select the "- Site" variant of your
          language.</para>
        </important>

        <para>Click on the <guibutton>New</guibutton> button. In the new page,
        type the language constant in the <guilabel>Language
        constant</guilabel> field. Then enter the translation in the
        <guilabel>Text</guilabel> field. Then make sure you tick the
        <guilabel>For both locations</guilabel> checkbox. Finally click on the
        <guibutton>Save &amp; Close</guibutton> button to save your language
        override. Repeat those steps for each language on your site and your
        fields' labels will be localised.</para>
      </section>
    </section>

    <section xml:id="integrated-invoicing">
      <title>Integrated invoicing</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Since Akeeba Subscriptions 3.0.0 we offer an integrated invoicing
      feature in Akeeba Subscriptions. This allows you to automatically issue
      invoices to your subscribers when their subscription is paid for,
      without using a third party component or service.</para>

      <para>The invoices are issued against an HTML template and converted
      automatically to PDF. The PDF file can either be sent to the subscriber
      automatically or you can (re-)send it manually.</para>

      <para>The integrated invoicing is NOT enabled by default. If you want to
      enable it you have to publish the Akeeba Subscriptions - Integrated
      Invoicing plugin in Joomla!'s Plugin Manager page.</para>

      <para>Invoices generated by Akeeba Subscriptions' integrated invoicing
      will be available for download, as PDF files, in the My Subscriptions
      page at the front-end of the component.</para>

      <bridgehead>Security considerations</bridgehead>

      <para>All invoices' PDF files are stored in the
      <filename>administrator/components/com_akeebasubs/invoices</filename>
      directory. The directory comes with a .htaccess and web.config file
      which instructs Apache and IIS web servers respectively to forbid direct
      access to this directory files. Furthermore it comes with a blank
      index.html file which will prevent other web servers from producing a
      file listing in the directory. The names of the files are deliberately
      "mangled" using slightly hard to predict, semi-random names which will
      prevent malicious users from "guessing" their names and accessing them
      directly on web servers other than Apache and IIS.</para>

      <section xml:id="invoice-templates">
        <title>Invoice Templates</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <para>You can access it from Akeeba Subscriptions' menu through
        <guimenu>Invoicing</guimenu>, <guimenuitem>Invoice
        Templates</guimenuitem>.</para>

        <para>The Invoice Templates allow you to define how the invoices which
        are issued through the integrated invoicing feature will look like.
        You can create a different invoice template for each subscription
        level, business registration country and/or country if you want. All
        invoices share the same numbering unless you explicitly specify
        otherwise in an invoice template. Each invoice template can be
        unpublished. An unpublished invoice template will not be taken into
        account when invoices are being created.</para>

        <para>The parameters for each invoice are:</para>

        <variablelist>
          <varlistentry>
            <term>Title</term>

            <listitem>
              <para>This title is displayed in the Invoice Templates page and
              helps you understand which invoice template this is. The title
              isn't used anywhere else.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Published</term>

            <listitem>
              <para>If the template is published it will be used for invoice
              creation. If it's not published it will be ignored. Useful for
              editing invoice templates without having to put your site
              off-line.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Subscription levels</term>

            <listitem>
              <para>Select which subscription levels this template will be
              assigned to. You can select multiple subscription levels by
              holding down CTRL (Windows, Linux) or CMD (Mac OS X) when
              clicking on the subscription levels in the list.</para>

              <para>There are two special entries in the list. The
              <option>None</option> option means that the template will not be
              applied to any subscription level if this is your only
              selection. The <option>All levels</option> option overrides any
              other selection and means that this invoice template will be
              used for all invoices issued for subscriptions in any
              subscription level.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Use global formatting</term>

            <listitem>
              <para>When enabled, the global invoice number formatting set up
              in Akeeba Subscriptions' Options will be used and the
              <guilabel>Invoice number format</guilabel> field below will be
              ignored.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Invoice number format</term>

            <listitem>
              <para>Choose how your invoice numbers will be formatted. Only
              applies to this template and only if <guilabel>Use Global
              Formatting</guilabel> is set to <option>No</option>. The
              formatting is the same as the one discussed in the component's
              Options.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Use global numbering</term>

            <listitem>
              <para>When enabled, the global invoice numbering in Akeeba
              Subscriptions' Options will be used and the <guilabel>Override
              numbering</guilabel> field below will be ignored.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Override number</term>

            <listitem>
              <para>If this is non-zero, invoice numbering will restart with
              this number only for this particular invoice template. Once the
              first invoice with this number is generated, this option will
              revert back to 0 automatically. Only valid when <guilabel>Use
              global numbering</guilabel> is set to
              <option>No</option>.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Business / Personal</term>

            <listitem>
              <para>Should this invoice template be used for business or
              personal (non-business) subscriptions? This is determined by the
              user's selection of <guilabel>Subscribe as business</guilabel>
              in the front-end. When this field is set to Yes (or when you are
              forcing business-only subscriptions through the component's
              Options page) Akeeba Subscriptions considers it to be a Business
              subscription. Otherwise it is a Personal subscription.</para>

              <para>This is useful for certain jurisdictions (like Greece)
              where a different type of invoice is supposed to be issued for
              B2B (Business to Business) and B2C (Business to Client)
              transactions. In the example of Greece, B2B transactions need a
              Services Invoice to be issued, whereas a B2C transaction needs a
              Services Receipt to be issued.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Country</term>

            <listitem>
              <para>This invoice template will only apply to subscribers
              coming from the specified country. If you want it to apply to
              all countries, please select the default options (four dashes).
              This means that no specific country is selected and it will be
              used for all countries.</para>

              <para>Do remember that invoice templates are selected based on
              their ordering and relevance to the subscription being invoiced.
              If you have two invoice templates, let's say one for all
              countries and one for the USA, then a US client will always be
              issued an invoice based on your US-specific template.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Template text</term>

            <listitem>
              <para>The text of the invoice. Please note that due to
              limitations to the HTML to PDF rendering engine you have to use
              nested tables to structure the layout and that your HTML must be
              syntactically correct. Refrain from using a lot of CSS and
              whenever possible specify the exact width and height of each
              element of the invoice. If you don't follow these rules you may
              end up with PDF invoices which look wrong or, in extreme cases,
              completely blank. If you get a blank PDF invoice your HTML is
              wrong – it happened to us during testing! Akeeba Subscriptions
              will try to fix wrong HTML, but this is not always possible as
              it requires the PHP Tidy extension to be installed and enabled;
              on most live servers it's not even installed.</para>

              <para>As for the useful part, you can use the <link
              linkend="message-variables">message variables</link> you are
              already familiar with to pull data from Akeeba Subscriptions
              into the invoice.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </section>

      <section xml:id="invoices">
        <title>Invoice management</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <para>You can access it from Akeeba Subscriptions' menu through
        <guimenu>Invoicing</guimenu>,
        <guimenuitem>Invoices</guimenuitem>.</para>

        <para>On this page you can manage all invoices issued by Akeeba
        Subscriptions' integrated invoicing and all other plugins which
        integrate with third party invoicing extensions.</para>

        <para>For each invoice you see several columns:</para>

        <variablelist>
          <varlistentry>
            <term>Subscription</term>

            <listitem>
              <para>That's the subscription number the invoice is issued for.
              You can search by subscription number.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>User</term>

            <listitem>
              <para>The username, user ID, full name and email of the
              subscriber. That's the same information you see in the
              Subscriptions page. You can search by username, full name and
              email address in the search field.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Invoice Source</term>

            <listitem>
              <para>The invoicing plugin which created this invoice, e.g.
              invoicing (for the Integrated Invoicing of Akeeba
              Subscriptions), ccinvoices (for ccInvoices integration) and so
              on. You can filter by a specific invoice source.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Invoice Nr</term>

            <listitem>
              <para>The number if the issued invoice. For invoices issued with
              Akeeba Subscriptions 3.0.0 or later you will see the formatted
              invoice number, i.e. the same number as the one printed on the
              actual invoice. For invoices issued with earlier releases of
              Akeeba Subscriptions you will only see the unformatted invoice
              number. You can search by invoice number.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Date</term>

            <listitem>
              <para>The date of issue of the invoice. You can search by
              invoice date.</para>

              <note>
                <para>The date of issues appears in the UTC timezone.</para>
              </note>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Actions</term>

            <listitem>
              <para>The available actions for each invoice.</para>
            </listitem>
          </varlistentry>
        </variablelist>

        <para>Regarding the actions, there are three distinct cases:</para>

        <orderedlist>
          <listitem>
            <para>If the invoicing plugin listed in the Invoice Source is not
            published or if it doesn't specify the back-end URL to view the
            invoice you will see "No actions available"</para>
          </listitem>

          <listitem>
            <para>If the invoicing plugin listed in the Invoice Source is
            published and it specifies the back-end URL to view the invoice
            you will see a link to the invoice. This will open the invoice for
            editing in the third party extension.</para>
          </listitem>

          <listitem>
            <para>For invoices issued by Akeeba Subscriptions' Integrated
            invoicing you will see the following buttons:</para>

            <itemizedlist>
              <listitem>
                <para>Preview as HTML (the "page" icon). Opens up a popup
                lightbox with a preview of the invoice in HTML format.</para>
              </listitem>

              <listitem>
                <para>Download (the "download" icon). Downloads the invoice as
                a PDF file.</para>
              </listitem>

              <listitem>
                <para>Send by email (the "mail envelope" icon). Sends the
                invoice as a PDF to the subscriber.</para>
              </listitem>

              <listitem>
                <para>A label "Sent" or "Not sent" depending on whether the
                invoice has been sent to the subscriber.</para>
              </listitem>

              <listitem>
                <para>Regenerate (the "redo" icon). This will regenerate the
                invoice's HTML and PDF content. If you have enabled the
                automatic sending of invoices, the generated invoice will be
                sent to the subscriber.</para>
              </listitem>
            </itemizedlist>
          </listitem>
        </orderedlist>
      </section>

      <section xml:id="signed-pdfs">
        <title>Invoices as signed PDF files</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <important>
          <para>Signed PDFs can only be produced using the Integrated
          Invoicing feature of Akeeba Subscriptions. Even though other
          invoicing extensions which can be integrated with Akeeba
          Subscriptions may be able to generate PDF files, Akeeba
          Subscriptions CAN NOT sign them for you because it does not control
          their creation.</para>
        </important>

        <tip>
          <para>If you have a business based in Greece you MUST generate
          signed PDF files for your invoices to be considered legally
          valid.</para>
        </tip>

        <para>We decided to devote an entire section to this slightly hidden
        but very useful feature of Akeeba Subscriptions: its ability to
        produce signed PDFs. But first, let's explain what signed PDFs are and
        why you might need them.</para>

        <bridgehead>What are signed PDFs?</bridgehead>

        <para>Signed PDFs are regular PDF files which carry a "signature". The
        signature is a cryptographically secured "snapshot" of the PDF file
        which proves a. who created it and b. that the PDF file has not been
        tampered with. It's the same thing as the stamp or handwritten
        signature you'd put on a physical (paper) invoice. In fact, in most
        jurisdictions it has the same legal status as a handwritten signature.
        All European Union countries equate the presence of a digital
        signature to a handwritten signature for all legal purposes. In Greece
        you are actually obliged to digitally sign your invoices (unless they
        are issued on perforated autographic paper or carry a signature by a
        "tax device"), otherwise they are considered illegal and punishable by
        law.</para>

        <para>The digital signature is issued against an X.509 certificate,
        also known as SSL certificate. This may sound familiar if you have set
        up HTTPS on your site, because you had to buy and install an "SSL
        certificate" on your server. In fact, we're talking about almost the
        same thing. Your server needed a special form of an SSL certificate
        which is valid only for HTTPS communications. You can't use it for
        signing PDF files. You can, however, get a different kind of "SSL
        certificate" (properly called an X.509 certificate) for signing
        e-mails (also known as "S/MIME") and PDF files. As a rule of thumb,
        any SSL certificate which can be used to sign e-mails (sometimes
        called an "S/MIME certificate" or a "digital identity") can usually be
        used to sign PDF files.</para>

        <bridgehead>How do I get a certificate for signing PDF
        files?</bridgehead>

        <para>As you may know, you can either create self-signed certificates
        or obtain a certificate from a commercial entity known as "Certificate
        Authority". There's a catch: you cannot prove the authenticity of
        self-signed certificates (anybody can create one), therefore signature
        issued against them are not legally accepted unless you are a
        certificate authority yourself. In case you are wondering if you are a
        certificate authority: no you aren't. If you were you'd definitely
        know it. So, you have to obtain a certificate from a reputable
        Certificate Authority. Why? The Certificate Authority (or CA for
        short) will "sign" your certificate with their own. Think about your
        certificate being your passport, the Certificate Authority being your
        government and their certificate being the official seal of the state.
        If someone presents you something which looks like a passport but
        lacks the seal (stamp) of the government you can't trust that what is
        written on the passport is true. However, if the passport is sealed by
        the government you do trust it. In fact, you trust the government well
        enough to believe that they've checked the personal information of the
        other party, commit it on the passport and seal it with their official
        seal. Your trust for the government extends to trusting that the
        government-certified identity of the other party is his real identity.
        That's how a CA works. They will check your identity, commit it to
        your passport (certificate) and seal it with their stamp (their own
        certificate).</para>

        <para>Making matters a little more complicated, most CAs issue three
        different kind of certificates: Class 1, Class 2 and Class 3. Class 3
        is reserved for their resellers and other CAs. It's the kind of
        certificate you don't need. So, what is the difference between Class 1
        and Class 2?</para>

        <para>Class 1 is the lowest class of certificates. In order to get a
        Class 1 certificate you only need a valid e-mail address (and,
        possibly, a small amount of money for the CA's trouble of issuing a
        certificate). No personal / business information is checked. The only
        proof provided by this kind of certificate is that the signer (that's
        you) has or had access to the email address specified in the
        certificate. Even though you can produce signed PDFs with Class 1
        certificates they are not automatically equivalent to a hand-written
        signature but may be acceptable in court in case of a dispute.</para>

        <para>Class 2 is the certificate class you will most likely need. For
        a Class 2 certificate to be issued the CA will have to validate your
        personal and/or business information. They will charge you a small or
        big sum of money for this service. This class of certificates proves
        that the signature belongs to the person or business that the CA
        validated the identity of. Signatures issued against Class 2
        certificates have legal standing equivalent to handwritten
        signatures.</para>

        <para>Below you can find a short list of Certificate Authorities we
        have tested:</para>

        <itemizedlist>
          <listitem>
            <para><link
            xlink:href="http://www.comodo.com/home/email-security/free-email-certificate.php">Comodo</link>.
            They offer free Class 1 certificates. All you need is an email
            address.</para>
          </listitem>

          <listitem>
            <para><link
            xlink:href="http://www.symantec.com/verisign/digital-id">Verisign</link>.
            They offer Class 1 certificates for a small fee (about $23 USD per
            year).</para>
          </listitem>

          <listitem>
            <para><link
            xlink:href="https://www.startssl.com/">StartSSL</link>. They offer
            free Class 1 certificates and low cost (about 50€ per year) Class
            2 certificates.</para>
          </listitem>
        </itemizedlist>

        <para>You might wonder why you might want to pay Verisign for a Class
        1 certificate when the others give it away for free. There is yet
        another catch (of course!). Adobe Reader, the only application which
        can display digital signatures in PDF files, will display the status
        of an otherwise valid signature as UNKNOWN unless the certificate used
        for signing belongs to one of Adobe's partners (namely, if the CA is
        part of the <link
        xlink:href="http://helpx.adobe.com/acrobat/kb/approved-trust-list2.html">Adobe
        Approved Trust List</link>). Verisign seems to be the only
        English-speaking company which belongs to that list and can issue
        certificates is software format. Please note that many CAs will issue
        their certificates in the form of "USB tokens". These cannot be used
        in a server environment, like that used by your web server, therefore
        cannot be used with Akeeba Subscriptions.</para>

        <bridgehead>How do I use my certificate with Akeeba
        Subscriptions?</bridgehead>

        <para>Most CAs will issue your certificate and install it on your
        browser. This is acceptable if you only need to sign email you send
        from that browser and/or computer, but it's of little to no use when
        you want to automatically sign the PDF files issued by Akeeba
        Subscriptions. Luckily, you can export your certificates! Your CA
        should be able to give you instructions. They usually call this
        procedure "backing up" or "exporting" your certificates.</para>

        <para>Some information on exporting certificates on popular operating
        systems:</para>

        <itemizedlist>
          <listitem>
            <para><link
            xlink:href="http://windows.microsoft.com/en-US/windows-vista/Import-or-export-certificates-and-private-keys">Windows
            (Vista and later)</link>. Remember to select the "Yes, export the
            private key" option.</para>
          </listitem>

          <listitem>
            <para><link
            xlink:href="http://www.utexas.edu/its/help/user-certs/804">Mac OS
            X (Leopard and later)</link>.</para>
          </listitem>
        </itemizedlist>

        <para>Now, there's a world of pain out there. Certificates can be
        exported in many different and largely incompatible formats. In order
        for Akeeba Subscriptions to be able to use your certificate it must be
        exported in PEM format. Files in PEM format have the extensions .pem,
        .cer or .crt depending on your browser and operating system. If your
        operating system doesn't allow you to export directly to PEM format,
        you may have to convert your file (usually in PKCS#12 a.k.a. .pfx
        format) to PEM format using something like <link xlink:href="???">SSL
        Converter</link>. Once you export the certificate, rename the file to
        certificate.cer (all lowercase letters) and upload it to your site's
        <uri>administrator/components/com_akeebasubs/assets/tcpdf/certificates</uri>
        directory.</para>

        <para>A certificate is actually a collection of two things: a public
        key and a private key. Akeeba Subscriptions needs both to sign your
        PDF files. Usually both keys are included when you export your
        certificate. If you have to export them separately, remember to also
        export your secret key in PEM format (.pem, .cer or .crt file
        extension), rename it to secret.cer and upload it to your site's
        <uri>administrator/components/com_akeebasubs/assets/tcpdf/certificates</uri>
        directory.</para>

        <para>The secret key of your certificate is always password-protected.
        This is what prevents someone from grabbing a copy of your certificate
        and impersonate you. Therefore, Akeeba Subscriptions needs you to
        enter the password of this file in its configuration. Go to the
        back-end of your site and go to <guimenu>Components</guimenu>,
        <guimenuitem>Akeeba Subscriptions</guimenuitem> and click on the
        <guibutton>Options</guibutton> button in the toolbar. Under
        <guilabel>Invoicing</guilabel> you will find the option for the
        certificate secret key password. Enter your password there.</para>

        <para>You are now ready to start generating signed PDF files for your
        invoices!</para>
      </section>
    </section>

    <section xml:id="reports">
      <title>Reports</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Akeeba Subscriptions allows you to produce reports which give you
      deeper insight into your clients purchasing patterns. You can access the
      reports from the Reports link at the top of each page of the component.
      The available reports are</para>

      <variablelist>
        <varlistentry>
          <term>Renewals by user</term>

          <listitem>
            <para>You can see the renewals per user and subscription level, as
            well as which users have not renewed their subscriptions</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Expirations</term>

          <listitem>
            <para>Produces a chart which displays subscription expirations by
            week, over a 4 month period.</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>

    <section xml:id="customising-akeeba-subs">
      <title>Customising Akeeba Subscriptions</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>The author has no illusions about being any good as a web
      designer. The opposite is true. To this end, we've made it very easy for
      users to override the CSS files of Akeeba Subscriptions in their
      templates. The following sections will explain how to customise Akeeba
      Subscriptions' front-end display.</para>

      <section xml:id="customising-frontend-layout">
        <title>Customising the front-end layout</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <para>Layout customisation usually involves either changing just the
        CSS or changing both the CSS and HTML output of the component. Both
        can be accomplished with template overrides. We will explain the two
        procedures below.</para>

        <warning>
          <para>Newer versions of the component may introduce changes to the
          base CSS and/or Javascript files or the HTML output. We recommend
          you to review your overridden files every time you upgrade Akeeba
          Subscriptions. We will not accept bug reports or provide any help
          whatsoever if you are using template or media files overrides on
          your site as you are no longer running our tested code against our
          tested layout and our tested Javascript. Simply put: use overrides =
          you're on your own.</para>
        </warning>

        <bridgehead>Customising the CSS</bridgehead>

        <procedure>
          <step>
            <para>Find your current template's subdirectory in your site's
            root, under the <filename>templates</filename> directory. In this
            example, we will assume it is
            <filename>templates/<replaceable>mytemplate</replaceable></filename></para>
          </step>

          <step>
            <para>Create a new directory
            <filename>templates/<replaceable>mytemplate</replaceable>/media/com_akeebasubs/css</filename>
            This is your media files overrides directory.</para>
          </step>

          <step>
            <para>Copy the file
            <filename>media/com_akeebasubs/css/frontend.css</filename> into
            the
            <filename>templates/<replaceable>mytemplate</replaceable>/media/com_akeebasubs/css</filename>
            directory. From now on, Akeeba Subscription will load this new
            <filename>frontend.css</filename> file instead of the file found
            under <filename>media/com_akeebasubs/css</filename>.</para>
          </step>

          <step>
            <para>Edit the
            <filename>templates/<replaceable>mytemplate</replaceable>/media/com_akeebasubs/css/frontend.css</filename>
            file replacing or adding CSS rules so that the design matches your
            desired style</para>
          </step>
        </procedure>

        <para>Please don't ask us for CSS or design ideas. We are good
        developers and horrid designers. You can ask us, however, regarding
        any issues you might experience overriding our CSS files.</para>

        <bridgehead>Customising the Javascript</bridgehead>

        <procedure>
          <step>
            <para>Find your current template's subdirectory in your site's
            root, under the <filename>templates</filename> directory. In this
            example, we will assume it is
            <filename>templates/<replaceable>mytemplate</replaceable></filename></para>
          </step>

          <step>
            <para>Create a new directory
            <filename>templates/<replaceable>mytemplate</replaceable>/media/com_akeebasubs/js</filename>
            This is your media files overrides directory.</para>
          </step>

          <step>
            <para>Copy files from <filename>media/com_akeebasubs/js</filename>
            into the
            <filename>templates/<replaceable>mytemplate</replaceable>/media/com_akeebasubs/js</filename>
            directory. From now on, Akeeba Subscription will load these new
            files instead of the files found under
            <filename>media/com_akeebasubs/</filename>js.</para>
          </step>

          <step>
            <para>Edit the files in
            <filename>templates/<replaceable>mytemplate</replaceable>/media/com_akeebasubs/js</filename>
            and adjust the JS code to your liking.</para>
          </step>
        </procedure>

        <bridgehead>Customising the HTML output</bridgehead>

        <para>Sometimes it's not enough modifying the CSS. In order to achieve
        your desired styling you may also have to add some extra div or span
        elements in the HTML output. When this happens you need to perform
        template overrides for our view template PHP files, a process called
        Template Overrides in Joomla! jargon. Instead of reinventing the wheel
        by writing lengthy instructions, we think it's better for you to read
        the <link
        xlink:href="http://docs.joomla.org/How_to_override_the_output_from_the_Joomla!_core">official
        Joomla! documentation on the subject</link>.</para>

        <bridgehead>Overriding the loading of Bootstrap / jQuery</bridgehead>

        <para>Akeeba Subscriptions uses Bootstrap 2.x and jQuery shipped with
        Joomla! itself. If you have a Joomla! site which doesn't use Bootstrap
        2.x (e.g. it uses Foundation Zurb, Bootsrap 3.x or something in the
        like) or if you are loading jQuery on your own (e.g. from a CDN) you
        will have to rewrite the entire front-end on your own. Sorry, the
        Joomla! User Interface guideliness explicitly state that compatibility
        with Bootstrap 2.x's CSS and JS must be provided by templates.</para>
      </section>

      <section xml:id="customising-emails">
        <title>Customising emails</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <para>Akeeba Subscriptions has a full-featured e-mail template editor
        discussed in the <link linkend="email-templates">E-mail
        Templates</link> section of our documentation. It allows for fine
        grained and very easy customisation of the email messages.</para>
      </section>

      <section xml:id="message-variables">
        <title>Message variables for subscription level messages and
        emails</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <para>Akeeba Subscriptions allows you to customise the subscription
        level success and cancellation messages, as well as the emails it
        sends. Customisation would be futile without a way to include various
        bits of useful information regarding the subscription the message or
        email refers to. This is done through the use of message variables or
        "merge codes". You will find all of the currently available merge
        codes below:</para>

        <para><variablelist>
            <varlistentry>
              <term>\n</term>

              <listitem>
                <para>A new line. Please use it only in the email body text.
                It is ignored everywhere else.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[SITENAME]</term>

              <listitem>
                <para>The website's name, as configured in Global
                Configuration</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[FULLNAME]</term>

              <listitem>
                <para>User's full name</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[FIRSTNAME]</term>

              <listitem>
                <para>User's first name</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[LASTNAME]</term>

              <listitem>
                <para>User's last name</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[USERNAME]</term>

              <listitem>
                <para>User's username</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[USEREMAIL]</term>

              <listitem>
                <para>User's email address</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[LEVEL]</term>

              <listitem>
                <para>Subscription level's title</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[ENABLED]</term>

              <listitem>
                <para>The text "Enabled" if the subscription is enabled,
                "Disabled" otherwise. The actual string is translated to the
                current language.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[PAYSTATE]</term>

              <listitem>
                <para>The payment state: New, Pending, Completed, Rejected or
                Refunded. The actual string is translated to the current
                language.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[PUBLISH_UP]</term>

              <listitem>
                <para>The date when the subscription becomes active in a
                format like this: 2011-12-31 21:34:59. Dates and times are
                always expressed in UTC timezone.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[PUBLISH_UP_EU]</term>

              <listitem>
                <para>The date when the subscription becomes active in a
                format like this: 31/12/2011 21:34:59. Dates and times are
                always expressed in UTC timezone.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[PUBLISH_UP_USA]</term>

              <listitem>
                <para>The date when the subscription becomes active in a
                format like this: 12/31/2011 09:34:59 pm. Dates and times are
                always expressed in UTC timezone.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[PUBLISH_UP_JAPAN]</term>

              <listitem>
                <para>The date when the subscription becomes active in a
                format like this: 2011/12/31 21:34:59. Dates and times are
                always expressed in UTC timezone.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[PUBLISH_DOWN]</term>

              <listitem>
                <para>The date when the subscription becomes inactive in a
                format like this: 2011-12-31 21:34:59. Dates and times are
                always expressed in UTC timezone.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[PUBLISH_DOWN_EU]</term>

              <listitem>
                <para>The date when the subscription becomes inactive in a
                format like this: 31/12/2011 21:34:59. Dates and times are
                always expressed in UTC timezone.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[PUBLISH_DOWN_USA]</term>

              <listitem>
                <para>The date when the subscription becomes inactive in a
                format like this: 12/31/2011 09:34:59 pm. Dates and times are
                always expressed in UTC timezone.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[PUBLISH_DOWN_JAPAN]</term>

              <listitem>
                <para>The date when the subscription becomes inactive in a
                format like this: 2011/12/31 21:34:59. Dates and times are
                always expressed in UTC timezone.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[MYSUBSURL] or [URL]</term>

              <listitem>
                <para>The URL to the "My Subscriptions" page</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[DLID]</term>

              <listitem>
                <para>The Download ID –as defined and used by Akeeba Release
                System– of the subscriber.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[COUPONCODE]</term>

              <listitem>
                <para>The coupon code used in the subscription. That's the
                coupon code text, not the numeric ID.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[CURRENCY] or [$]</term>

              <listitem>
                <para>The currency symbol you've defined in Akeeba
                Subscriptions' Options page</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[SUB:ID]</term>

              <listitem>
                <para>The numeric, unique Subscription ID</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[SUB:USER_ID]</term>

              <listitem>
                <para>The numeric Joomla! user ID of the subscriber</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[SUB:AKEEBASUBS_LEVEL_ID]</term>

              <listitem>
                <para>The numeric ID of the subscription level</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[SUB:PUBLISH_UP]</term>

              <listitem>
                <para>The exact date and time the subscription will be
                activated in YYYY-MM-DD hh:mm:ss format, e.g. 2011-12-31
                13:10:50. Dates and times are always expressed in UTC
                timezone.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[SUB:PUBLISH_DOWN]</term>

              <listitem>
                <para>The exact date and time the subscription will be
                deactivated in YYYY-MM-DD hh:mm:ss format, e.g. 2012-12-31
                13:10:49. Dates and times are always expressed in UTC
                timezone.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[SUB:ENABLED]</term>

              <listitem>
                <para>This returns 1 if the subscription is enabled (e.g. the
                payment processor already notified us that the transaction is
                valid and it's not a renewal for a future date) or 0 if it's
                not enabled yet.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[SUB:PROCESSOR]</term>

              <listitem>
                <para>The name of the payment processor plugin, e.g. "paypal"
                for the PayPal payment plugin</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[SUB:PROCESSOR_KEY]</term>

              <listitem>
                <para>The unique transaction ID assigned by the payment
                processor.</para>

                <note>
                  <para>This may NOT be available if the payment processor has
                  not contacted your site with the result of the transaction
                  before redirecting the user back to your site.</para>
                </note>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[SUB:STATE]</term>

              <listitem>
                <para>The payment state. C means completed, P is pending, X is
                cancelled, N means it hasn't been processed yet.</para>

                <note>
                  <para>This may NOT be available if the payment processor has
                  not contacted your site with the result of the transaction
                  before redirecting the user back to your site.</para>
                </note>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[SUB:NET_AMOUNT]</term>

              <listitem>
                <para>The amount the user paid, before taxes.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[SUB:TAX_AMOUNT]</term>

              <listitem>
                <para>The amount of taxes that the user paid.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[SUB:GROSS_AMOUNT]</term>

              <listitem>
                <para>The total amount the user paid, including taxes.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[SUB:TAX_PERCENT]</term>

              <listitem>
                <para>The percentage of the tax paid, e.g. 18.00 if the user
                paid 18% tax.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[SUB:CREATED_ON]</term>

              <listitem>
                <para>The exact date and time the user pressed the Subscribe
                Now button in YYYY-MM-DD hh:mm:ss format. Dates and times are
                always expressed in UTC timezone.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[SUB:AKEEBASUBS_COUPON_ID]</term>

              <listitem>
                <para>The numeric ID of the coupon used during the
                subscription, or 0 if no coupon was used</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[SUB:AKEEBASUBS_UPGRADE_ID]</term>

              <listitem>
                <para>The numeric ID of the upgrade rule automatically applied
                to the subscription, or 0 if no upgrade rule was used</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[SUB:AKEEBASUBS_INVOICE_ID]</term>

              <listitem>
                <para>The numeric ID of the Akeeba Subscriptions invoice.
                Please note that this only refers to the built-in invoicing
                feature of Akeeba Subscriptions. It doesn't store the invoices
                created through the integration with third party invoicing
                solutions such as ccInvoices.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[SUB:PREDISCOUNT_AMOUNT]</term>

              <listitem>
                <para>The price of the subscription, before any coupon or
                upgrade rule discount was applied</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[SUB:DISCOUNT_AMOUNT]</term>

              <listitem>
                <para>The exact discount amount (coupon, upgrade rule) applied
                to the subscription</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[LEVEL:ID]</term>

              <listitem>
                <para>The numeric ID of the subscription level.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[LEVEL:TITLE]</term>

              <listitem>
                <para>The title of the subscription level.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[LEVEL:DESCRIPTION]</term>

              <listitem>
                <para>The description of the subscription level.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[LEVEL:RENEWAL_URL]</term>

              <listitem>
                <para>The custom renewal URL, if one is entered in the
                subscription level</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[LEVEL:CONTENT_URL]</term>

              <listitem>
                <para>The content URL, if one is entered in the subscription
                level</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[USER:ISBUSINESS]</term>

              <listitem>
                <para>1 if the user chose to perform a business registration,
                0 otherwise</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[USER:BUSINESSNAME]</term>

              <listitem>
                <para>The business name</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[USER:OCCUPATION]</term>

              <listitem>
                <para>The business activity specified</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[USER:VATNUMBER]</term>

              <listitem>
                <para>The VAT registration number</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[USER:VIESREGISTERED]</term>

              <listitem>
                <para>1 if the VAT number is VIES-registered</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[USER:ADDRESS1]</term>

              <listitem>
                <para>The address field (part 1)</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[USER:ADDRESS2]</term>

              <listitem>
                <para>The address field (part 2)</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[USER:CITY]</term>

              <listitem>
                <para>City</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[USER:STATE]</term>

              <listitem>
                <para>State (the short two to five letter code)</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[USER:STATE_FORMATTED]</term>

              <listitem>
                <para>State (the full human-readable name of the state)</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[USER:ZIP]</term>

              <listitem>
                <para>ZIP/Postal Code</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[USER:COUNTRY]</term>

              <listitem>
                <para>Two-letter ISO code of the selected country, e.g. DE for
                Germany, FR for France, US for USA, CA for Canada and so
                on</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[USER:COUNTRY_FORMATTED]</term>

              <listitem>
                <para>Country (the full human-readable name of the
                country)</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[CUSTOM:<replaceable>YourFieldName</replaceable>]</term>

              <listitem>
                <para>Where <replaceable>yourFieldName</replaceable> is the
                name of a custom field in all uppercase letters. Custom fields
                can be defined in plugins or in the Custom Fields page of the
                component.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>[SUBCUSTOM:<replaceable>YourFieldName</replaceable>]</term>

              <listitem>
                <para>Where <replaceable>yourFieldName</replaceable> is the
                name of a per-subscription custom field in all uppercase
                letters. Custom per-subscription fields can be defined in
                plugins. If you have created any custom field plugins, you
                know what this is. If you don't know what this is, you most
                likely don't need it!</para>
              </listitem>
            </varlistentry>
          </variablelist></para>

        <para>In addition to the above, the following variables are valid
        <emphasis>only</emphasis> for invoice templates:</para>

        <variablelist>
          <varlistentry>
            <term>[INV:PLAIN_NUMBER]</term>

            <listitem>
              <para>The plain (unformatted) invoice number</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>[INV:NUMBER]</term>

            <listitem>
              <para>The formatted invoice number (if you are using a custom
              format in the component's Options)</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>[INV:INVOICE_DATE]</term>

            <listitem>
              <para>The date of the invoice. The format you've set up in the
              component's Options will be used.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>[INV:INVOICE_DATE_EU]</term>

            <listitem>
              <para>The date of the invoice. The European date format
              (DD/MM/YYYY, e.g. 31/12/2012) will be used.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>[INV:INVOICE_DATE_USA]</term>

            <listitem>
              <para>The date of the invoice. The US date format (MM/DD/YYYY,
              e.g. 12/31/2012) will be used.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>[INV:INVOICE_DATE_JAPAN]</term>

            <listitem>
              <para>The date of the invoice. The Japanese date format
              (YYYY/MM/DD, e.g. 2012/12/31) will be used.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>[VAT_NOTICE]</term>

            <listitem>
              <para>If he subscriber has chosen a country belonging to the
              European Union and his VAT number is VIES-registered this will
              be replaced with the standard notice "VAT liability is
              transferred to the recipient, pursuant EU Directive nr
              2006/112/EC and local tax laws implementing this directive." In
              any other case this will be blank.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </section>
    </section>
  </chapter>

  <chapter xml:id="plugins-payment">
    <title>Payment plugins</title>

    <warning>
      <para>NO SUPPORT. We have discontinued support for this component. It is
      now a developer's product. This means that we will not provide any kind
      of support, help, instructions, custom feature implementations or any
      other kind of work related to this component for a fee or for
      free.</para>
    </warning>

    <para>Akeeba Subscriptions is designed to be a modular system, powered by
    standard Joomla! plugins. Using plugins you can add payment methods as
    well as integration with third party software. Moreover, core
    functionality of Akeeba Subscriptions (like sending out emails upon
    subscription or email reminders for subscription expiration) is take care
    of by plugins.</para>

    <para>This documentation chapter will guide you through the details of
    configuring the payment plugins. Payment plugins are used to integrate
    payment processor (services which facilitate on-line and off-line
    payments) with Akeeba Subscriptions. Without them you cannot have
    subscriptions.</para>

    <para>All payment methods are standard Joomla! plugins, belonging to the
    <option>akpayment</option> group. If you want to enable a payment method,
    just publish the relevant plugin.</para>

    <warning>
      <para><emphasis role="bold">EXTREMELY IMPORTANT!</emphasis></para>

      <para>ALL AKEEBA SUBSCRIPTIONS AND PAYMENT PLUGINS MUST BE PUBLISHED
      WITH "Public" ACCESS. IF YOU SET THEIR ACCESS TO "Registered" OR IN ANY
      OTHER WAY MODIFY YOUR SITE'S ACL SETTINGS TO FORBID NON LOGGED IN USERS
      FROM ACCESSING THE PLUGINS AKEEBA SUBSCRIPTIONS WILL WORK ERRATICALLY OR
      NOT AT ALL.</para>

      <para>If you think that Akeeba Subscriptions does not work correctly
      because it does not activate subscriptions, run integrations (e.g.
      doesn't assign subscribers to Joomla! groups), accept payments or
      malfunctions in any other way, the first you MUST do before even
      contemplating on whether there is a bug. <emphasis role="bold">YOU MUST
      NEVER, EVER CHANGE THE ACCESS OF THE PLUGINS</emphasis>!</para>
    </warning>

    <section xml:id="payment-2checkout">
      <title>2Checkout Standard Purchase Routine</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Akeeba
      Subscriptions Payment - 2Checkout Standard Purchase
      Routine</guilabel></para>

      <para>This plugin <emphasis role="bold">does not support</emphasis>
      recurring payments.</para>

      <warning>
        <para>This payment method has been rewritten as of Akeeba
        Subscriptions 2.1; if you were previously using it, please review this
        documentation and reconfigure the plugin.</para>
      </warning>

      <para>This payment method integrates the 2Checkout Standard Purchase
      Routine payments service (commonly simply referred to as 2checkout or
      2CO).</para>

      <important>
        <para>Akeeba Subscriptions cannot pass the currency to 2Checkout. You
        MUST make sure that the currency configured in 2Checkout and the
        currency displayed in your site match to avoid nasty surprises.</para>
      </important>

      <para>The options you have in this plugin are:</para>

      <variablelist>
        <varlistentry>
          <term>Payment option title</term>

          <listitem>
            <para>Leave blank to use "2Checkout" or type in a custom name to
            show to your customer's, e.g. "Visa, MasterCard or American
            Express cards"</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Payment option image</term>

          <listitem>
            <para>An image to show in the payment processor selection list
            when the Image Only or Image and Text option is set in the
            component's parameters.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Seller ID</term>

          <listitem>
            <para>Your 2Checkout seller numeric ID, as communicated to you by
            2Checkout.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Secret word</term>

          <listitem>
            <para>The secret word you have specified in your 2Checkout
            account, used to verify that the payment notification come,
            indeed, from 2Checkout and avoid fraudulent requests. It is case
            sensitive, i.e. ABC, abc and Abc are three different secret
            words.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Demo mode</term>

          <listitem>
            <para>When enabled, transactions are processed by 2Checkout's as
            test payments. This is designed for integration tests, BEFORE
            going live with your site. <emphasis role="bold">NEVER, EVER, NO
            MATTER WHAT YOU DO, SHOULD YOU NOT ENABLE THIS ON PRODUCTION
            SITES! IF YOU DO, YOU WILL LOSE MONEY AND/OR CUSTOMERS.</emphasis>
            This option should be used only in the integration testing phase
            during your initial setup. When you're ready to go live with your
            site, disable this feature.</para>

            <warning>
              <para>Demo transactions DO NOT send an Instant Notification
              System (INS) message. Therefore, all subscriptions processed
              with a demo transaction will have a payment status of New and
              will not be enabled.</para>
            </warning>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Language</term>

          <listitem>
            <para>Select the language the 2Checkout interface will be
            displayed in.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Default payment method</term>

          <listitem>
            <para>2Checkout allows different payment methods. Select which one
            will be pre-selected in the checkout page.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Skip landing page</term>

          <listitem>
            <para>When enabled your users will not see the order review page
            when they are redirected to 2Checkout.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Checkout Process</term>

          <listitem>
            <para>You can select between the Multi Page Checkout and Single
            Page Checkout modes. Single page checkout is likely to give you a
            much better conversion rate as the client just fills in his
            information and clicks on a button. The less steps to performing
            the payment, the more likely a user is to actually pay.</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <bridgehead>Integration Notes</bridgehead>

      <warning>
        <para>You cannot have this plugin and the other 2Checkout integration
        plugin enabled at the same time on the same site.</para>
      </warning>

      <para>2Checkout requires you to supply a <guilabel>Notification
      URL</guilabel> before you can accept payments to your site. In order to
      do that, please follow this procedure:</para>

      <orderedlist>
        <listitem>
          <para>Login to your 2Checkout management page, <link
          xlink:href="https://www.2checkout.com/va">https://www.2checkout.com/va</link></para>
        </listitem>

        <listitem>
          <para>Click on <guimenu>Notifications</guimenu>,
          <guimenuitem>Settings</guimenuitem> from the top menu</para>
        </listitem>

        <listitem>
          <para>In the <guilabel>Global URL</guilabel> field enter:</para>

          <para><uri>http://www.example.com/index.php?option=com_akeebasubs&amp;view=callback&amp;paymentmethod=2checkout</uri></para>

          <para>where <uri>www.example.com</uri> must be replaced with the
          domain name of your site. Then click on
          <guibutton>Apply</guibutton>, <guibutton>Enable All
          Notifications</guibutton> and <guibutton>Save Settings</guibutton>
          buttons, in this order.</para>
        </listitem>
      </orderedlist>

      <para>If you skip this step, or make a typo, no subscription will be
      activated in Akeeba Subscriptions and the payment status will always
      appear as "New".</para>
    </section>

    <section xml:id="payment-2conew">
      <title>2Checkout Standard Purchase Routine (with recurring
      support)</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Akeeba
      Subscriptions Payment - 2Checkout Standard Purchase Routine (with
      recurring support)</guilabel></para>

      <para>This plugin <emphasis role="bold">does support</emphasis>
      recurring payments.</para>

      <para>This payment method integrates the 2Checkout Standard Purchase
      Routine payments service (commonly simply referred to as 2checkout or
      2CO). This plugin uses the "pass-through-products" parameters set for
      communicating with 2Checkout, allowing it to support recurring and
      non-recurring payments. Moreover, unlike the other 2Checkout
      integration, it does automatically pass the currency to
      2Checkout.</para>

      <para>The options you have in this plugin are:</para>

      <variablelist>
        <varlistentry>
          <term>Payment option title</term>

          <listitem>
            <para>Leave blank to use "2Checkout (recurring)" or type in a
            custom name to show to your customer's, e.g. "Visa, MasterCard or
            American Express cards"</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Payment option image</term>

          <listitem>
            <para>An image to show in the payment processor selection list
            when the Image Only or Image and Text option is set in the
            component's parameters.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Seller ID</term>

          <listitem>
            <para>Your 2Checkout seller numeric ID, as communicated to you by
            2Checkout.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Secret word</term>

          <listitem>
            <para>The secret word you have specified in your 2Checkout
            account, used to verify that the payment notification come,
            indeed, from 2Checkout and avoid fraudulent requests. It is case
            sensitive, i.e. ABC, abc and Abc are three different secret
            words.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Demo mode</term>

          <listitem>
            <para>When enabled, transactions are processed by 2Checkout's as
            test payments. This is designed for integration tests, BEFORE
            going live with your site. <emphasis role="bold">NEVER, EVER, NO
            MATTER WHAT YOU DO, SHOULD YOU NOT ENABLE THIS ON PRODUCTION
            SITES! IF YOU DO, YOU WILL LOSE MONEY AND/OR CUSTOMERS.</emphasis>
            This option should be used only in the integration testing phase
            during your initial setup. When you're ready to go live with your
            site, disable this feature.</para>

            <warning>
              <para>Demo transactions DO NOT send an Instant Notification
              System (INS) message. Therefore, all subscriptions processed
              with a demo transaction will have a payment status of New and
              will not be enabled.</para>
            </warning>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Language</term>

          <listitem>
            <para>Select the language the 2Checkout interface will be
            displayed in.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Default payment method</term>

          <listitem>
            <para>2Checkout allows different payment methods. Select which one
            will be pre-selected in the checkout page.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Checkout Process</term>

          <listitem>
            <para>You can select between the Multi Page Checkout and Single
            Page Checkout modes. Single page checkout is likely to give you a
            much better conversion rate as the client just fills in his
            information and clicks on a button. The less steps to performing
            the payment, the more likely a user is to actually pay.</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <bridgehead>Recurring payments support notes</bridgehead>

      <para>2Checkout has some restrictions regarding the renewal period of
      subscription. A subscription may recur in a period measured in weeks,
      months or years. Akeeba Subscriptions will automatically convert the
      subscription duration to the closest match. This may not always be what
      you expect. For example, 180 days is converted to 6 months and 15 days
      is converted to 2 weeks. Due to the fuzziness of the conversion and the
      way 2Checkout handles renewals, it is possible that a subscription will
      expire before it is automatically renewed. If a subscription expires, an
      expiration email will be sent to your client.</para>

      <para>For example, a 90 days subscription will recur every 3 months. If
      a subscription was made on June 1st, 2Checkout will renew it on
      September 1st. That's 92 days. This means that the 90 days subscription
      period ends on August 30th. Between that and September 1st the
      subscription will be expired. As a result we recommend setting up
      subscriptions as multiples of 31 days to get the correct number of
      months, or multiples of 366 days to get the correct number of years,
      e.g. 62 days for a 2 month subscription or 732 days for a 2 year
      subscription.</para>

      <para>Payments will recur till the end of the world unless you cancel
      your 2Checkout account, your client manually unsubscribes through
      2Checkout or your client does not have funds when his renewal is due. In
      all of the above cases, your client's subscription may expire before it
      is renewed. If a subscription expires, an expiration email will be sent
      to your client.</para>

      <para>You can not cancel recurring payments through Akeeba
      Subscriptions. You have to do so manually, from 2Checkout's
      back-end.</para>

      <important>
        <para>Not all payment processors allow programmatic cancellation of
        subscriptions, e.g. PayPal. As a result we cannot implement a feature
        that doesn't actually work with all recurring payment providers,
        especially if it doesn't work with the most popular one. That would
        cause a lot of frustration to our users and their clients, as well as
        increase our support load for no good reason. Please do not request
        such a feature; we are not considering implementing it.</para>
      </important>

      <para>When a subscription payment recurs, the original subscription
      record is overwritten. In order for you not to lose statistics
      information, a new <emphasis role="bold">expired</emphasis> subscription
      record is created with the old subscription record's information. This
      means that the subscription with the biggest subscription ID (appearing
      towards the top of the front- and back-end lists) will show as expired.
      This is not a bug. 2Checkout sends us the original subscription's ID as
      a reference, which is why only the original subscription can be
      updated.</para>

      <bridgehead>Integration Notes</bridgehead>

      <warning>
        <para>You cannot have this plugin and the other 2Checkout integration
        plugin enabled at the same time on the same site.</para>
      </warning>

      <para>2Checkout requires you to supply a <guilabel>Notification
      URL</guilabel> before you can accept payments to your site. In order to
      do that, please follow this procedure:</para>

      <orderedlist>
        <listitem>
          <para>Login to your 2Checkout management page, <link
          xlink:href="https://www.2checkout.com/va">https://www.2checkout.com/va</link></para>
        </listitem>

        <listitem>
          <para>Click on <guimenu>Notifications</guimenu>,
          <guimenuitem>Settings</guimenuitem> from the top menu</para>
        </listitem>

        <listitem>
          <para>In the <guilabel>Global URL</guilabel> field enter:</para>

          <para><uri>http://www.example.com/index.php?option=com_akeebasubs&amp;view=callback&amp;paymentmethod=2conew</uri></para>

          <para>where <uri>www.example.com</uri> must be replaced with the
          domain name of your site. Then click on
          <guibutton>Apply</guibutton>, <guibutton>Enable All
          Notifications</guibutton> and <guibutton>Save Settings</guibutton>
          buttons, in this order.</para>
        </listitem>
      </orderedlist>

      <para>If you skip this step, or make a typo, no subscription will be
      activated in Akeeba Subscriptions and the payment status will always
      appear as "New".</para>
    </section>

    <section xml:id="payment-none">
      <title>None</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Akeeba
      Subscriptions Payment - None</guilabel></para>

      <para>This plugin <emphasis role="bold">does not support</emphasis>
      recurring payments.</para>

      <para>This is a dummy payment plugin which immediately activates a
      subscription without payment.</para>

      <warning>
        <para>DO NOT USE THIS ON PRODUCTION SITES. IT IS MEANT FOR TESTING
        PURPOSES ONLY. ENABLING IT ON A PRODUCTION SITE ALLOWS ANYONE,
        INCLUDING UNREGISTERED USERS, TO SUBSCRIBE TO ANY SUBSCRIPTION THEY
        WANT <emphasis role="bold">WITHOUT PAYING ANYTHING AT ALL</emphasis>.
        You have been strongly warned.</para>
      </warning>
    </section>

    <section xml:id="payment-offline">
      <title>Off-line</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Akeeba
      Subscriptions Payment - Off-line</guilabel></para>

      <para>This plugin <emphasis role="bold">does not support</emphasis>
      recurring payments.</para>

      <para>This is a payment plugin which lets your users complete their
      payment off-line, e.g. through bank (wire) transfer, money check,
      Western Union or any other means of payment that you allow. It works
      very simply: it just presents your user with a customizable instructions
      message. In that message you can use the variables
      <replaceable>{SUBSCRIPTION}</replaceable> to display the subscription ID
      and <replaceable>{AMOUNT}</replaceable> to display the amount due. You
      can also use <replaceable>{FIRSTNAME}</replaceable> and
      <replaceable>{LASTNAME}</replaceable> for the user's first and last
      name, respectively. Please use all caps for these variables and include
      the curly braces.</para>

      <tip>
        <para>The text in this field is HTML code. If you want to add
        linebreaks, just add a &lt;br/&gt; tag. Of course you can use any kind
        of HTML markup you wish, such as &lt;b&gt; for bold text, or even
        embed a Flash file (even though I can't possibly think
        <emphasis>why</emphasis> you'd want to do <emphasis>that</emphasis>)
        as long as it's allowed by your Joomla! version and preferences. It's
        safe to assume that basic HTML like &lt;p&gt;, &lt;em&gt;, &lt;b&gt;
        and &lt;a&gt; tags will work.</para>
      </tip>

      <tip>
        <para>Since Akeeba Subscriptions 2.3.0 you can also use language merge
        tags. They work the same way as the language merge tags in the
        Subscriptions Levels messages.</para>
      </tip>

      <para>The options you have in this plugin are:</para>

      <variablelist>
        <varlistentry>
          <term>Payment option title</term>

          <listitem>
            <para>Leave blank to use "Off-line" or type in a custom name to
            show to your customer's, e.g. "Bank deposit and Western
            Union"</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Payment option image</term>

          <listitem>
            <para>An image to show in the payment processor selection list
            when the Image Only or Image and Text option is set in the
            component's parameters.</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <para>Once the user effects the payment, simply go to your Subscriptions
      view, enable his subscriptions and set the payment status to
      "Completed". That's all!</para>
    </section>

    <section xml:id="payment-paymill">
      <title>PayMill</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Akeeba
      Subscriptions Payment - PayMill</guilabel></para>

      <para>This plugin <emphasis role="bold">does not support</emphasis>
      recurring payments.</para>

      <para>This payment method integrates the low cost payment processor
      <link xlink:href="https://paymill.com/en-gb/">PayMill</link>.</para>

      <para>The options you have in this plugin are:</para>

      <variablelist>
        <varlistentry>
          <term>Payment option title</term>

          <listitem>
            <para>Leave blank to use "PayMill" or type in a custom name to
            show to your customer's, e.g. "Pay by credit card"</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Payment option image</term>

          <listitem>
            <para>An image to show in the payment processor selection list
            when the Image Only or Image and Text option is set in the
            component's parameters.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Private Key</term>

          <listitem>
            <para>That's the private key given to you by PayMill.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Pubic Key</term>

          <listitem>
            <para>That's the public key given to you by PayMill.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Private test key</term>

          <listitem>
            <para>That's the private test key given to you by PayMill. It's
            only used in Sandbox (test) mode.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Public test key</term>

          <listitem>
            <para>That's the public test key given to you by PayMill. It's
            only used in Sandbox (test) mode.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Sandbox</term>

          <listitem>
            <para>When enabled, all transactions will be performed against the
            sandbox (testing server). This is designed for integration tests,
            BEFORE going live with your site. <emphasis role="bold">NEVER,
            EVER, NO MATTER WHAT YOU DO, SHOULD YOU ENABLE THIS ON PRODUCTION
            SITES! IF YOU DO, YOU WILL LOSE MONEY AND/OR
            CUSTOMERS.</emphasis></para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>

    <section xml:id="payment-paypal">
      <title>Paypal</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Akeeba
      Subscriptions Payment - Paypal</guilabel></para>

      <para>This plugin <emphasis role="bold">supports</emphasis> recurring
      payments. This plugin also supports recurring payments with sign-up
      fees.</para>

      <para>This payment method integrates the standard PayPal Website
      Payments service, available without any setup fee to all verified PayPal
      clients. In other words, that's the standard way to use PayPal as your
      payment processor.</para>

      <important>
        <para>Please DO READ the integration notes below. Do not ask for
        support if you have not read and followed the instructions contained
        therein.</para>
      </important>

      <para>The options you have in this plugin are:</para>

      <variablelist>
        <varlistentry>
          <term>Payment option title</term>

          <listitem>
            <para>Leave blank to use "PayPal" or type in a custom name to show
            to your customer's, e.g. "PayPal, bank account or Credit
            Card"</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Payment option image</term>

          <listitem>
            <para>An image to show in the payment processor selection list
            when the Image Only or Image and Text option is set in the
            component's parameters.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Merchant ID</term>

          <listitem>
            <para>Your PayPal email address or your secure merchant ID (if
            PayPal has assigned you with one)</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Secure POST</term>

          <listitem>
            <para>If enabled, the verification postback to PayPal will be over
            an SSL connection. In order for this to work, your host needs to
            support SSL connections using cURL to PayPal's IP address
            block.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Sandbox</term>

          <listitem>
            <para>When enabled, transactions are processed by PayPal Sandbox,
            i.e. PayPal's testing mode. This is designed for integration
            tests, BEFORE going live with your site. <emphasis
            role="bold">NEVER, EVER, NO MATTER WHAT YOU DO, SHOULD YOU ENABLE
            THIS ON PRODUCTION SITES! IF YOU DO, YOU WILL LOSE MONEY AND/OR
            CUSTOMERS.</emphasis></para>

            <warning>
              <para>Using the Sandbox is not as straightforward as it sounds.
              It is actually a long, complicated process. We have documented
              the entire process for your convenience. It can be found further
              down this documentation page. If it sounds overly technical and
              complicated to you, you can simply use the live (normal) PayPal
              and a credit card not associated with your PayPal account to
              test the purchase of a subscription.</para>
            </warning>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Sandbox merchant</term>

          <listitem>
            <para>The dummy merchant email used with PayPal's Sandbox.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>PayPal Callback Text</term>

          <listitem>
            <para>(optional) Normally, when the user completes the payment,
            PayPal shows him a button with the default label "Return to
            Merchant". If you type in something in here, it will be shown on
            that button instead of the default label. For example, you can
            type in something like "Return to Example.com"</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Custom Header Image</term>

          <listitem>
            <para>(optional) The URL to an image to be shown on PayPal's
            checkout page header. It'd better be hosted on an HTTPS URL,
            otherwise your customers will get a warning about insecure content
            on their browser.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Header Background Color</term>

          <listitem>
            <para>The hex code of PayPal checkout page's header background
            color. For example, white is FFFFFF (note: there is no # sign in
            front of the hex color code!)</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Header Border Color</term>

          <listitem>
            <para>The hex code of PayPal checkout page's header border color.
            For example, light gray is CCCCCC (note: there is no # sign in
            front of the hex color code!)</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <bridgehead>Recurring payments support notes</bridgehead>

      <para>PayPal has some restrictions regarding the renewal period of
      subscription. A subscription may recur in a period of 1-90 days, 1-52
      weeks, 1-24 months or 1-5 years. Akeeba Subscriptions will automatically
      convert the subscription duration to the closest match. This may not
      always be what you expect. For example, 180 days is converted to 6
      months and 15 days is converted to 2 weeks. Due to the fuzziness of the
      conversion and the way PayPal handles renewals, it is possible that a
      subscription will expire before it is automatically renewed. If a
      subscription expires, an expiration email will be sent to your
      client.</para>

      <para>Payments will recur till the end of the world unless you cancel
      your PayPal account, your client cancels his PayPal account, your client
      manually unsubscribes from his PayPal account's back-end or your client
      does not have funds for 3 consecutive days after his renewal is due. In
      all of the above cases, your client's subscription may expire before it
      is renewed. If a subscription expires, an expiration email will be sent
      to your client.</para>

      <para>You can not cancel recurring payments through Akeeba
      Subscriptions. You have to do so manually, from PayPal's
      back-end.</para>

      <important>
        <para>PayPal does not allow cancelling subscriptions / recurring
        payments programmatically. It's not like we are missing this feature
        in Akeeba Subscriptions; it's simply impossible with PayPal because
        PayPal does not support this feature at all.</para>
      </important>

      <para>When a subscription payment recurs, the original subscription
      record is overwritten. In order for you not to lose statistics
      information, a new <emphasis role="bold">expired</emphasis> subscription
      record is created with the old subscription record's information. This
      means that the subscription with the biggest subscription ID (appearing
      towards the top of the front- and back-end lists) will show as expired.
      This is not a bug. PayPal sends us the original subscription's ID as a
      reference, which is why only the original subscription can be
      updated.</para>

      <warning>
        <para>In order for the recurring payments to work you have to enter
        Akeeba Subscriptions' callback URL in PayPal's interface. Log in to
        PayPal and go to <guilabel>Profile</guilabel>, <guilabel>My Selling
        Tools</guilabel>, and click on the <guilabel>Update</guilabel> link
        next to <guilabel>Instant Payment Notifications</guilabel>. Click on
        <guibutton>Choose IPN Settings</guibutton>. In the
        <guibutton>Notification URL</guibutton> enter
        <uri>http://www.example.com/index.php?option=com_akeebasubs&amp;view=callback&amp;paymentmethod=paypal</uri>
        where http://www.example.com is the URL to your site. Under
        <guilabel>IPN Messages</guilabel> select <option>Receive IPN Messages
        (Enabled)</option> and click on <guibutton>Save</guibutton>.</para>
      </warning>

      <bridgehead>Integration notes</bridgehead>

      <para>PayPal doesn't handle UTF-8 data very gracefully by default. You
      will have to enable UTF-8 on your PayPal account to let accented and
      international characters be accepted in the payment pages.</para>

      <para>Log in to your PayPal account. Click the
      <guimenuitem>Profile</guimenuitem> link in the menu bar under
      <guimenu>My Account</guimenu>. In the <guilabel>Selling
      Preferences</guilabel> columns click on the <guilabel>Language
      Encoding</guilabel> option. Click on <guibutton>More
      Options</guibutton>. Set <guilabel>Encoding</guilabel> to
      <option>UTF-8</option> and click on <guibutton>Save</guibutton>.</para>

      <para>Some people have reported that the subscriptions are not
      automatically updated after their subscribers pay in PayPal. If this
      happens you will need to set up an IPN URL in PayPal's back-end. Log in
      to PayPal and go to <guilabel>Profile</guilabel>, <guilabel>My Selling
      Tools</guilabel>, and click on the <guilabel>Update</guilabel> link next
      to <guilabel>Instant Payment Notifications</guilabel>. Click on
      <guibutton>Choose IPN Settings</guibutton>. In the
      <guibutton>Notification URL</guibutton> enter
      <uri>http://www.example.com/index.php?option=com_akeebasubs&amp;view=callback&amp;paymentmethod=paypal</uri>
      where http://www.example.com is the URL to your site. Under
      <guilabel>IPN Messages</guilabel> select <option>Receive IPN Messages
      (Enabled)</option> and click on <guibutton>Save</guibutton>. This step
      is always required when using recurring payments.</para>

      <bridgehead>Using the PayPal Sandbox</bridgehead>

      <para>Using the PayPal Sandbox is not even half as intuitive as you
      might think. Since most of our users think that our software is broken
      because they are not able to use the Sandbox, we have documented every
      single step you have to take in order to use the Sandbox on your
      site.</para>

      <bridgehead renderas="sect4">A. Signing up for Sandbox
      access</bridgehead>

      <procedure>
        <step>
          <para>Go to the <link
          xlink:href="https://developer.paypal.com">PayPal Sandbox
          site</link></para>
        </step>

        <step>
          <para>Click on Log In and log in with your PayPal username and
          password. Important: You need to allow popups on your
          browser.</para>
        </step>
      </procedure>

      <bridgehead renderas="sect4">B.1. Create a seller account</bridgehead>

      <procedure>
        <step>
          <para>Go to the Applications, Sandbox accounts</para>
        </step>

        <step>
          <para>Click on <guilabel>Create account</guilabel></para>

          <warning>
            <para>MAJOR SUPER DUPER IMPORTANT PITFALL WARNING!!! Choose a
            country with the same currency as your site. For example United
            States for transactions in USD.</para>
          </warning>
        </step>

        <step>
          <para>Set the account type to <option>Business</option></para>
        </step>

        <step>
          <para>Setup an email and password. Make sure these are different
          than your regular PayPal account.</para>
        </step>

        <step>
          <para>Set the <guilabel>Account Balance</guilabel> to something like
          100.00 USD and <guilabel>Bank verified account</guilabel> to
          Yes.</para>
        </step>

        <step>
          <para>Click on <guibutton>Create account</guibutton></para>
        </step>
      </procedure>

      <bridgehead renderas="sect4">B.1. Create a buyer account</bridgehead>

      <procedure>
        <step>
          <para>Go to the Applications, Sandbox accounts</para>
        </step>

        <step>
          <para>Click on <guilabel>Create account</guilabel></para>

          <warning>
            <para>MAJOR SUPER DUPER IMPORTANT PITFALL WARNING!!! Choose a
            country with the same currency as your site. For example United
            States for transactions in USD.</para>
          </warning>
        </step>

        <step>
          <para>Set the account type to <option>Personal</option></para>
        </step>

        <step>
          <para>Setup an email and password. Make sure these are different
          than your regular PayPal account and the seller account's details
          that you used above.</para>
        </step>

        <step>
          <para>Set the <guilabel>Account Balance</guilabel> to something like
          1000.00 USD and <guilabel>Bank verified account</guilabel> to
          Yes.</para>
        </step>

        <step>
          <para>Click on <guibutton>Create account</guibutton></para>
        </step>
      </procedure>

      <bridgehead renderas="sect4">C. Set up Akeeba Subscriptions PayPal
      plugin for use with PayPal Sandbox</bridgehead>

      <procedure>
        <step>
          <para>Go to <guimenu>Extensions</guimenu>, <guimenuitem>Plug-in
          Manager</guimenuitem></para>
        </step>

        <step>
          <para>Find the <guilabel>Akeeba Subscriptions Payment -
          Paypal</guilabel> plugin and edit it</para>
        </step>

        <step>
          <para>Set <guilabel>Sandbox</guilabel> to
          <option>Yes</option></para>
        </step>

        <step>
          <para>In the <guilabel>Sandbox Merchant</guilabel> field enter your
          seller's email address</para>
        </step>

        <step>
          <para>Click on <guibutton>Save &amp; Close</guibutton></para>
        </step>
      </procedure>

      <bridgehead renderas="sect4">D. Testing Akeeba Subscriptions with PayPal
      Sandbox</bridgehead>

      <procedure>
        <step>
          <para>Make sure you have at least one published Subscription Level
          with a value of AT LEAST 1. Smaller values WILL NOT go
          through!</para>
        </step>

        <step>
          <para>Go ahead with buying a subscription to that level.</para>
        </step>

        <step>
          <para>Make sure the URL begins with https://www.sandbox.paypal.com.
          If not, you are doing something wrong and you have to set up the
          plugin again.</para>
        </step>

        <step>
          <para>Make sure that in the top left corner you see the name you
          registered with Paypal Sandbox followed by the words "Test Store".
          If not, you are doing something wrong and you have to set up the
          plugin again.</para>
        </step>

        <step>
          <para>Login using the Sandbox buyer email and password and go
          through with the payment. Remember to click the Pay Now
          button!</para>
        </step>

        <step>
          <para>Go to your site's back-end, Components, Akeeba Subscriptions,
          Subscriptions</para>
        </step>

        <step>
          <para>The subscription will be enabled. If it is not enabled please
          make sure that you are running the test from a live server which is
          accessible from the Internet (NOT your local machine; this will NOT
          work), your site is NOT set to Off-line Mode, the PayPal plugin is
          published and its access set to Public (any other access will NOT
          work) and that there is no firewall / security extension blocking
          incoming connections from PayPal.</para>
        </step>
      </procedure>
    </section>

    <section xml:id="payment-paypalpaymentspro">
      <title>Paypal Payments Pro</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Akeeba
      Subscriptions Payment - Paypal Payments Pro</guilabel></para>

      <para>This plugin <emphasis role="bold">supports</emphasis> recurring
      payments.</para>

      <note>
        <para>This plugin implements the Direct Payment method.</para>
      </note>

      <warning>
        <para>This plugin allows your clients to enter their Credit Card
        information in a page on your site and then it submits this form to
        your server. You have to make sure that you are always presenting the
        subscription page in HTTPS, using an SSL certificate signed by a
        reputable Certificate Authority. Failure to do so might hold you
        liable in case your client's credit card information is stolen. Please
        note that no credit card information is ever stored on your site's
        database.</para>
      </warning>

      <para>This payment method integrates the PayPal Payments Pro, a.k.a.
      PayPal Website Payments Pro service, available with a monthly fee to
      merchant PayPal clients in select countries. If you are using for the
      "simple" or "regular" PayPal integration this is NOT the plugin you
      want. The options you have in this plugin are:</para>

      <variablelist>
        <varlistentry>
          <term>Payment option title</term>

          <listitem>
            <para>Leave blank to use "PayPal Payments Pro" or type in a custom
            name to show to your customer's, e.g. "Credit Card"</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Payment option image</term>

          <listitem>
            <para>An image to show in the payment processor selection list
            when the Image Only or Image and Text option is set in the
            component's parameters.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>API Username</term>

          <listitem>
            <para>This is the API username given to you by PayPal</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>API Password</term>

          <listitem>
            <para>This is the API password given to you by PayPal</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>API Signature</term>

          <listitem>
            <para>This is the API signature given to you by PayPal</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Sandbox API Username</term>

          <listitem>
            <para>This is the API username given to you by PayPal Sandbox.
            This is only used when the <guilabel>Sandbox</guilabel> option is
            turned on.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Sandbox API Password</term>

          <listitem>
            <para>This is the API password given to you by PayPal Sandbox.
            This is only used when the <guilabel>Sandbox</guilabel> option is
            turned on.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>API Sandbox Signature</term>

          <listitem>
            <para>This is the API signature given to you by PayPal Sandbox.
            This is only used when the <guilabel>Sandbox</guilabel> option is
            turned on.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Sandbox</term>

          <listitem>
            <para>When enabled, transactions are processed by PayPal Sandbox,
            i.e. PayPal's testing mode. This is designed for integration
            tests, BEFORE going live with your site. <emphasis
            role="bold">NEVER, EVER, NO MATTER WHAT YOU DO, SHOULD YOU ENABLE
            THIS ON PRODUCTION SITES! IF YOU DO, YOU WILL LOSE MONEY AND/OR
            CUSTOMERS.</emphasis></para>

            <warning>
              <para>Using the Sandbox is not as straightforward as it sounds.
              We recommend simply usis the live (normal) PayPal and a credit
              card not associated with your PayPal account to test the
              purchase of a subscription. Use a coupon code to reduce your
              subscription price to 1 USD, 1 GBP or 1 EUR but not any less
              (the transaction won't go through for values less than 1 due to
              PayPal Sandbox limitations)</para>
            </warning>
          </listitem>
        </varlistentry>
      </variablelist>

      <bridgehead>Recurring payments support notes</bridgehead>

      <para>PayPal has some restrictions regarding the renewal period of
      subscription. A subscription may recur in a period of 1-90 days, 1-52
      weeks, 1-24 months or 1-5 years. Akeeba Subscriptions will automatically
      convert the subscription duration to the closest match. This may not
      always be what you expect. For example, 180 days is converted to 6
      months and 15 days is converted to 2 weeks. Due to the fuzziness of the
      conversion and the way PayPal handles renewals, it is possible that a
      subscription will expire before it is automatically renewed. If a
      subscription expires, an expiration email will be sent to your
      client.</para>

      <para>Payments will recur till the end of the world unless you cancel
      your PayPal account, your client cancels his PayPal account, your client
      manually unsubscribes from his PayPal account's back-end or your client
      does not have funds for 3 consecutive days after his renewal is due. In
      all of the above cases, your client's subscription may expire before it
      is renewed. If a subscription expires, an expiration email will be sent
      to your client.</para>

      <para>You can not cancel recurring payments through Akeeba
      Subscriptions. You have to do so manually, from PayPal's
      back-end.</para>

      <important>
        <para>PayPal does not allow cancelling subscriptions / recurring
        payments pro grammatically. It's not like we are missing this feature
        in Akeeba Subscriptions; it's simply impossible with PayPal because
        PayPal does not support this feature at all.</para>
      </important>

      <para>When a subscription payment recurs, the original subscription
      record is overwritten. In order for you not to lose statistics
      information, a new <emphasis role="bold">expired</emphasis> subscription
      record is created with the old subscription record's information. This
      means that the subscription with the biggest subscription ID (appearing
      towards the top of the front- and back-end lists) will show as expired.
      This is not a bug. PayPal sends us the original subscription's ID as a
      reference, which is why only the original subscription can be
      updated.</para>

      <warning>
        <para>In order for the recurring payments to work you have to enter
        Akeeba Subscriptions' callback URL in PayPal's interface. Log in to
        PayPal and go to <guilabel>Profile</guilabel>, <guilabel>My Selling
        Tools</guilabel>, and click on the <guilabel>Update</guilabel> link
        next to <guilabel>Instant Payment Notifications</guilabel>. Click on
        <guibutton>Choose IPN Settings</guibutton>. In the
        <guibutton>Notification URL</guibutton> enter
        <uri>http://www.example.com/index.php?option=com_akeebasubs&amp;view=callback&amp;paymentmethod=paypalpaymentspro</uri>
        where http://www.example.com is the URL to your site. Under
        <guilabel>IPN Messages</guilabel> select <option>Receive IPN Messages
        (Enabled)</option> and click on <guibutton>Save</guibutton>.</para>
      </warning>

      <bridgehead>Integration notes</bridgehead>

      <para>PayPal doesn't handle UTF-8 data very gracefully by default. You
      will have to enable UTF-8 on your PayPal account to let accented and
      international characters be accepted in the payment pages.</para>

      <para>Log in to your PayPal account. Click the
      <guimenuitem>Profile</guimenuitem> link in the menu bar under
      <guimenu>My Account</guimenu>. In the <guilabel>Selling
      Preferences</guilabel> columns click on the <guilabel>Language
      Encoding</guilabel> option. Click on <guibutton>More
      Options</guibutton>. Set <guilabel>Encoding</guilabel> to
      <option>UTF-8</option> and click on <guibutton>Save</guibutton>.</para>
    </section>

    <section xml:id="payment-paypalpaymentsproexpresscheckout">
      <title>Paypal Payments Pro (Express Checkout)</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Akeeba
      Subscriptions Payment - Paypal Payments Pro (Express
      Checkout)</guilabel></para>

      <para>This plugin <emphasis role="bold">supports</emphasis> recurring
      payments.</para>

      <para>This payment method integrates the PayPal Payments Pro, a.k.a.
      PayPal Website Payments Pro service, available with a monthly fee to
      merchant PayPal clients in select countries. If you are using for the
      "simple" or "regular" PayPal integration this is NOT the plugin you
      want.</para>

      <note>
        <para>This plugin implements the <link
        xlink:href="https://developer.paypal.com/docs/classic/express-checkout/gs_expresscheckout/">Express
        Checkout</link> method.</para>
      </note>

      <para>The options you have in this plugin are:</para>

      <variablelist>
        <varlistentry>
          <term>Payment option title</term>

          <listitem>
            <para>Leave blank to use "PayPal Payments Pro" or type in a custom
            name to show to your customer's, e.g. "Credit Card"</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Payment option image</term>

          <listitem>
            <para>An image to show in the payment processor selection list
            when the Image Only or Image and Text option is set in the
            component's parameters.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>API Username</term>

          <listitem>
            <para>This is the API username given to you by PayPal</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>API Password</term>

          <listitem>
            <para>This is the API password given to you by PayPal</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>API Signature</term>

          <listitem>
            <para>This is the API signature given to you by PayPal</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Sandbox API Username</term>

          <listitem>
            <para>This is the API username given to you by PayPal Sandbox.
            This is only used when the <guilabel>Sandbox</guilabel> option is
            turned on.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Sandbox API Password</term>

          <listitem>
            <para>This is the API password given to you by PayPal Sandbox.
            This is only used when the <guilabel>Sandbox</guilabel> option is
            turned on.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>API Sandbox Signature</term>

          <listitem>
            <para>This is the API signature given to you by PayPal Sandbox.
            This is only used when the <guilabel>Sandbox</guilabel> option is
            turned on.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Sandbox</term>

          <listitem>
            <para>When enabled, transactions are processed by PayPal Sandbox,
            i.e. PayPal's testing mode. This is designed for integration
            tests, BEFORE going live with your site. <emphasis
            role="bold">NEVER, EVER, NO MATTER WHAT YOU DO, SHOULD YOU ENABLE
            THIS ON PRODUCTION SITES! IF YOU DO, YOU WILL LOSE MONEY AND/OR
            CUSTOMERS.</emphasis></para>

            <warning>
              <para>Using the Sandbox is not as straightforward as it sounds.
              We recommend simply usis the live (normal) PayPal and a credit
              card not associated with your PayPal account to test the
              purchase of a subscription. Use a coupon code to reduce your
              subscription price to 1 USD, 1 GBP or 1 EUR but not any less
              (the transaction won't go through for values less than 1 due to
              PayPal Sandbox limitations)</para>
            </warning>
          </listitem>
        </varlistentry>
      </variablelist>

      <bridgehead>Recurring payments support notes</bridgehead>

      <para>PayPal has some restrictions regarding the renewal period of
      subscription. A subscription may recur in a period of 1-90 days, 1-52
      weeks, 1-24 months or 1-5 years. Akeeba Subscriptions will automatically
      convert the subscription duration to the closest match. This may not
      always be what you expect. For example, 180 days is converted to 6
      months and 15 days is converted to 2 weeks. Due to the fuzziness of the
      conversion and the way PayPal handles renewals, it is possible that a
      subscription will expire before it is automatically renewed. If a
      subscription expires, an expiration email will be sent to your
      client.</para>

      <para>Payments will recur till the end of the world unless you cancel
      your PayPal account, your client cancels his PayPal account, your client
      manually unsubscribes from his PayPal account's back-end or your client
      does not have funds for 3 consecutive days after his renewal is due. In
      all of the above cases, your client's subscription may expire before it
      is renewed. If a subscription expires, an expiration email will be sent
      to your client.</para>

      <para>You can not cancel recurring payments through Akeeba
      Subscriptions. You have to do so manually, from PayPal's
      back-end.</para>

      <important>
        <para>PayPal does not allow cancelling subscriptions / recurring
        payments pro grammatically. It's not like we are missing this feature
        in Akeeba Subscriptions; it's simply impossible with PayPal because
        PayPal does not support this feature at all.</para>
      </important>

      <para>When a subscription payment recurs, the original subscription
      record is overwritten. In order for you not to lose statistics
      information, a new <emphasis role="bold">expired</emphasis> subscription
      record is created with the old subscription record's information. This
      means that the subscription with the biggest subscription ID (appearing
      towards the top of the front- and back-end lists) will show as expired.
      This is not a bug. PayPal sends us the original subscription's ID as a
      reference, which is why only the original subscription can be
      updated.</para>

      <warning>
        <para>In order for the recurring payments to work you have to enter
        Akeeba Subscriptions' callback URL in PayPal's interface. Log in to
        PayPal and go to <guilabel>Profile</guilabel>, <guilabel>My Selling
        Tools</guilabel>, and click on the <guilabel>Update</guilabel> link
        next to <guilabel>Instant Payment Notifications</guilabel>. Click on
        <guibutton>Choose IPN Settings</guibutton>. In the
        <guibutton>Notification URL</guibutton> enter
        <uri>http://www.example.com/index.php?option=com_akeebasubs&amp;view=callback&amp;paymentmethod=paypalpaymentspro</uri>
        where http://www.example.com is the URL to your site. Under
        <guilabel>IPN Messages</guilabel> select <option>Receive IPN Messages
        (Enabled)</option> and click on <guibutton>Save</guibutton>.</para>
      </warning>

      <bridgehead>Integration notes</bridgehead>

      <para>PayPal doesn't handle UTF-8 data very gracefully by default. You
      will have to enable UTF-8 on your PayPal account to let accented and
      international characters be accepted in the payment pages.</para>

      <para>Log in to your PayPal account. Click the
      <guimenuitem>Profile</guimenuitem> link in the menu bar under
      <guimenu>My Account</guimenu>. In the <guilabel>Selling
      Preferences</guilabel> columns click on the <guilabel>Language
      Encoding</guilabel> option. Click on <guibutton>More
      Options</guibutton>. Set <guilabel>Encoding</guilabel> to
      <option>UTF-8</option> and click on <guibutton>Save</guibutton>.</para>
    </section>

    <section xml:id="payment-skrill">
      <title>Skrill</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Akeeba
      Subscriptions Payment - Skrill (Moneybookers)</guilabel></para>

      <para>This plugin <emphasis role="bold">does not support</emphasis>
      recurring payments.</para>

      <para>This payment method integrates the Skrill (formerly: Moneybookers)
      payment processor. Please note that you need to have a Merchant Account
      at Skrill for this plugin to work. The options you have in this plugin
      are:</para>

      <variablelist>
        <varlistentry>
          <term>Payment option title</term>

          <listitem>
            <para>Leave blank to use "Skrill" or type in a custom name to show
            to your customer's, e.g. "Skrill, bank account or Credit
            Card"</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Payment option image</term>

          <listitem>
            <para>An image to show in the payment processor selection list
            when the Image Only or Image and Text option is set in the
            component's parameters.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Merchant ID</term>

          <listitem>
            <para>Your Skrill email address</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Secure POST</term>

          <listitem>
            <para>If enabled, the verification postback to PayPal will be over
            an SSL connection. In order for this to work, your host needs to
            support SSL connections using cURL to PayPal's IP address
            block.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Secret Word</term>

          <listitem>
            <para>The Secret Word you have defined in the Merchant Tools of
            your Skrill account. This is used to check transactions against
            potential fraud and is never transmitted over the network.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Company text</term>

          <listitem>
            <para>The company name to be displayed in Skrill's payment page,
            maximum 30 characters</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Language</term>

          <listitem>
            <para>(optional) The language the Skrill payment page will be
            in.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Confirmation Note</term>

          <listitem>
            <para>A short notice (up to 240 characters) which is shown to your
            users after they've finished paying and before they are redirected
            back to your site.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Custom Logo Image</term>

          <listitem>
            <para>(optional) The URL to an image to be shown on the top of
            Skrill's checkout page header. It'd better be hosted on an HTTPS
            URL, otherwise your customers will get a warning about insecure
            content on their browser.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Test mode</term>

          <listitem>
            <para>When enabled, all transaction are performed against the test
            gateway (no money changes hands). Please note that you MUST
            specifically ask Skrill to also enable that feature on your
            account and provide you with a test merchant and a test user to
            use during your testing.</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>

    <section xml:id="payment-stripe">
      <title>Stripe</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Akeeba
      Subscriptions Payment - Stripe</guilabel></para>

      <para>This plugin <emphasis role="bold">does not support</emphasis>
      recurring payments.</para>

      <para>This payment method integrates the low cost Stripe payment
      processor.The options you have in this plugin are:</para>

      <variablelist>
        <varlistentry>
          <term>Payment option title</term>

          <listitem>
            <para>Leave blank to use "Stripe" or type in a custom name to show
            to your customer's, e.g. "Pay with credit card"</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Payment option image</term>

          <listitem>
            <para>An image to show in the payment processor selection list
            when the Image Only or Image and Text option is set in the
            component's parameters.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Private Key</term>

          <listitem>
            <para>That's the private key given to you by Stripe.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Pubic Key</term>

          <listitem>
            <para>That's the public key given to you by Stripe.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Private test key</term>

          <listitem>
            <para>That's the private test key given to you by Stripe. It's
            only used in Sandbox (test) mode.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Public test key</term>

          <listitem>
            <para>That's the public test key given to you by Stripe. It's only
            used in Sandbox (test) mode.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Sandbox</term>

          <listitem>
            <para>When enabled, all transactions will be performed against the
            sandbox (testing server). This is designed for integration tests,
            BEFORE going live with your site. <emphasis role="bold">NEVER,
            EVER, NO MATTER WHAT YOU DO, SHOULD YOU ENABLE THIS ON PRODUCTION
            SITES! IF YOU DO, YOU WILL LOSE MONEY AND/OR
            CUSTOMERS.</emphasis></para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>

    <section xml:id="payment-vivapayments">
      <title>VivaPayments</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Akeeba
      Subscriptions Payment - VivaPayments</guilabel></para>

      <para>This plugin <emphasis role="bold">does not support</emphasis>
      recurring payments.</para>

      <para>This payment method integrates the Greek payments service
      VivaPayments (http://www.vivapayments.com). It is a low cost payments
      processor available only to EU businesses. At the time of this writing
      only Greece is supported, but support for other EU countries and select
      non-EU markets (e.g. USA) are slowly being rolled out according to their
      site.</para>

      <para>The options you have with this plugin are:</para>

      <variablelist>
        <varlistentry>
          <term>Payment option title</term>

          <listitem>
            <para>Leave blank to use "VivaPayments" or type in a custom name
            to show to your customer's, e.g. "Credit Card / Pay with
            ΔΙΑ.Σ."</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Payment option image</term>

          <listitem>
            <para>An image to show in the payment processor selection list
            when the Image Only or Image and Text option is set in the
            component's parameters.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Merchant ID</term>

          <listitem>
            <para>The Merchant ID assigned to you by VivaPayments, accessible
            from your Viva profile.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Password</term>

          <listitem>
            <para>Your transaction password (<emphasis role="bold">NOT your
            login password!!!</emphasis>), as defined in your Viva profile.
            Please keep in mind that this must be different than the password
            you use to login to your Viva profile for security reasons.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Sandbox</term>

          <listitem>
            <para>When enabled, Akeeba Subscriptions will perform transactions
            against the test servers. This is designed for integration tests,
            BEFORE going live with your site. <emphasis role="bold">NEVER,
            EVER, NO MATTER WHAT YOU DO, SHOULD YOU ENABLE THIS ON PRODUCTION
            SITES! IF YOU DO, YOU WILL LOSE MONEY AND/OR
            CUSTOMERS.</emphasis></para>
          </listitem>
        </varlistentry>
      </variablelist>

      <bridgehead>Integration notes</bridgehead>

      <para>In order to use this payment plugin you will have to do some
      configuration in your VivaPayments profile. Log in to VivaPayments and
      go to <guilabel>Sources</guilabel>. Change the settings of
      <guilabel>Default</guilabel> and enter the following callback
      URLs:</para>

      <procedure>
        <step>
          <para>Set the domain name to <uri>http://www.example.com</uri> (if
          you are not using HTTPS / SSL on your site) or
          <uri>https://www.example.com</uri> where <uri>www.example.com</uri>
          must be replaced with the domain name of your site.</para>
        </step>

        <step>
          <para>Set <guilabel>SUCCESSFUL TRANSACTION</guilabel> to
          <uri>index.php?option=com_akeebasubs&amp;view=callback&amp;paymentmethod=viva</uri>
          (the domain will be automatically put in front of this URL)</para>
        </step>

        <step>
          <para>Set <guilabel>FAILED TRANSACTION</guilabel> to
          <uri>index.php?option=com_akeebasubs&amp;view=callback&amp;paymentmethod=viva&amp;type=cancel</uri>
          (the domain will be automatically put in front of this URL)</para>
        </step>
      </procedure>

      <para>Please remember that unless you do that Akeeba Subscriptions will
      not be able to "see" the payments and will not activate subscriptions
      automatically when they are paid.</para>
    </section>
  </chapter>

  <chapter xml:id="plugins-integration">
    <title>Integration plugins</title>

    <warning>
      <para>NO SUPPORT. We have discontinued support for this component. It is
      now a developer's product. This means that we will not provide any kind
      of support, help, instructions, custom feature implementations or any
      other kind of work related to this component for a fee or for
      free.</para>
    </warning>

    <para>Akeeba Subscriptions is designed to be a modular system, powered by
    standard Joomla! plugins. Using plugins you can add payment methods as
    well as integration with third party software. Moreover, core
    functionality of Akeeba Subscriptions (like sending out emails upon
    subscription or email reminders for subscription expiration) is take care
    of by plugins.</para>

    <para>One of the most important aspects about subscription systems is
    their ability to integrate with third party software. A subscription all
    by itself means pretty much nothing. It's just a "flag". The added value
    is when this subscription allows the user holding it to actually do
    something on the site. Akeeba Subscriptions comes with several such
    plugins. One of them, integrating with Joomla! user groups (usually
    referred to as "ACL" - Access Control List - by experienced users), is
    enabled by default.</para>

    <para>As of Akeeba Subscriptions 3.0.0 and later versions most integration
    plugins have no options in the plugin editor. Instead, you will find their
    configuration inside each subscription level's page. This makes it much
    easier for you to understand how they work, without having to remember the
    complex syntax which was required in previous versions of Akeeba
    Subscriptions.</para>

    <para>All integrations with third party applications and services are
    standard Joomla! plugins, published in the <option>akeebasubs</option>
    group.</para>

    <bridgehead>Frequently asked question: I want to be able to add users to
    groups when their subscription expires</bridgehead>

    <para>Executive summary: this feature will never be implemented. It
    signifies a wrong ACL setup on your site and will mathematically lead to
    unintuitive behaviour that you will consider as a bug (even though the
    component will actually do exactly what you tell it to do). And now for
    the details.</para>

    <para>Joomla! ACLs are modelled after the Microsoft Windows ACL system. In
    this model the default behaviour is having no access to anything unless
    explicitly given. In essence, Joomla! user groups act as <emphasis>keys to
    doors</emphasis>. You can either have a key or you don't. If you have a
    key you can unlock the door. If you don't you can't go through that door.
    This is an oversimplified analogy but holds true for pretty much every
    correctly set up site.</para>

    <para>Some people don't understand that and end up with something like
    this. A group, let's call it Subscribers, which grants access privileges.
    Another group, let's call it Non Subscribers, denying access privileges.
    The second group is redundant and means that the ACL setup on that site is
    incorrect.</para>

    <para>Further to that, implementing a feature which would allow you to add
    users to groups when their subscription expires and remove users from
    groups when their subscription becomes active will lead to unintuitive
    behaviour. Remember that integration plugins run per user, not per
    subscription. All active and inactive subscriptions of the user are
    considered and the sum of all changes is applied to her account. This is
    what allows you to, say, change the user group assignments per
    subscription level and click on the Run Integrations button to apply them
    to all subscribers without having to manually edit each and every user
    account manually. Let's illustrate this with an example. Consider a site
    with the following subscription setup.</para>

    <para>SILVER:</para>

    <itemizedlist>
      <listitem>
        <para>Add on subscription: Silver Group</para>
      </listitem>

      <listitem>
        <para>Remove on subscription: Non-subscriber</para>
      </listitem>
    </itemizedlist>

    <itemizedlist>
      <listitem>
        <para>Add on expiration: Non-subscriber</para>
      </listitem>

      <listitem>
        <para>Remove on expiration: Silver Group</para>
      </listitem>
    </itemizedlist>

    <para>GOLD:</para>

    <itemizedlist>
      <listitem>
        <para>Add on subscription: Silver Group, Gold Group</para>
      </listitem>

      <listitem>
        <para>Remove on subscription: Non-subscriber</para>
      </listitem>
    </itemizedlist>

    <itemizedlist>
      <listitem>
        <para>Add on expiration: Non-subscriber</para>
      </listitem>

      <listitem>
        <para>Remove on expiration: Silver Group, Gold Group</para>
      </listitem>
    </itemizedlist>

    <para>This looks like a pretty straightforward setup, right?</para>

    <para>Let's consider a client named Alice. She buys a SILVER subscription.
    She is added to the Silver Group. Then her subscription expires. She is
    removed from the Silver Group and added to the Non-subscriber
    group.</para>

    <para>Two months later, Alice comes back to the site and buys a Gold
    subscription. You'd expect that she would be added to the Silver and Gold
    groups and removed from the Non-subscriber group, right? Well, wrong.
    Here's what happens. The add/remove groups being considered are:</para>

    <itemizedlist>
      <listitem>
        <para>Remove from groups:</para>

        <itemizedlist>
          <listitem>
            <para>Silver Group (because of the expired SILVER
            subscription)</para>
          </listitem>

          <listitem>
            <para>Non-subscriber (because of the new GOLD subscription)</para>
          </listitem>
        </itemizedlist>
      </listitem>

      <listitem>
        <para>Add to groups:</para>

        <itemizedlist>
          <listitem>
            <para>Silver Group (because of the new GOLD subscription)</para>
          </listitem>

          <listitem>
            <para>Gold Group (because of the new GOLD subscription)</para>
          </listitem>

          <listitem>
            <para>Non-subscriber (because of the expired SILVER
            subscription)</para>
          </listitem>
        </itemizedlist>
      </listitem>
    </itemizedlist>

    <para>You obviously can't add and remove a user to the same group. If a
    group is both in the add and remove lists it is removed from both. If you
    have to give and remove a key at the same time, you get to do nothing. It
    makes sense, doesn't it? So what changes are we going to do to Alice's
    account? Simple: add her to the Gold Group. This means that she's now a
    member of the Gold Group and the Non-subscribers group (she was added to
    it when her SILVER subscription expires). The end result is that Alice
    paid for a subscription but she has no access.</para>

    <para>In so many words, software will do what you tell it to do, not what
    you meant it to do. Considering that the Non-subscribers group was a bad
    idea to begin with, we have summed up the exact reason such a feature will
    never, ever be implemented so please stop asking for it. Instead of asking
    us to give you a big gun to shoot your feet with please do try fixing your
    site's ACL setup. Just keep in mind the key analogy: user groups are keys;
    they are used to unlock doors; like keys, you can have them or you don't.
    It will take you probably an extra half a day in planning and save you
    months or years of frustration.</para>

    <para>For what is worth, yours truly (the lead developer of this
    component), had to design the user groups for our own site
    <emphasis>twice</emphasis>. My first try was a failed attempt using the
    "Non-subscriber" user group idea. It only took me a day to realise how bad
    and how nonsensical this ACL setup was. Learn from my mistakes and heed my
    advice.</para>

    <section xml:id="integration-joomla">
      <title>Joomla! User Groups Integration</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Akeeba
      Subscriptions - Joomla! Usergroups Integration</guilabel></para>

      <para>This integration plugin allows you to add and remove users from
      Joomla! 1.6 or later groups based on their subscription status. This
      allows you to fully utilize Joomla! 1.6 or later's built-in ACL
      capabilities on compatible extensions.</para>

      <para>Please note that this is a smart integration; instead of adding
      users when a subscription goes active and removing them when a
      subscription goes inactive, Akeeba Subscriptions plugins take a look at
      all of the user's active and inactive subscriptions and decide which
      groups the user should be added to or removed from.</para>

      <note>
        <para>The instructions below apply to Akeeba Subscriptions 2.4.5 and
        later. For earlier versions please do consult the documentation PDF
        file for your version.</para>
      </note>

      <para>The plugin has no options. Its configuration is integrated to each
      subscription level. In each subscription level, under the Actions area,
      you will see a "User Groups" tab when this plugin is enabled. The
      options given are:</para>

      <variablelist>
        <varlistentry>
          <term>Add to Joomla! user groups</term>

          <listitem>
            <para>This is a list for assigning subscription levels to Joomla!
            groups. When a user has an active subscription to the specified
            level, he'll be added to the Joomla! groups selected in the
            list.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Remove from Joomla! user groups</term>

          <listitem>
            <para>Likewise, this is the list of the Joomla! groups to remove a
            user from when his subscription to the specified level is no
            longer active. Do note that you can specify a different set of
            groups to remove the user from than the ones you are adding him
            to.</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <para>When deciding which groups to add users to / remove from, this
      plugin takes into account all of the user's active and expired
      subscriptions. If a user group ends up begging to both be removed from
      the user account and added to it add wins. That is to say that if an
      expired subscription tells us to remove a user from Group A and another
      one tells us to add the user to Group A then the plugin always decides
      to add the user to Group A.</para>
    </section>

    <section xml:id="ntegration-joomlaprofilesync">
      <title>Joomla! User Profile Sync</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Akeeba
      Subscriptions - Joomla! user Profiles Sync</guilabel></para>

      <para>This plugin allows you to synchronise the information stored for
      each user with the information Joomla! keeps in its #__user_profiles
      page. The first corollary of this kind of integration is that the basic
      address information of your subscribers are now visible –and
      <emphasis>editable</emphasis>– on their Joomla! profile page if you
      enable Joomla!'s optional User Profiles plugin. The second and most
      important corollary is that all information kept by Akeeba Subscriptions
      for your subscribers, including custom fields, are automatically
      synchronised with the #__user_profiles table, making the accessible to
      third party extensions in a very easy to process form.</para>
    </section>

    <section xml:id="integration-autocity">
      <title>Automatic Country and City fill</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Akeeba
      Subscriptions - Automatic Country and City fill</guilabel></para>

      <para>Since Akeeba Subscriptions 1.0.0 it is possible to have plugins
      which can override user information (e.g. name, address) and can also be
      notified when user's information is being saved. This allows for very
      advanced integrations. One possibility is to automatically fetch such
      information from external services and component, e.g. using a
      geolocation service or fetching user information from Community Builder,
      JomSocial, etc. The other possibility is to provide a "reverse
      integration", e.g. update Community Builder or JomSocial fields based on
      the information the user entered in the subscription page, essentially
      making the user believe that all of his information is managed in a
      single place.</para>

      <para>This particular plugin acts as a demonstration of this plugin
      system. It will query the user's IP address against the free hostip.info
      service and populate the country and city fields, unless the user has
      overridden them, i.e. he has bought another subscription in the
      past.</para>

      <important>
        <para>The hostip.info service usually returns only the Country for a
        particular IP. It will very rarely be able to provide the City. If you
        only see the Country being filled in do not worry; it's how the
        service works.</para>
      </important>
    </section>

    <section xml:id="integration-sql">
      <title>Custom SQL scripts</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Akeeba
      Subscriptions - Custom SQL scripts</guilabel></para>

      <para>This plugin can run arbitrary SQL commands when a subscription
      becomes active or inactive. Please note that this plugin is very naive.
      For starters, it will run the SQL commands once for every active and
      inactive subscriptions it encounters. If you have two disabled
      subscriptions and five enabled subscriptions on a specific level it will
      run the deactivation SQL twice and the activation SQL five times.
      Moreover, the plugin fires: when a new subscription is created; when the
      subscription status changes for any reason (payment status changes,
      manual disable/enable, automatic enable/disable due to Valid From/To
      dates being reached) and when you click on the Run Integration
      button.</para>

      <para>In each subscription level's editor page you can define the SQL
      commands to run. In all cases, you can do something like this:</para>

      <programlisting>INSERT INTO #__foobar (`user_id`,`something`) VALUES( '<replaceable>[USERID]</replaceable>', 'myvalue' );</programlisting>

      <para>It is the list of SQL commands, separated by semicolons. The
      <replaceable>[USERID]</replaceable> variable will be replaced with the
      user's numeric ID for the user whose subscription Akeeba Subscriptions
      is currently processing. The [USERNAME] variable will be replaced with
      the user's username (available since Akeeba Subscriptions 2.1).</para>
    </section>

    <section xml:id="integration-iproperty">
      <title>Intellectual Property integration</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Akeeba
      Subscriptions - Intellectual Property Integration</guilabel>. Available
      since Akeeba Subscriptions 2.1.</para>

      <para>This plugin integrates Akeeba Subscriptions with the Intellectual
      Property real estate component by The Thinkery LLC. It allows
      subscribers to specific Subscription Levels to be automatically assigned
      as Agents in Intellectual Property. This allows you to create a real
      estate portal with self-registering real estate agents.</para>

      <para>You get to specify certain limits per subscription level. When a
      user subscribes to such a subscription level an Intellectual Property
      Company is created for this user and he becomes a Super Agent in that
      Company. He can then assign more Agents, create Property Listings and so
      forth. When his subscription expires the Company is unpublished and the
      user is no longer a Super Agent for that Company.</para>

      <para>The plugin renders these options in each subscription level's
      editor page, under the <guilabel>Intellectual Property</guilabel> tab
      (you can find it under <guilabel>Actions</guilabel>):</para>

      <variablelist>
        <varlistentry>
          <term>Property listings</term>

          <listitem>
            <para>The maximum number of property listings per company.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Featured property listings</term>

          <listitem>
            <para>The maximum number of featured property listings per
            company.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Agents</term>

          <listitem>
            <para>The maximum number of agents per company. The agents needn't
            be subscribers; the company owner can assign any user of your site
            as an agent for his company.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Featured agents</term>

          <listitem>
            <para>The maximum number of feature agents per company.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Images per listing</term>

          <listitem>
            <para>The maximum number of images for each property
            listing.</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <bridgehead>How is this all supposed to work in real life?</bridgehead>

      <para>The flow is very simple: the user comes to your site and clicks
      the Subscribe menu item. He fills in his information and clicks on
      Subscribe Now. He's forwarded to the payment processor's page (e.g.
      PayPal) and pays. When his payment is cleared, the payment processor
      calls back your site. Akeeba Subscriptions handles the callback and
      enables the subscription. Enabling the subscription triggers the "Akeeba
      Subscriptions - Intellectual Property integration" plugin. The plugin
      adds the user as an Agent to IP. At the same time, the email plugin is
      triggered and send the user an email which tells him that his
      subscription is now activated. Your user can begin filing properties on
      your site.</para>

      <para>When a subscription expires and has not been renewed, the "Akeeba
      Subscriptions - Intellectual Property integration" plugin is triggered
      again. This time it removes the user from Intellectual Property. At the
      same time, the email plugin is triggered and send the user an email
      which tells him that his subscription has now expired. Your user can no
      longer file new or manage his existing properties on your site.</para>

      <para>The exact limits for the Intellectual Property agent are defined
      by the plugin's setup parameters. In the setup parameters you actually
      tell the plugin what are the limits imposed by each subscription level.
      You can have, for example, two levels. LEVEL1 can tell the plugin that
      the user can create up to 10 properties, LEVEL2 can tell the plugin that
      the user can create up to 20 properties. If the user subscribes only to
      LEVEL1 he will be able to create up to 10 properties. If the user
      subscribes only to LEVEL2 he will be able to create up to 20 properties.
      If the user subscribes to both, he will be able to create up to 20
      properties (the largest value wins, the values are not added).</para>
    </section>

    <section xml:id="integration-ganalytics-commerce">
      <title>Google Analytics Commerce integration</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Akeeba
      Subscriptions - Analytics commerce</guilabel></para>

      <note>
        <para>This is a third party plugin, developed and maintained by
        Compojoom. Akeeba Ltd cannot provide any support for it.</para>
      </note>

      <para>This integration plugin allows you to add Google Analytics
      Commerce tracking to your Akeeba Subscriptions sales.</para>

      <para>The plugin has these options:</para>

      <variablelist>
        <varlistentry>
          <term>Tracking id</term>

          <listitem>
            <para>The tracking id for your google analytics profile</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Store name</term>

          <listitem>
            <para>The store name will appear in the stats of your google
            analytics profile</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>

    <section xml:id="integration-atscredits">
      <title>Akeeba Ticket System credits integration</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Akeeba
      Subscriptions - Akeeba Ticket System credits
      integration</guilabel></para>

      <para>This integration plugin allows you to add credits to a user's
      Akeeba Ticket System credits account as soon as his subscription is
      enabled and expire those credits as soon as his subscription
      expires.</para>

      <para>The plugin renders the following options in the subscription level
      page, inside the tab labelled <guilabel>ATS credits</guilabel>:</para>

      <variablelist>
        <varlistentry>
          <term>Credits</term>

          <listitem>
            <para>How many credits to add to the user's account as soon as his
            subscription is enabled</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>

    <section xml:id="integration-contentpublish">
      <title>Automatic content publishing</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Akeeba
      Subscriptions - Content Publishing</guilabel></para>

      <para>This integration plugin allows you to automatically publish
      content owned by a user when his subscription is activated and unpublish
      it when his subscription expires. The plugin works with Joomla!
      articles, K2 items, SobiPro 1.1+ entries and ZOO items. The idea is that
      when a subscription becomes enabled all items owned (authored) by the
      user are published. When the subscription expires, all of those items
      are automatically unpublished.</para>

      <note>
        <para>If you plan on using this plugin to control the publishing of
        SobiPro items you must use SobiPro 1.1 or later. SobiPro 1.0.x will
        NOT work.</para>
      </note>

      <para>The plugin renders the following options in the subscription level
      page:</para>

      <variablelist>
        <varlistentry>
          <term>Publish Joomla! articles</term>

          <listitem>
            <para>When checked, Akeeba Subscriptions will publish all Joomla!
            articles created by the user when his subscription is
            activated.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Publish K2 items</term>

          <listitem>
            <para>When checked, Akeeba Subscriptions will publish all K2 items
            created by the user when his subscription is activated.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Publish SobiPro entries</term>

          <listitem>
            <para>When checked, Akeeba Subscriptions will publish all SobiPro
            entries created by the user when his subscription is
            activated.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Publish ZOO items</term>

          <listitem>
            <para>When checked, Akeeba Subscriptions will publish all ZOO
            items created by the user when his subscription is activated. Only
            items belonging to the ZOO applications selected below will be
            published.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>ZOO applications for item publishing</term>

          <listitem>
            <para>Only items belonging to the selected ZOO applications will
            participate in the automatic ZOO item publishing when the option
            above is selected.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Unpublish Joomla! articles</term>

          <listitem>
            <para>When checked, Akeeba Subscriptions will unpublish all
            Joomla! articles created by the user when his subscription
            expires.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Unpublish K2 items</term>

          <listitem>
            <para>When checked, Akeeba Subscriptions will unpublish all K2
            items created by the user when his subscription expires.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Unpublish SobiPro entries</term>

          <listitem>
            <para>When checked, Akeeba Subscriptions will unpublish all
            SobiPro items created by the user when his subscription
            expires.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Unpublish ZOO items</term>

          <listitem>
            <para>When checked, Akeeba Subscriptions will unpublish all ZOO
            items created by the user when his subscription expires. Only
            items belonging to the ZOO applications selected below will be
            unpublished.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>ZOO applications for item unpublishing</term>

          <listitem>
            <para>Only items belonging to the selected ZOO applications will
            participate in the automatic ZOO item unpublishing when the option
            above is selected.</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>

    <section xml:id="integration-slavesubs">
      <title>Slave subscriptions</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Akeeba
      Subscriptions - Slave subscriptions support</guilabel></para>

      <para>When a user subscribers he can choose up to ten different existing
      users who will also get the same subscription he subscribes into. Those
      extra subscriptions are called slaves. The changes to this user's
      subscription will be automatically applied to the slave subscriptions.
      The limits of slave subscriptions is defined per subscription level for
      maximum flexibility. This allows you to implement something like 'family
      subscriptions' which allow several members of the same family to share a
      single subscription, without having to subscribe each family member
      individually.</para>

      <para>The plugin renders the following options in the subscription level
      page:</para>

      <variablelist>
        <varlistentry>
          <term>Maximum slaves</term>

          <listitem>
            <para>The maximum number of slave subscriptions allowed when a
            user subscribes to this subscription level. Enter 0 or leave blank
            to prevent the generation of slave subscriptions.</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>
  </chapter>

  <chapter xml:id="plugins-misc">
    <title>Miscellaneous plugins</title>

    <warning>
      <para>NO SUPPORT. We have discontinued support for this component. It is
      now a developer's product. This means that we will not provide any kind
      of support, help, instructions, custom feature implementations or any
      other kind of work related to this component for a fee or for
      free.</para>
    </warning>

    <para>Akeeba Subscriptions is designed to be a modular system, powered by
    standard Joomla! plugins. Using plugins you can add payment methods as
    well as integration with third party software. Moreover, core
    functionality of Akeeba Subscriptions (like sending out emails upon
    subscription or email reminders for subscription expiration) is take care
    of by plugins.</para>

    <para>Akeeba Subscriptions comes with more standard Joomla! plugins which
    accomplish a variety of tasks, from email communications to content
    filtering. These plugins belong to several groups:
    <option>akeebasubs</option>, <option>content</option>,
    <option>system</option> and <option>ccinvoices</option>. This
    documentation chapter discusses the various plugins available and their
    configuration.</para>

    <section xml:id="plugin-asexpirationcontrol">
      <title>Subscription expiration control</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <emphasis role="bold">System
      - Akeeba Subscriptions Expiration Control</emphasis></para>

      <tip>
        <para>This plugin also supports scheduling with a CRON job. Please
        consult the <link linkend="scheduling">Scheduling Information</link>
        chapter of this documentation.</para>
      </tip>

      <para>Akeeba Subscriptions will automatically expire your users'
      subscriptions when they visit a page with an Akeeba Subscriptions module
      on your site after their subscription expiration date. However, if you
      want subscription expiration to be performed automatically, you need to
      publish this plugin. It will fire once per day, expiring subscriptions
      past their expiration date. We strongly recommend publishing this plugin
      at all times.</para>

      <para>Since some people reading the above paragraph had gotten the wrong
      picture, let's try explaining this in even more detail. The subscription
      expiration control plugin is a Joomla! plugin. It cannot magically run
      on its own accord. The only way it will run is when a page load occurs.
      Therefore you need to have at least a handful (typically: about 10) page
      load requests per day on your site so that this plugin can be triggered
      and do its job. If you have a site with practically zero traffic you
      will have to deliberately visit it every day and browse 10-20 pages so
      that this plugin does get activated and does process expired
      subscriptions. The subscriber whose subscription has expired does not
      need to visit your site.</para>
    </section>

    <section xml:id="plugin-asexpirationnotify">
      <title>Subscription expiration notification</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>System - Akeeba
      Subscriptions Expiration Notification</guilabel></para>

      <tip>
        <para>This plugin also supports scheduling with a CRON job. Please
        consult the <link linkend="scheduling">Scheduling Information</link>
        chapter of this documentation.</para>
      </tip>

      <para>This plugin will notify a user before his subscription's
      expiration, based on the notification settings of each subscription
      level.</para>

      <note>
        <para>This plugin uses Joomla!'s mail system. You have to ensure that
        your site can send out emails (e.g. use the Mass Mail feature to send
        a test email to Super Administrators) before activating this
        plugin.</para>
      </note>

      <para>We strongly recommend publishing this plugin at all times.</para>

      <para>For email customisation instructions, please take a look at the
      <link linkend="customising-emails">Customising emails</link> section of
      our documentation.</para>
    </section>

    <section xml:id="plugin-subscriptionemails">
      <title>Subscription emails</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Akeeba
      Subscriptions - Emails</guilabel></para>

      <para>When this plugin is published, an email will be sent out to the
      user when any change in the status of the subscription has taken place.
      For a complete list of the events on which an email is sent you can take
      a look at the language file, e.g.
      <filename>administrator/language/en-GB/en-GB.plg_akeebasubs_subscriptionemails.ini</filename>.
      Please note that if you are running a multilingual site, the site's
      active language at the time the subscription was registered is saved as
      the user's default language. As long as translation files for that
      language exist for our email plugin, then all emails the user receives
      will be in that language (the user's default language).</para>

      <note>
        <para>This plugin uses Joomla!'s mail system. You have to ensure that
        your site can send out emails (e.g. use the Mass Mail feature to send
        a test email to Super Administrators) before activating this
        plugin.</para>
      </note>

      <para>We strongly recommend publishing this plugin at all times.</para>

      <para>For email customisation instructions, please take a look at the
      <link linkend="customising-emails">Customising emails</link> section of
      our documentation.</para>
    </section>

    <section xml:id="plugin-adminemails">
      <title>Administrator emails</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Akeeba
      Subscriptions - Administrator Emails</guilabel></para>

      <para>When this plugin is published, an email will be sent out to the
      administrator (you can define the email address of the administrator)
      when any change in the status of a subscription has taken place. For a
      complete list of the events on which an email is sent you can take a
      look at the language file, e.g.
      <filename>administrator/language/en-GB/en-GB.plg_akeebasubs_afminemails.ini</filename>.
      Please note that if you are running a multilingual site, the site's
      active language at the time the subscription was registered is saved as
      the user's default language. As long as translation files for that
      language exist for our email plugin, then the emails the administrators
      will receive will be in that language (the default language of the user
      whose subscription has been modified).</para>

      <note>
        <para>This plugin uses Joomla!'s mail system. You have to ensure that
        your site can send out emails (e.g. use the Mass Mail feature to send
        a test email to Super Administrators) before activating this
        plugin.</para>
      </note>

      <para>For email customisation instructions, please take a look at the
      <link linkend="customising-emails">Customising emails</link> section of
      our documentation.</para>
    </section>

    <section xml:id="plugin-asrestricted">
      <title>Content restriction</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Content - Akeeba
      Subscriptions Restricted</guilabel></para>

      <para>This content plugin allows you to show parts of your content only
      to specific subscribers. This is a very powerful feature that allows you
      to alter the displayed content based on the user's subscription
      status.</para>

      <note>
        <para>It cannot "hide" entire articles, e.g. not show them at all to
        non-subscribers. At best, only the title will be shown.</para>

        <para>If you have Joomla! 1.6 or later you can use the bundled Joomla!
        1.6 User Group integration plugin to automatically assign subscribers
        to Joomla!'s groups and then use Joomla!'s ACL feature to fine-tune
        which users have access to which articles.</para>
      </note>

      <note>
        <para>The following documentation adds a space between the curly
        brackets ({ and }). This is done in order for Joomla! not to process
        the documentation text as plugin instructions. When you use the
        plugin, please DO NOT add a space between the curly braces and its
        contents. Thank you!</para>
      </note>

      <para>Its syntax is:</para>

      <programlisting>{ akeebasubs <replaceable>expression</replaceable> }Your content{ /akeebasubs }</programlisting>

      <para>This means that "Your content" will only be displayed to users
      whose subscriptions satisfy the <replaceable>expression</replaceable>.
      In the simplest form, expression is just the name of a subscription
      level, e.g.</para>

      <programlisting>{ akeebasubs LEVEL1 }Your content{ /akeebasubs }</programlisting>

      <para>If you want to present the content to someone who holds an active
      subscription to both LEVEL1 and LEVEL2, you can use the
      <option>&amp;&amp;</option> (logic and) operator:</para>

      <programlisting>{ akeebasubs LEVEL1 <option>&amp;&amp;</option> LEVEL2 }Your content{ /akeebasubs }</programlisting>

      <para>Likewise, you can use the || (logic or) operator to present the
      content to anyone who has a subscription to any of LEVEL3 or LEVEL4
      levels:</para>

      <programlisting>{ akeebasubs LEVEL3 <option>||</option> LEVEL4 }Your content{ /akeebasubs }</programlisting>

      <para>Important note: The logical OR consists of two "pipe" symbols.
      These are not the same as capital I! On a Mac's keyboard, the pipe
      symbol is present next to the ENTER key, accessible by pressing SHIFT-\.
      On most Windows/Linux machines, this key is usually somewhere near the
      ENTER key and is most likely accessible by pressing SHIFT-\ as
      well.</para>

      <para>You can also negate the logic. For example, you can present the
      content to anyone having a subscription to neither LEVEL1 nor LEVEL3 by
      using the ! (logical not) operator:</para>

      <programlisting>{ akeebasubs !LEVEL1 &amp;&amp; !LEVEL3 }Your content{ /akeebasubs }</programlisting>

      <para>If you specify multiple operators, the precedence is NOT, AND, OR.
      This means that the exclamation mark is processed first, the ampersands
      second and the bars last. Example:</para>

      <programlisting>{ akeebasubs !LEVEL1 || LEVEL2 &amp;&amp; !LEVEL3 }Your content{ /akeebasubs }</programlisting>

      <para>This means that the content will be presented to users who do not
      have a subscription to LEVEL1. Also, if they do have a LEVEL1
      subscription and they are also LEVEL2 (but not LEVEL3) subscribers the
      content will also be shown to them.</para>

      <tip>
        <para>Since Akeeba Subscriptions 1.0 Stable you can also use a
        pseudo-level marked by a single star (*) which matches all active
        subscriptions. For example, to show something to all subscribers
        use:</para>

        <programlisting>{ akeebasubs * }Content to show to all subscribers{ /akeebasubs }</programlisting>

        <para>Additionally, you can use the "not" modifier (exclamation mark)
        to show content only to non-subscribers:</para>

        <programlisting>{ akeebasubs !* }Content to show to non-subscribers{ /akeebasubs }</programlisting>

        <para>You can use this trick to easily show different messages to
        subscribers and non-subscribers, no matter if you have decided on the
        final list or naming of your subscription levels.</para>
      </tip>
    </section>

    <section xml:id="plugin-astimedcontent">
      <title>Timed content release</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Content - Akeeba
      Subscriptions Timed Release</guilabel></para>

      <para>This content plugin allows you to show parts of your content only
      to specific subscribers, depending on how many days they are on
      particular subscription levels, or how many days remain in their
      subscription to perticular subscription levels. This is a very powerful
      feature that allows you to "drip feed" information to your
      subscribers.</para>

      <para>Practical use case: e-Learning sites. On an e-learning site a user
      usually subscribes to a course which lasts for weeks. Typically, you
      only want your student to see certain information every few days/weeks,
      disallowing them to peek through to the end of the course. This plugin
      will help do exactly that.</para>

      <para>Another practical use case: showing coupon codes to your
      subscribers as the end of their subscription expiration comes near, e.g.
      during the last 30 days of their subscription.</para>

      <note>
        <para>Like the content restriction plugin, it cannot "hide" entire
        articles, e.g. not show them at all to people outside the specified
        time constraints. At best, only the title will be shown.</para>
      </note>

      <para>Its syntax is:</para>

      <programlisting>{astimedrelease <replaceable>expression</replaceable> }Your content{/astimedrelease}</programlisting>

      <para>This means that "Your content" will only be displayed to users
      whose subscriptions satisfy the <replaceable>expression</replaceable>.
      In the simplest form, expression is just the name of a subscription
      level, e.g.</para>

      <programlisting>{astimedrelease LEVEL1}Your content{/astimedrelease}</programlisting>

      <para>In this form it will only show the content if the user has or has
      ever had a subscription on the LEVEL1 subscription level. It gets
      infinitely more useful appending time expressions after the subscription
      level.</para>

      <para>Time expressions follow the subscription level, are enclosed in
      parentheses and consist of one or two arguments. Since it's hard to
      explain this otherwise, let's take some examples:</para>

      <variablelist>
        <varlistentry>
          <term>LEVEL1(10)</term>

          <listitem>
            <para>The user must have more than 10 days of presence in the
            LEVEL1 subscription level</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>LEVEL1(X,10)</term>

          <listitem>
            <para>The user must have less than 10 days of presence in the
            LEVEL1 subscription level</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>LEVEL1(10,20)</term>

          <listitem>
            <para>The user must have between 10 and 20 days of presence in the
            LEVEL1 subscription level</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>LEVEL1(-10)</term>

          <listitem>
            <para>The user must have more than 10 days before his subscription
            at the LEVEL1 subscription level expires</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>LEVEL1(-5,-10)</term>

          <listitem>
            <para>The user must have more than 10 but less than 5 days before
            his subscription at the LEVEL1 subscription level expires</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>LEVEL1(X,-5)</term>

          <listitem>
            <para>The user must have less than 5 days before his subscription
            at the LEVEL1 subscription level expires</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <para>You can create complex situations involving multiple checks using
      the &amp;&amp; (and) and || (or) operators. For example:</para>

      <programlisting>{astimedrelease LEVEL1(X,10) &amp;&amp; LEVEL2(-10)}Your content{/astimedrelease}</programlisting>

      <para>means that the user must be in his first 10 days of a LEVEL1
      subscription and his last 10 days of a LEVEL2 subscription (but not one
      without the other also being true). Conversely:</para>

      <programlisting>{astimedrelease LEVEL1(X,10) &amp;&amp; LEVEL2(-10)}Your content{/astimedrelease}</programlisting>

      <para>means that the user must be in his first 10 days of a LEVEL1
      subscription or his last 10 days of a LEVEL2 subscription (or
      both).</para>

      <para>Moreover you can use the ! (not) operator to negate the effect of
      an expression. For example:</para>

      <programlisting>{astimedrelease LEVEL1(X,10) &amp;&amp; !LEVEL2(-10)}Your content{/astimedrelease}</programlisting>

      <para>means that the user must be in his first 10 days of a LEVEL1
      subscription but not his last 10 days of a LEVEL2 subscription.</para>

      <important>
        <para>he logical OR consists of two "pipe" symbols. These are not the
        same as capital I! On a Mac's keyboard, the pipe symbol is present
        next to the ENTER key, accessible by pressing SHIFT-\. On most
        Windows/Linux machines, this key is usually somewhere near the ENTER
        key and is most likely accessible by pressing SHIFT-\ as well.</para>
      </important>

      <note>
        <para>This plugin does a "smart calculation" of the time the user has
        a subscription on a particular level. It sums up the time he has
        consumed for all of his subscriptions on that level to date, including
        expired subscriptions.</para>

        <para>For example a user has two subscriptions: LEVEL1 from 1/1/2012
        to 31/1/2012, expired. LEVEL1 from 15/3/2012 to 15/4/2102, active.
        Assuming that the current date is April 1st, 2012 the user's
        calculated time on LEVEL1 is 46 days: 31 days from his expired
        subscription and 15 days from his current subscription.</para>

        <para>Similarly the number of days till the subscription expiration
        are calculated based on the expiration date of the last expiring paid
        subscription of the user on that level, one which may not be active
        yet.</para>
      </note>

      <para>Moreover, the plugin allows you to display the number of days a
      user has accumulated on a subscription level and how many days remain
      until his subscription expires:</para>

      <programlisting>{asdayselapsed LEVEL1}</programlisting>

      <para>shows how many days the user has had subscriptions for the LEVEL1
      subscription level.</para>

      <programlisting>{asdaysremaining LEVEL1}</programlisting>

      <para>shows how many days remain until the users subscription to LEVEL1
      expires.</para>

      <para>You can also append a comma and a number to add/remove a number of
      days. For example:</para>

      <programlisting>{asdaysremaining LEVEL1,-10}</programlisting>

      <para>shows how many days remain until the users subscription to LEVEL1
      expires, minus 10 days. This feature is useful for displaying the number
      of days left before you allow your user to view some timed release
      content.</para>
    </section>

    <section xml:id="plugin-aslink">
      <title>The Akeeba Subscriptions Link (aslink) plugin</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Content - Akeeba
      Subscriptions Link</guilabel></para>

      <para>The purpose of the aslink plugin is to produce URLs to
      subscription pages if you give it the name of the subscription level,
      its URL or its numeric ID.</para>

      <note>
        <para>The following documentation adds a space between the curly
        brackets ({ and }). This is done in order for Joomla! not to process
        the documentation text as plugin instructions. When you use the
        plugin, please DO NOT add a space between the curly braces and its
        contents. Thank you!</para>
      </note>

      <para>The aslink plugin only produces a URL, not a link. In order to
      create a link, select the text you want to link, click on your WYSIWYG
      editor's link button and when it asks you for a URL, enter the plugin
      code, as shown below.</para>

      <para>Syntax:</para>

      <programlisting>{ aslink MYLEVEL }</programlisting>

      <para>Returns the URL to a subscription level called "MYLEVEL", e.g.
      <uri>http://localhost/component/akeebasubs/new/mylevel?layout=default</uri>.</para>

      <programlisting>{ aslink mylevel }</programlisting>

      <para>Returns the URL to a subscription level whose slug is "mylevel",
      e.g.
      <uri>http://localhost/component/akeebasubs/new/mylevel?layout=default</uri>.</para>

      <programlisting>{ aslink 2 }</programlisting>

      <para>Returns the URL to a subscription level whose numeric ID is 2,
      e.g.
      <uri>http://localhost/component/akeebasubs/new/mylevel?layout=default</uri>.</para>

      <para>In order to find the numeric ID of a level, please go to your
      site's back-end, <guimenu>Components</guimenu>, <guisubmenu>Akeeba
      Subscriptions</guisubmenu>, <guimenuitem>Subscription
      Levels</guimenuitem> and click on the name of the subscription level you
      want. Note the URL in the browser. It's something like
      <uri>http://localhost/administrator/index.php?option=com_akeebasubs&amp;view=level&amp;id=2</uri>.
      The number after &amp;id= is the numeric ID of the level. In this
      example, the numeric ID is 2.</para>

      <para>Moreover, you can use the following syntax:</para>

      <programlisting>{ aslink view=levels }</programlisting>

      <para>to create a link to the Subscription Levels view. This is usually
      quicker than creating a link to a menu item and remembering to change
      that link whenever your menu structure changes.</para>
    </section>

    <section xml:id="integration-agreetotos">
      <title>Agree to Terms of Service</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Akeeba
      Subscriptions - Agree to Terms of Service</guilabel></para>

      <note>
        <para>Available since Akeeba Subscriptions 2.1</para>
      </note>

      <para>This plugin allows you to force your users to accept your Terms of
      Service before being able to subscribe, a requirement with many payment
      processors. All you have to do is to enable this plugin and supply a TOS
      URL. Unless the user indicates that he accepts the terms of service, he
      won't be able to complete the subscription.</para>

      <tip>
        <para>If you want to change the relative position of this field to
        other custom field plugins, you can use the plugin order in Joomla!'s
        Manage Plugins page</para>
      </tip>

      <para>The plugin has the following options:</para>

      <variablelist>
        <varlistentry>
          <term>Terms of Service URL</term>

          <listitem>
            <para>The URL to the Terms of Service document. A link to this
            document will be displayed in the subscription page.</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>

    <section xml:id="integration-recaptcha">
      <title>ReCAPTCHA integration</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>Akeeba
      Subscriptions - ReCAPTCHA integration</guilabel></para>

      <note>
        <para>Available since Akeeba Subscriptions 2.1</para>
      </note>

      <para>This plugin allows you to have your users fill in a CAPTCHA before
      they can subscribe to your site. This is a good measure to prevent
      automated/bulk registrations, especially if you offer free or trial
      subscriptions. The CAPTCHA is provided by <link
      xlink:href="http://www.ReCAPTCHA.net">ReCAPTCHA.net</link>. You will
      need to have created a ReCAPTCHA account before using this
      plugin.</para>

      <tip>
        <para>If you want to change the relative position of this field to
        other custom field plugins, you can use the plugin order in Joomla!'s
        Manage Plugins page</para>
      </tip>

      <important>
        <para>Showing a CAPTCHA on your subscription page will result in many
        lost sales. By showing a CAPTCHA in the subscription page you are
        making your potential subscribers to think hard before they part with
        their money, as well as frustrate them (according to our experience,
        one in two CAPTCHAs is unsolvable and makes the user feel they are
        stupid). As any undergrad business school student can tell you, the
        more you make people think, the less likely they are to pay. Besides,
        if someone actually pays you he is certainly not a spammer, therefore
        the CAPTCHA is unnecessary.</para>

        <para>We strongly advise you <emphasis role="bold">AGAINST</emphasis>
        using this plugin. If you decide to use it, you should limit its
        display only to free or trial subscriptions using the "Enable on these
        levels" option described below. You can always ignore our advice to
        your business' detriment.</para>
      </important>

      <para>The plugin has the following options:</para>

      <variablelist>
        <varlistentry>
          <term>Public key</term>

          <listitem>
            <para>Your ReCAPTCHA public key</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Private key</term>

          <listitem>
            <para>Your ReCAPTCHA private key</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Theme</term>

          <listitem>
            <para>Choose one of the predefined ReCAPTCHA themes. By default
            the "red" theme is used (classic ReCAPTCHA)</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Language</term>

          <listitem>
            <para>Choose the default language for the ReCAPTCHA interface.
            Please note that ReCAPTCHA treats that as a suggestion. It may
            override it based on your browser settings. For example, if you
            choose French but your browser specified that English should be
            preferred over French, the interface will display in
            English.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Enable on these levels</term>

          <listitem>
            <para>Select when to show the ReCAPTCHA. It will be shown only on
            the subscription page for the subscription levels you select here.
            You can do multiple selection by holding down the CTRL key
            (Windows, Linux) or CMD key (Mac) when clicking the levels. If you
            select the first option, the three dashes, ReCAPTCHA will be shown
            for all subscription levels.</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>

    <section xml:id="misc-asuserregredir">
      <title>User Registration Redirection to Akeeba Subscriptions</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Plugins Manager as: <guilabel>System - User
      Registration Redirection to Akeeba Subscriptions</guilabel></para>

      <para>Joomla! normally provides its own page to allow your visitors to
      become (free) members of the site. Many of our clients have told us that
      they do not want that and would rather use Akeeba Subscriptions and a
      free subscription level to do that. Or that they don't want anyone to be
      able to register for a free user account. The problem is that Joomla!'s
      login module –and most third party login modules– will display a "Create
      account" link leading to that Joomla! page if user registration is
      enabled in Joomla!. At the same time, Akeeba Subscriptions won't work if
      user registration is disabled in Joomla!. Sounds like a chicken and egg
      issue.</para>

      <para>Not any more! The <guilabel>System - User Registration Redirection
      to Akeeba Subscriptions</guilabel> plugin is here to provide the missing
      feature: automatically redirect anyone trying to access Joomla!'s user
      registration page to Akeeba Subscriptions. Moreover, this plugin allows
      you to redirect the visitors to a custom URL, for example a page where
      you explain that there are no free memberships on your site and provide
      more information about subscriptions.</para>

      <para>The options of the plugin are:</para>

      <variablelist>
        <varlistentry>
          <term>URL</term>

          <listitem>
            <para>The URL where people trying to register a free Joomla!
            account are redirected to. Leave it empty to have them redirected
            to Akeeba Subscriptions' subscription selection page (default).
            Otherwise just provide a full URL to the page you want them to be
            redirected to.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Message</term>

          <listitem>
            <para>An optional system message to be shown upon redirection.
            Leave blank to not display any message (default).</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>

    <section>
      <title>The logout plugins</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>One of the major problems with the Joomla! CMS is that it caches
      the user privileges when the user logs in. Any change to the user groups
      the user belongs to are ignored. This is a big issue when it comes to
      subscriptions. When a user is logged in and they subscribe they will not
      get the extra privileges until they log out and back in again. This
      wouldn't be all that bad, had it not been for the tendency of
      subscribers to both not read the instruction to log out (even when it's
      printed in bold, red, 32 pt letters – yes, we've tried) and them finding
      the need to log out and back in absurd (frankly, they are right). To
      this end we have created a set of plugins which will force the user to
      perform the log out / log in after subscribing. You have to enable all
      of the following plugins:</para>

      <itemizedlist>
        <listitem>
          <para>Akeeba Subscriptions - User needs logout</para>
        </listitem>

        <listitem>
          <para>System - Akeeba Subscriptions Logout user</para>
        </listitem>

        <listitem>
          <para>User - Akeeba Subscriptions Logout user</para>
        </listitem>
      </itemizedlist>
    </section>
  </chapter>

  <chapter xml:id="scheduling">
    <title>Scheduling information</title>

    <warning>
      <para>NO SUPPORT. We have discontinued support for this component. It is
      now a developer's product. This means that we will not provide any kind
      of support, help, instructions, custom feature implementations or any
      other kind of work related to this component for a fee or for
      free.</para>
    </warning>

    <para>Akeeba Subscriptions needs to run some housekeeping tasks, such as
    checking subscriptions for expiration, in regular intervals. As you've
    read earlier on, this can be performed by means of system plugins. These
    plugins have the downside of increasing the page load time of your site.
    That's why since Akeeba Subscriptions 3.2.1 we've added CRON
    support.</para>

    <para>The CRON jobs are designed to make use of the same housekeeping
    plugins. Instead of having the plugins activate in random page loads,
    making your site appear slow to some of your visitors, the CRON support
    consists of a special URL which immediately triggers those plugins. This
    means that for the next 24 hours these housekeeping plugins won't run
    during regular site traffic and your site won't appear any slower. We
    strongly recommend setting up CRON jobs which run at least twice daily
    (every 12 hours) or more often (ideally: every 30 minutes) to maximise the
    performance benefits for your site.</para>

    <section xml:id="scheduling-activate">
      <title>Activating the scheduling URL</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>The scheduling URL comes deactivated by default. This is a
      security setting: having this feature activated out of the box would
      allow a malicious user to hit it repeatedly, slowing down your server
      and adversely impacting your site. The first thing you have to do is to
      activate it, by providing a secret key in the components Options
      page.</para>

      <para>Log in to your site's back-end. Go to
      <guimenu>Components</guimenu>, <guimenuitem>Akeeba
      Subscriptions</guimenuitem>. Click on the <guibutton>Options</guibutton>
      button. Click on the <guilabel>Front-end Display</guilabel> tab. You
      will now see the option called <guilabel>CRON secret key</guilabel>
      towards the top. Enter a secret word that you only know and is different
      than the passwords you use for logging in to your site, your hosting
      account and so on. The key must consist only of the lowercase letters
      a-z and numbers 0-9. Note that down; you will need to use it in the
      scheduling URL. Now click on the <guibutton>Save &amp; Close</guibutton>
      button.</para>

      <para>The CRON URL will now only work when the correct secret key is
      present in the URL. This prevents malicious users from hitting this URL
      repeatedly. We recommend keeping the secret key to yourself, for
      security reasons.</para>

      <para>If you ever want to disable that feature again just repeat the
      previous steps but leave the box empty. Having it empty automatically
      disables the CRON URL.</para>
    </section>

    <section xml:id="scheduling-using">
      <title>Using the scheduling URL with CRON jobs</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Akeeba Subscriptions automates housekeeping tasks using a special
      URL which has to be called from a CRON job.</para>

      <section xml:id="scheduling-url">
        <title>The CRON URL</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <para>The URL you have to use for your CRON jobs looks like
        this:</para>

        <para><uri><replaceable>http://www.example.com</replaceable>/index.php?option=com_akeebasubs&amp;view=cron&amp;secret=<replaceable>YourSecret</replaceable>&amp;command=<replaceable>YourCommand</replaceable></uri></para>

        <para>where:</para>

        <para><uri>http://www.example.com</uri> is the URL to your site.
        Remember to change that!</para>

        <para><option>YourSecret</option> is the secret key you defined in the
        component's Options, as per the previous section of the
        documentation</para>

        <para><option>YourCommand</option> is the CRON command you want to
        execute. The available commands are:</para>

        <variablelist>
          <varlistentry>
            <term>expirationcontrol</term>

            <listitem>
              <para>Find out the subscriptions which are past their expiration
              (Valid To) date and disables (expires) them, running all
              necessary integration plugins. In order to use this command the
              <guilabel>System - Akeeba Subscriptions Expiration
              Control</guilabel> plugin must be enabled.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>expirationnotify</term>

            <listitem>
              <para>Sends out the notification e-mails to users regarding the
              imminent expiration of subscriptions, as well as the e-mail sent
              after a subscription has expired and not been renewed in the
              meantime. In order to use this command the <guilabel>System -
              Akeeba Subscriptions Expiration Notification</guilabel> plugin
              must be enabled.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </section>

      <section xml:id="scheduling-implementation">
        <title>Scheduling the housekeeping</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <para>The exact method of scheduling depends on your host.</para>

        <bridgehead>The host allows you to enter URLs to be called
        periodically</bridgehead>

        <para>This is the most straightforward implementation. Just enter the
        CRON URL and make sure it's called at least twice per day
        (recommended: every 30 minutes).</para>

        <bridgehead>Scheduling using your hosting control panel</bridgehead>

        <para>Most hosts offer a CPanel of some kind. There has to be a
        section for something like "<guilabel>CRON Jobs</guilabel>",
        "<guilabel>scheduled tasks</guilabel>" and the like. The help screen
        in there describes how to set up a scheduled job. One missing part for
        you would be the command to issue. Simply putting the URL in there is
        not going to work.</para>

        <para>If you are on a UNIX-style OS host (usually, a Linux host) you
        most probably have access to a command line utility called
        <command>wget</command>. It's almost trivial to use:</para>

        <para><command>wget
        "http://www.example.com/index.php?option=com_akeebasubs&amp;view=cron&amp;secret=YourSecret&amp;command=YourCommand"</command></para>

        <warning>
          <para>Do not forget to put the URL inside double quotes. If you
          don't the CRON job will fail! The reason is that the ampersand is
          also used to separate multiple commands in a single command line. If
          you don't use the double quotes at the start and end of the CRON
          URL, your host will think that you tried to run multiple commands
          and load your site's homepage instead of Akeeba Subscriptions' CRON
          URL.</para>
        </warning>

        <para>If you're unsure, check with your host. Sometimes you have to
        get from them the full path to wget in order for CRON to work, thus
        turning the above command line to something like:</para>

        <para><command>/usr/bin/wget
        "http://www.example.com/index.php?option=com_akeebasubs&amp;view=cron&amp;secret=YourSecret&amp;command=YourCommand"</command></para>

        <para>Contact your host; they usually have a nifty help page for all
        this stuff.</para>

        <para><systemitem>wget</systemitem> is multi-platform command line
        utility program which is not included with all operating systems. If
        your system does not include the <systemitem>wget</systemitem>
        command, it can be downloaded at this address: <link
        xlink:href="http://wget.addictivecode.org/FrequentlyAskedQuestions#download">http://wget.addictivecode.org/FrequentlyAskedQuestions#download</link>.
        The <systemitem>wget</systemitem> homepage is here: <link
        xlink:href="http://www.gnu.org/software/wget/wget.html">http://www.gnu.org/software/wget/wget.html</link>.</para>

        <warning>
          <para>The ampersands above should be written as a single ampersand,
          not as an HTML entity (&amp;amp;). Failure to do so will result in a
          403: Forbidden error message and the CRON job won't run. This is not
          a bug, it's the way wget works.</para>
        </warning>

        <bridgehead>Using the front-end backup in SiteGround and other hosts
        using cURL instead of wget</bridgehead>

        <para>As one of our users pointed out in the support forum, finding
        the correct command to issue for the CRON job is tricky. What he
        writes applies not only to his host, SiteGround, but many other
        commercial hosts as well. We'll simply quote our user, bzcoder.</para>

        <para>In the CPanel for SiteGround there is a cronjob option, you
        create a cronjob using that and use:</para>

        <para><command>curl -b /tmp/cookies.txt -c /tmp/cookies.txt -L
        --max-redirs 1000 -v "<replaceable>url</replaceable>"</command></para>

        <para>as your command.</para>

        <para>Replace <replaceable>url</replaceable> with your CRON
        URL.</para>

        <bridgehead>Scheduling using WebCron.org</bridgehead>

        <para>We consider using WebCron.org the simplest method. The cost
        depends on how often you run the Akeeba Subscriptions CRON jobs. With
        twice daily runs the cost is between one to two Euros <emphasis>per
        year</emphasis>. Considering that you need to use CRON jobs for
        performance reasons only when you sell hundreds of subscriptions per
        year we consider that to be extremely cost effective.</para>

        <para>Assuming that you have already bought some credits on
        webcron.org, here's how to automate your Akeeba Subscriptions CRON
        jobs using their service.</para>

        <para>Log in to webcron.org. In the CRON area, click on the
        <guibutton>New Cron</guibutton> button. Here's what you have to enter
        at webcron.org's interface:</para>

        <itemizedlist>
          <listitem>
            <para><emphasis role="bold">Name of cronjob</emphasis>: anything
            you like, e.g. "Subscription expiration www.example.com"</para>
          </listitem>

          <listitem>
            <para><emphasis role="bold">Timeout</emphasis>: 30sec</para>
          </listitem>

          <listitem>
            <para><emphasis role="bold">Url you want to execute</emphasis>:
            your CRON URL, e.g.
            <uri><replaceable>http://www.example.com</replaceable>/index.php?option=com_akeebasubs&amp;view=cron&amp;secret=<replaceable>YourSecret</replaceable>&amp;command=<replaceable>YourCommand</replaceable></uri></para>
          </listitem>

          <listitem>
            <para><emphasis role="bold">Login</emphasis> and <emphasis
            role="bold">Password</emphasis>: Leave them blank</para>
          </listitem>

          <listitem>
            <para><emphasis role="bold">Execution time</emphasis> (the grid
            below the other settings): Select when you want your CRON job to
            run. It should be at least once every 12 hours. Ideally, it should
            be once every 30 minutes.</para>
          </listitem>

          <listitem>
            <para><emphasis role="bold">Alerts</emphasis>: If you have already
            set up alert methods in webcron.org's interface, we recommend
            choosing an alert method here and checking the "Only on error" so
            that you get a notification only when the CRON job fails to
            run.</para>
          </listitem>
        </itemizedlist>

        <para>Now click on <guibutton>Submit</guibutton> and you're all set
        up!</para>
      </section>
    </section>

    <section xml:id="cli-update-script">
      <title>The CLI update notification and automatic update script</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Since March 2014 all of our software uses Joomla! Extensions
      Update to determine if there is an extension available and to let you
      install it. None of our own code is involved in the update provisioning
      and installation process. However, this means that you need to either
      log in to your site often to see if there are updates available or
      subscribe to a third party service which will do that for you. The
      former is inconvenient when you have multiple sites, the latter is
      expensive.</para>

      <para>This is where our CLI update script come into the big picture.
      This script will ask Joomla! to tell it if there is an update available
      for our component. If there is, it can do either (or both) of these
      actions:</para>

      <itemizedlist>
        <listitem>
          <para>Send an email notification to the email address you have
          specified.</para>
        </listitem>

        <listitem>
          <para>Ask Joomla! to install the available update
          automatically.</para>
        </listitem>
      </itemizedlist>

      <warning>
        <para><emphasis role="bold">AUTOMATIC INSTALLATION OF UPDATES IS A
        VERY BAD IDEA AND CAN LEAD TO YOUR SITE BECOMING
        INACCESSIBLE!</emphasis> Read below for more information. Akeeba Ltd
        does not accept any responsibility for any problems, data loss or
        other side effects which might arise directly or indirectly from the
        use, misuse or abuse of our software per the license of the software.
        Since the actual update code is part of Joomla! itself (it is not
        written by us) we cannot provide bug fixes, making the use of this
        script exempt from our support policy. IF YOU DECIDE TO USE THIS
        SCRIPT TO INSTALL UPDATES OF OUR SOFTWARE AUTOMATICALLY YOU ARE DOING
        SO AT YOUR OWN RISK.</para>
      </warning>

      <para>Joomla! currently does not provide a way to indicate the stability
      status (alpha, beta, RC, stable), Joomla! version compatibility and PHP
      version compatibility status of an available update. This means that in
      the future you might end up having the automatic update CLI script
      install a version of our software which is unstable or incompatible with
      your version of PHP or Joomla!. We strongly recommend you to check the
      Compatibility page on our site to determine which version is compatible
      with your site.</para>

      <para>Furthermore, Joomla! does not provide a rollback feature for
      failed updates. If for any reason the update process (which is handled
      by Joomla! itself, not our own code, therefore outside our control)
      fails while it is copying the component's files you will end up with a
      partially upgrade component. This can lead to functional issues or even
      inability to access your site.</para>

      <para>Finally, even if you have Akeeba Backup Professional, System
      Restore Points CAN NOT be taken when installing an update through the
      CLI update script. If the update fails you are really left with no
      backup.</para>

      <bridgehead renderas="sect2">Configuring the update script</bridgehead>

      <para>The update script can be configured from the Options page of the
      component. Please go to the component's main (control panel) page and
      click on the <guibutton>Options</guibutton> button. On the new page,
      click on the <guilabel>Live Update</guilabel> tab. You have the
      following options:</para>

      <variablelist>
        <varlistentry>
          <term>Auto-update CLI settings</term>

          <listitem>
            <para>What you want the update CLI to do when Joomla! reports that
            a new version is available.</para>

            <itemizedlist>
              <listitem>
                <para><guilabel>Notify and update</guilabel>. It will send you
                an email to notify you about the available update and
                immediately ask Joomla! to install it.</para>
              </listitem>

              <listitem>
                <para><guilabel>Notify only</guilabel>. RECOMMENDED. It will
                only send you an email to notify you about the available
                update.</para>
              </listitem>

              <listitem>
                <para><guilabel>Update only</guilabel>. Not recommended! It
                will only ask Joomla! to install the available update, without
                any further notification.</para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Notification frequency</term>

          <listitem>
            <para>The <emphasis>maximum</emphasis> frequency you will be
            receiving update notification emails if you use the "Notify and
            update" or "Notify only" options above. This field only contains a
            number, by default it's 1. Please look at the next option
            too.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Notification time</term>

          <listitem>
            <para>The time period expressed by notification frequency. For
            example, if you set the notification frequency to 1 and the
            notification time to "days" you will receive update notification
            emails for the new version <emphasis>at most</emphasis> once a
            day.</para>

            <important>
              <para>These two options only define the
              <emphasis>maximum</emphasis> update notification frequency. You
              may receive update emails <emphasis>less frequently</emphasis>
              than what you have set up. It depends on how often then CLI
              update script runs and how often Joomla! performs the update
              check. It is always possible that you will not be notified about
              an update which has been released in the last two days because
              Joomla! hasn't yet "seen" it.</para>
            </important>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Email for update notifications</term>

          <listitem>
            <para>The email address where update notification emails will be
            sent. If you do not specify an address no update notification
            email will be sent. You can only specify a singe email
            address.</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <bridgehead renderas="sect2">Creating a CRON job for the update
      script</bridgehead>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>You can only use this feature if you have access to the
      command-line version of PHP. In order to schedule an automatic update,
      you will have to use the following command line to your host's CRON
      interface:</para>

      <programlisting><replaceable>/usr/local/bin/php</replaceable> <replaceable>/home/USER/webroot</replaceable>/cli/akeebasubs-update.php</programlisting>

      <para>where <replaceable>/usr/local/bin/php</replaceable> is the path to
      your PHP CLI executable and
      <replaceable>/home/USER/webroot</replaceable> is the absolute path to
      your web site's root. You can get this information from your
      host.</para>

      <para>The update script does not accept any parameters.</para>

      <para>In order to give you an example, we will assume that your PHP CLI
      binary is located in <filename>/usr/local/bin/php</filename> - a common
      setting among hosts - and that your web site's root is located at
      <filename>/home/johndoe/httpdocs</filename> :</para>

      <programlisting>usr/local/bin/php /home/johndoe/httpdocs/cli/akeebasubs-update.php</programlisting>

      <para>Special considerations:</para>

      <itemizedlist>
        <listitem>
          <para>Most hosts do not impose a time limit on scripts running from
          the command-line. If your host does and the limit is less than the
          required time to send an update notification and/or install the
          update your site, the update will fail.</para>
        </listitem>

        <listitem>
          <para>This script is not meant to run from a web interface. If your
          host only provides access to the CGI or FastCGI PHP binaries the
          script may not work with them. The reason is the time constraint
          explained above.</para>
        </listitem>

        <listitem>
          <para>Some servers do not fully support this update method. The
          usual symptoms will be an update which fails to complete without any
          further error messages and no indication of something going wrong.
          In such a case, trying to ryn the update from the back-end of your
          site will work properly.</para>
        </listitem>
      </itemizedlist>

      <bridgehead>Setting up a CRON job on cPanel</bridgehead>

      <para>Go to your cPanel main page and choose the <guibutton>CRON
      Jobs</guibutton> icon from the <guilabel>Advanced</guilabel> pane. In
      the <guilabel>Add New CRON Job</guilabel> box on the page which loads,
      enter the following information:</para>

      <variablelist>
        <varlistentry>
          <term>Common Settings</term>

          <listitem>
            <para>Choose the frequency of your backup, for example once per
            day.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Command</term>

          <listitem>
            <para>Enter your backup command. Usually, you have to use
            something like:</para>

            <programlisting>/usr/bin/php5-cli /home/<replaceable>myusername</replaceable>/public_html/cli/akeebasubs-update.php</programlisting>

            <para>where <replaceable>myusername</replaceable> is your
            account's user name (most probably the same you use to login to
            cPanel). Do note the path for the PHP command line executable:
            <filename>/usr/bin/php5-cli</filename>. This is the default
            location of the correct executable file for cPanel 11 and later.
            Your host may use a different path to the executable. If the
            command never runs, ask them. We can't help you with that; only
            those who have set up the server know the changes they have made
            to the default setup.</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <para>Finally, click the <guibutton>Add New Cron Job</guibutton> button
      to activate the CRON job.</para>

      <bridgehead>Special considerations for HostGator</bridgehead>

      <para>The location of the PHP CLI binary is
      <filename>/usr/bin/php-cli</filename>. This means that your CRON command
      line should look like:</para>

      <para><programlisting>/opt/php53/bin/php /home/<replaceable>myusername</replaceable>/public_html/cli/akeebasubs-update.php</programlisting></para>
    </section>
  </chapter>

  <chapter xml:id="modules">
    <title>Akeeba Subscriptions' modules</title>

    <warning>
      <para>NO SUPPORT. We have discontinued support for this component. It is
      now a developer's product. This means that we will not provide any kind
      of support, help, instructions, custom feature implementations or any
      other kind of work related to this component for a fee or for
      free.</para>
    </warning>

    <para>Akeeba Subscriptions comes with a variety of modules to display
    customized lists of subscription levels or a list of a user's
    subscriptions. Make sure you visit your Module Manager page and have a
    look at them. You can create interesting effects, like a customized and
    categorized subscriptions list page, out of those modules.</para>

    <section xml:id="modules-list-of-active-subs">
      <title>List of active subscriptions</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Modules Manager as: <guilabel>Akeeba
      Subscriptions - List of active subscriptions</guilabel></para>

      <para>This is extremely simple plugin will merely list the current
      user's active subscriptions as an unordered list. It is meant as an
      example of how you can create custom modules for Akeeba
      Subscriptions.</para>
    </section>

    <section xml:id="modules-list-sub-levels">
      <title>List subscription levels</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Modules Manager as: <guilabel>Akeeba
      Subscriptions - List subscription levels</guilabel></para>

      <para>This extremely powerful module allows you to present a list of all
      or specific subscription levels, using either layout, in any module
      position on your site. Combined with Joomla!'s { loadposition } plugin
      you can use this module to assemble the perfect presentation page of
      your subscriptions, grouped any way you please.</para>

      <para>The module has only two options:</para>

      <variablelist>
        <varlistentry>
          <term>Subscription Levels</term>

          <listitem>
            <para>Choose which subscription level(s) to display in the module.
            This is a multiple-selection list. You can use CTRL-click
            (Windows, Linux) or CMD-click (Mac OS X) to select multiple items
            on the list.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Layout</term>

          <listitem>
            <para>Choose which layout you want to use to display your
            subscription levels to the users. You can choose between the
            Default or the Awesome layout, the same layouts you can choose in
            menu items.</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>

    <section xml:id="modules-country-selection-for-tax">
      <title>Choose country for tax display</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Displayed in the Modules Manager as: <guilabel>Akeeba
      Subscriptions - Country selection for tax display</guilabel></para>

      <para>This module allows the guests to select the country which will be
      used for calculating the tax displayed in the front-end to your guests
      when the relevant option is allowed in the component's Options
      page.</para>

      <para>The preferences of this module are:</para>

      <variablelist>
        <varlistentry>
          <term>Prompt</term>

          <listitem>
            <para>Enter the prompt which will appear next to the country
            selection drop-down. If you leave it blank the default prompt
            ("Prices include applicable tax for") will be displayed. Enter a
            single dash to disable the prompt altogether. Otherwise enter the
            text you want to be displayed.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Countries</term>

          <listitem>
            <para>Enter a comma separated listed of the country codes you want
            to appear in the country selection. By default, the only option is
            US (United States of America). Example: enter US,CA,DE to display
            USA, Canada and Germany.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Include EU countries</term>

          <listitem>
            <para>When enabled all the European Union taxation territory
            countries will be included in the drop-down. This includes both EU
            member states and other countries which are subject to EU VAT tax
            such as Isle of Man (VAT tax charged in Great Britain) and Monaco
            (VAT tax charged in France).</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Include EU VIES-registered business option</term>

          <listitem>
            <para>When enabled another option called "EU VIES-registered
            business" will be included. If you use our Tax Wizard to generate
            your tax rules this will result in displaying prices WITHOUT
            tax.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Include International</term>

          <listitem>
            <para>When enabled another option called "International" will be
            included. If you use our Tax Wizard to generate your tax rules
            this will result in displaying prices WITHOUT tax.</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <para>If a guest (not logged in user) makes a selection in this module
      and proceeds to the subscription form the country will be pre-filled
      with the selection made in this module UNLESS they selected the "EU
      VIES-registered business" or "International" option.</para>
    </section>
  </chapter>

  <chapter xml:id="devinfo">
    <title>Developers' information</title>

    <warning>
      <para>NO SUPPORT. We have discontinued support for this component. It is
      now a developer's product. This means that we will not provide any kind
      of support, help, instructions, custom feature implementations or any
      other kind of work related to this component for a fee or for
      free.</para>
    </warning>

    <para>Akeeba Subscriptions was designed to be very extensible right from
    its inception. Everything can be accomplished using plugins which can be
    installed through the familiar Joomla! extensions installer.</para>

    <para>The plugins can belong to one of two groups:</para>

    <variablelist>
      <varlistentry>
        <term>akeebasubs</term>

        <listitem>
          <para>This is the plugin group where all integrations live. Plugins
          in this group can implement a plethora of methods which allows them
          to be notified when a subscription's status changes, when the user
          information is read/written and much more.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>akpayment</term>

        <listitem>
          <para>This plugin group is used by Akeeba Subscriptions payment
          plugins. Plugins in this group implement special methods which
          allows them to be notified of the user's intention to pay for a
          subscription, as well as process the payment notification by the
          payment processor and, in turn, let the component know.</para>
        </listitem>
      </varlistentry>
    </variablelist>

    <para>The rest of this chapter documents the various plugin events in each
    group. References to existing plugins are made so that you can understand
    how things really work.</para>

    <section xml:id="dev-akeebasubs">
      <title>The "akeebasubs" plugin events</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Since Akeeba Subscriptions 5.0 we recommend developers wishing to
      create plugins for Akeeba Subscriptions to place them in the
      <filename>akeebasubs</filename> directory.</para>

      <para>Moreover, we have created a base class,
      <code>Akeeba\Subscriptions\Admin\PluginAbstracts\AkeebasubsBase</code>,
      which can make your life simpler. You are suggested to use code like the
      following to create your custom plugins:</para>

      <programlisting>&lt;?php
defined('_JEXEC') or die();

if (!defined('FOF30_INCLUDED') &amp;&amp; !@include_once(JPATH_LIBRARIES . '/fof30/include.php'))
		{
			die ('FOF is not enabled'); // Or simply return to not load the plugin at all
		}

// These lines allow you to use the shorthand class names
use Akeeba\Subscriptions\Admin\Model\Levels;
use Akeeba\Subscriptions\Admin\Model\Subscriptions;
use Akeeba\Subscriptions\Admin\Model\Users;
use FOF30\Container\Container;

Container::getInstance('com_akeebasubs'); // This sets up the autoloader (if it's not already loaded)

class plgAkeebasubsMyplugin extends <code>Akeeba\Subscriptions\Admin\PluginAbstracts\AkeebasubsBase</code>
{
    // your code goes here
}</programlisting>

      <para>This allows you to use our base class. In the event that a user
      enables the plugin without having a post-3.5.0 Akeeba Subscriptions
      version installed the plugin will not load, therefore not causing a
      fatal PHP error.</para>

      <section xml:id="dev-onAKSubscriptionChange">
        <title>onAKSubscriptionChange</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <para><emphasis role="bold">Prototype</emphasis>: <code>public
        function onAKSubscriptionChange(Subscriptions $row, array
        $info)</code></para>

        <para><emphasis role="bold">Synopsis</emphasis>: This event is called
        whenever a subscription is created or modified.</para>

        <para><emphasis role="bold">Sample plugin</emphasis>:
        plugins/akeebasubs/subscriptionemails.php</para>

        <para>The <code>$row</code> variable contains a DataModel descendant
        which gives you access to all of the information in the subscription
        record (#__akeebasubs_subscriptions table's fields). The
        <code>$info</code> variable contains a hash array with useful
        information, including a copy of table before and after the
        modification, the modified rows and the kind of modification (new for
        new record or modified for a modified existing record) that took
        place.</para>

        <para>You cannot change the information in $row or pass data back to
        the component in any way. In fact, this event is called immediately
        after all information has been written to the database.</para>
      </section>

      <section xml:id="dev-onAKUserRefresh">
        <title>onAKUserRefresh</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <para><emphasis role="bold">Prototype</emphasis>: <code>public
        function onAKUserRefresh($user_id)</code></para>

        <para><emphasis role="bold">Synopsis</emphasis>: This event is called
        when the user clicks on the "Refresh Integrations" button in the
        back-end of the Akeeba Subscriptions component. It is called once per
        each subscriber. The $user_id variable contains the numeric Joomla!
        user ID of the subscriber.</para>

        <para><emphasis role="bold">Sample plugin</emphasis>:
        plugins/akeebasubs/joomla.php</para>

        <para>You might consider it odd that the event is called per user
        instead of per subscription. However, the integrations in Akeeba
        Subscriptions are "smart". This means that instead of triggering
        functionality based on the enabled status of an individual
        subscription they work based on the enabled status of all
        subscriptions. This allows you to have rules like "if the user has
        SUB1 and SUB2, do this" or "if the user has SUB1 and had a SUB2 but it
        has now expired, do that". Looking at the sample plugin's code you can
        understand how the iteration of the user's subscriptions is made and
        how a plugin can determine which subscription levels the user belongs
        to.</para>
      </section>

      <section xml:id="dev-onSubscriptionFormRender">
        <title>onSubscriptionFormRender</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <para><emphasis role="bold">Prototype</emphasis>: <code>public
        function onSubscriptionFormRender($userparams, $cache)</code></para>

        <para><emphasis role="bold">Synopsis</emphasis>: This event is called
        when the subscription form (front-end, view=level) is displayed. It
        returns an array of extra fields which will be rendered in the form,
        right below the email field and before the address fields.</para>

        <para><emphasis role="bold">Sample plugin</emphasis>:
        plugins/akeebasubs/samplefields.php</para>

        <para>The input of this event's method is two variables:</para>

        <variablelist>
          <varlistentry>
            <term>$userparams</term>

            <listitem>
              <para>This is a copy of the user's record, as stored in the
              #__akeebasubs_users table, in object format. You can access the
              data in the user record as, for example,
              <code>$userparams-&gt;address1</code> in order to get the
              Address 1 field's contents.</para>

              <para>The most important -for you- part of this object is
              <code>$userparams-&gt;params</code> which stores all the extra
              fields' values. For example, if you have defined a field named
              foobar, you can get its stored value as
              <code>$userparams-&gt;params-&gt;foobar</code>.</para>

              <important>
                <para>This object contains the data stored in the database.
                When the user modified this data in the interface and submits
                the form (but the form is invalid) the information in this
                object IS NOT UPDATED. In this case, use the
                <code>$cache</code> variable.</para>
              </important>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>$cache</term>

            <listitem>
              <para>When the user submits the subscription forms but it is
              invalid (errors don't allow it to pass the validation), Akeeba
              Subscriptions stores the user's modified data in the $cache
              array. The information in this array may be different than the
              information in $userparams array.</para>
            </listitem>
          </varlistentry>
        </variablelist>

        <bridgehead>Getting the values for your custom fields</bridgehead>

        <para>To cut a long story short, if you have a field named foobar,
        here is how to get its value:</para>

        <programlisting>if(array_key_exists('<replaceable>foobar</replaceable>', $cache['custom'])) {
  $current = $cache['custom']['<replaceable>foobar</replaceable>'];
} else {
  $current = property_exists($userparams-&gt;params, '<replaceable>foobar</replaceable>') ? $userparams-&gt;params-&gt;<replaceable>foobar</replaceable> : <replaceable>'default value'</replaceable>;
}</programlisting>

        <bridgehead>Returning custom field definitions</bridgehead>

        <para>The return of this event is an array which consists of one or
        more hash (key/value pair) arrays. Each of the hash arrays defines
        exactly one extra field and has the following keys:</para>

        <variablelist>
          <varlistentry>
            <term>id</term>

            <listitem>
              <para>String. Required. The field's HTML id.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>label</term>

            <listitem>
              <para>String. Required. The label which appears to the left of
              the field.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>elementHTML</term>

            <listitem>
              <para>String. Required. The HTML of your field.</para>

              <important>
                <para>The name value of your field <emphasis
                role="bold">must</emphasis> be
                <code>custom[<replaceable>id</replaceable>]</code>, where
                <replaceable>id</replaceable> is the HTML id you defined in
                the id key above. Also, the HTML id <emphasis
                role="bold">must</emphasis> be defined and <emphasis
                role="bold">must</emphasis> be equal to the HTML id you
                defined in the id key above. If you don't do that, your extra
                field might never be saved.</para>
              </important>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>invalidLabel</term>

            <listitem>
              <para>String. Optional. This is the label which appears in green
              on the right of the field when the field is valid. The HTML
              element containing this string is named id_valid, where
              <replaceable>id</replaceable> is the HTML id you defined in the
              id key above.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>validLabel</term>

            <listitem>
              <para>String. Optional. This is the label which appears in red
              on the right of the field when the field is invalid. The HTML
              element containing this string is named id_invalid, where
              <replaceable>id</replaceable> is the HTML id you defined in the
              id key above.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>isValid</term>

            <listitem>
              <para>Boolean. Optional. If you defined the invalidLabel and/or
              validLabel fields, pass a boolean here indicating if the field
              is currently valid so that the correct label is shown when the
              page loads.</para>
            </listitem>
          </varlistentry>
        </variablelist>

        <bridgehead>Javascript validation</bridgehead>

        <para>Akeeba Subscriptions does not make any attempt to validate the
        custom fields and update the display status of the valid/invalid
        labels. It is your responsibility. In this event, you can call
        <code>JFactory::getDocument()-&gt;addScriptDeclaration($scriptData)</code>
        where $scriptData is the Javascript validation code.</para>

        <para>In order to make it easier for you, Akeeba Subscriptions offers
        an architecture similar to an observer pattern in the Javascript code.
        You can have Javascript functions called when Akeeba Subscriptions'
        Javascript code is fetching the contents of the fields before sending
        a data validation request through AJAX and another function which is
        called when the validation results are being processed. You can add
        the former to the stack using addToValidationFetchQueue() and the
        latter using addToValidationQueue().</para>

        <para>Please look at the very well documented sample plugin for more
        information regarding all of the above.</para>
      </section>

      <section xml:id="dev-onSubscriptionFormRenderPerSubFields">
        <title>onSubscriptionFormRenderPerSubFields</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <para><emphasis role="bold">Prototype</emphasis>: <code>public
        function onSubscriptionFormRenderPerSubFields($cache)</code></para>

        <para><emphasis role="bold">Synopsis</emphasis>: This event is called
        when the subscription form (front-end, view=level) is displayed. It
        returns an array of extra fields which will be rendered in the form,
        right below the email field and before the address fields. Unlike
        onSubscriptionFormRender fields which are stored in the user's record,
        the fields defined by onSubscriptionFormRenderPerSubFields are stored
        inside the subscription record. This allows you to handle
        per-subscription options.</para>

        <para><emphasis role="bold">Sample plugin</emphasis>:
        plugins/akeebasubs/slavesubs.php</para>

        <para>The input of this event's method is two variables:</para>

        <variablelist>
          <varlistentry>
            <term>$cache</term>

            <listitem>
              <para>When the user submits the subscription forms but it is
              invalid (errors don't allow it to pass the validation), Akeeba
              Subscriptions stores the user's modified data in the $cache
              array. The information in this array may be different than the
              information in $userparams array.</para>
            </listitem>
          </varlistentry>
        </variablelist>

        <bridgehead>Getting the values for your custom fields</bridgehead>

        <para>To cut a long story short, if you have a field named foobar,
        here is how to get its value:</para>

        <programlisting>if(array_key_exists('<replaceable>foobar</replaceable>', $cache['subcustom'])) {
  $current = $cache['subcustom']['<replaceable>foobar</replaceable>'];
} else {
  $current =<replaceable>'default value'</replaceable>;
}</programlisting>

        <bridgehead>Returning custom field definitions</bridgehead>

        <para>The return of this event is an array which consists of one or
        more hash (key/value pair) arrays. Each of the hash arrays defines
        exactly one extra field and has the following keys:</para>

        <variablelist>
          <varlistentry>
            <term>id</term>

            <listitem>
              <para>String. Required. The field's HTML id.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>label</term>

            <listitem>
              <para>String. Required. The label which appears to the left of
              the field.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>elementHTML</term>

            <listitem>
              <para>String. Required. The HTML of your field.</para>

              <important>
                <para>The name value of your field <emphasis
                role="bold">must</emphasis> be
                <code>custom[<replaceable>id</replaceable>]</code>, where
                <replaceable>id</replaceable> is the HTML id you defined in
                the id key above. Also, the HTML id <emphasis
                role="bold">must</emphasis> be defined and <emphasis
                role="bold">must</emphasis> be equal to the HTML id you
                defined in the id key above. If you don't do that, your extra
                field might never be saved.</para>
              </important>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>invalidLabel</term>

            <listitem>
              <para>String. Optional. This is the label which appears in green
              on the right of the field when the field is valid. The HTML
              element containing this string is named id_valid, where
              <replaceable>id</replaceable> is the HTML id you defined in the
              id key above.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>validLabel</term>

            <listitem>
              <para>String. Optional. This is the label which appears in red
              on the right of the field when the field is invalid. The HTML
              element containing this string is named id_invalid, where
              <replaceable>id</replaceable> is the HTML id you defined in the
              id key above.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>isValid</term>

            <listitem>
              <para>Boolean. Optional. If you defined the invalidLabel and/or
              validLabel fields, pass a boolean here indicating if the field
              is currently valid so that the correct label is shown when the
              page loads.</para>
            </listitem>
          </varlistentry>
        </variablelist>

        <bridgehead>Javascript validation</bridgehead>

        <para>Akeeba Subscriptions does not make any attempt to validate the
        custom fields and update the display status of the valid/invalid
        labels. It is your responsibility. In this event, you can call
        <code>JFactory::getDocument()-&gt;addScriptDeclaration($scriptData)</code>
        where $scriptData is the Javascript validation code.</para>

        <para>In order to make it easier for you, Akeeba Subscriptions offers
        an architecture similar to an observer pattern in the Javascript code.
        You can have Javascript functions called when Akeeba Subscriptions'
        Javascript code is fetching the contents of the fields before sending
        a data validation request through AJAX and another function which is
        called when the validation results are being processed. You can add
        the former to the stack using addToSubValidationFetchQueue() and the
        latter using addToSubValidationQueue().</para>

        <para>Please look at the very well documented slavesubs plugin for
        more information regarding all of the above.</para>
      </section>

      <section xml:id="dev-onValidate">
        <title>onValidate</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <para><emphasis role="bold">Prototype</emphasis>: <code>public
        function onValidate($data)</code></para>

        <para><emphasis role="bold">Synopsis</emphasis>: This event is called
        when Akeeba Subscriptions is validating the subscription form.</para>

        <para><emphasis role="bold">Sample plugin</emphasis>:
        plugins/akeebasubs/samplefields.php</para>

        <para>The $data parameter is an object with all the data keys. You are
        interested in <code>$data-&gt;custom</code> which contains the values
        of the custom fields. You can get the value of a custom field named
        "foobar" using <code>$data-&gt;custom['data']</code>.</para>

        <para>The return value is a hash array with the following keys:</para>

        <variablelist>
          <varlistentry>
            <term>custom_validation</term>

            <listitem>
              <para>A hash array of booleans, showing the validation status of
              each field.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>isValid</term>

            <listitem>
              <para>Set to false if any of the validation errors above means
              that the entire subscription form should be deemed invalid,
              otherwise set it to true to not cause the entire form to become
              invalid. The latter is useful when you have an optional field
              whose validation status doesn't play a role in the user's
              ability to complete the subscription transaction.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </section>

      <section xml:id="dev-onValidatePerSubscription">
        <title>onValidatePerSubscription</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <para><emphasis role="bold">Prototype</emphasis>: <code>public
        function onValidatePerSubscription($data)</code></para>

        <para><emphasis role="bold">Synopsis</emphasis>: This event is called
        when Akeeba Subscriptions is validating the subscription form. This
        event is used to validate per-subscription custom fields.</para>

        <para><emphasis role="bold">Sample plugin</emphasis>:
        plugins/akeebasubs/slavesubs.php</para>

        <para>The $data parameter is an object with all the data keys. You are
        interested in <code>$data-&gt;custom</code> which contains the values
        of the custom fields. You can get the value of a custom field named
        "foobar" using <code>$data-&gt;subcustom['data']</code>.</para>

        <para>The return value is a hash array with the following keys:</para>

        <variablelist>
          <varlistentry>
            <term>subscription_custom_validation</term>

            <listitem>
              <para>A hash array of booleans, showing the validation status of
              each field.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>isValid</term>

            <listitem>
              <para>Set to false if any of the validation errors above means
              that the entire subscription form should be deemed invalid,
              otherwise set it to true to not cause the entire form to become
              invalid. The latter is useful when you have an optional field
              whose validation status doesn't play a role in the user's
              ability to complete the subscription transaction.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </section>

      <section xml:id="dev-onSubscriptionLevelFormRender">
        <title>onSubscriptionLevelFormRender</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <para><emphasis role="bold">Prototype</emphasis>: <code>public
        function onSubscriptionLevelFormRender(Levels $level)</code></para>

        <para><emphasis role="bold">Synopsis</emphasis>: This event is called
        when the subscription level editor form (back-end) is displayed. It
        returns an array defining a configuration tab for this plugin.</para>

        <para><emphasis role="bold">Sample plugin</emphasis>: Look at the base
        class' implementation</para>

        <para>You will rarely have to override this method. You just need to
        provide one subdirectory in your plugin's folder:</para>

        <itemizedlist>
          <listitem>
            <para><filename>tmpl</filename>. This is where your back-end
            editor form template file (<filename>default.php</filename>) is
            stored.</para>
          </listitem>
        </itemizedlist>
      </section>

      <section xml:id="dev-onAKUserGetData">
        <title>onAKUserGetData</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <para><emphasis role="bold">Prototype</emphasis>: <code>public
        function onAKUserGetData($userData)</code></para>

        <para><emphasis role="bold">Synopsis</emphasis>: This plugin is called
        when Akeeba Subscriptions is fetching the user data the first time in
        the current session that the user is visiting the Subscription
        (view=level) page</para>

        <para><emphasis role="bold">Sample plugin</emphasis>:
        plugins/akeebasubs/autocity.php</para>

        <para>This method is called whenever a user starts a new subscription
        and Akeeba Subscriptions wants to fetch user data. You can use it to
        fetch user information from additional sources and return them in an
        array. The values in the array will replace the values stored in the
        user's profile.</para>

        <para>The $userData variable contains an object with already fetched
        user information from the #__akeebasubs_users table.</para>

        <para>Returns a key/value array with user information
        overrides.</para>
      </section>

      <section xml:id="dev-onAKUserSaveData">
        <title>onAKUserSaveData</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <para><emphasis role="bold">Prototype</emphasis>: <code>public
        function onAKUserSaveData(&amp;$data)</code></para>

        <para><emphasis role="bold">Synopsis</emphasis>: This plugin is called
        when Akeeba Subscriptions is saving user's data to the
        database.</para>

        <para><emphasis role="bold">Sample plugin</emphasis>:
        plugins/akeebasubs/autocity.php</para>

        <para>This method is called whenever Akeeba Subscriptions is updating
        the user record with new information, either during sign-up or when
        you manually update this information in the back-end.</para>

        <para>The $data variable contains a the raw data to be stored in the
        #__akeebasubs_users table.</para>
      </section>

      <section xml:id="dev-onCancelMessage">
        <title>onCancelMessage</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <para><emphasis role="bold">Prototype</emphasis>: <code>public
        function onCancelMessage(Subscriptions $row)</code></para>

        <para><emphasis role="bold">Synopsis</emphasis>: This plugin is called
        when Akeeba Subscriptions is displaying the order cancellation
        message.</para>

        <para><emphasis role="bold">Sample plugin</emphasis>:</para>

        <para><emphasis role="bold">Since</emphasis>: 2.3.0</para>

        <para>This method is called whenever Akeeba Subscriptions is
        displaying the order cancellation message in the front-end of the
        site.</para>

        <para>The $row variable contains a Subscriptions object of the
        subscription for which the message is being displayed.</para>

        <para>Anything you return is considered to be HTML which will be
        displayed on the message page, right after the message.</para>
      </section>

      <section xml:id="dev-onOrderMessage">
        <title>onOrderMessage</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <para><emphasis role="bold">Prototype</emphasis>: <code>public
        function onOrderMessage(Subscriptions $row)</code></para>

        <para><emphasis role="bold">Synopsis</emphasis>: This plugin is called
        when Akeeba Subscriptions is displaying the order confirmation
        message.</para>

        <para><emphasis role="bold">Sample plugin</emphasis>:</para>

        <para><emphasis role="bold">Since</emphasis>: 2.3.0</para>

        <para>This method is called whenever Akeeba Subscriptions is
        displaying the order confirmation message in the front-end of the
        site.</para>

        <para>The $row variable contains an Subscriptions object of the
        subscription for which the message is being displayed.</para>

        <para>Anything you return is considered to be HTML which will be
        displayed on the message page, right after the message.</para>
      </section>
    </section>

    <section xml:id="dev-akpayment">
      <title>The "akpayment" plugin events</title>

      <warning>
        <para>NO SUPPORT. We have discontinued support for this component. It
        is now a developer's product. This means that we will not provide any
        kind of support, help, instructions, custom feature implementations or
        any other kind of work related to this component for a fee or for
        free.</para>
      </warning>

      <para>Since Akeeba Subscriptions 5.0 we ask developers wishing to create
      payment plugins for Akeeba Subscriptions to place them in the
      <filename>akpayment</filename> directory.</para>

      <para>Moreover, we have created a base class,
      <code>Akeeba\Subscriptions\Admin\PluginAbstracts\AkpaymentBase</code>,
      which can make your life simpler. You are suggested to use code like the
      following to create your custom payment plugins:</para>

      <programlisting>&lt;?php
defined('_JEXEC') or die();

if (!defined('FOF30_INCLUDED') &amp;&amp; !@include_once(JPATH_LIBRARIES . '/fof30/include.php'))
		{
			die ('FOF is not enabled'); // Or simply return to not load the plugin at all
		}

// These lines allow you to use the shorthand class names
use Akeeba\Subscriptions\Admin\Model\Levels;
use Akeeba\Subscriptions\Admin\Model\Subscriptions;
use FOF30\Container\Container;

Container::getInstance('com_akeebasubs'); // This sets up the autoloader (if it's not already loaded)

class plgAkpaymentMyplugin extends <code>Akeeba\Subscriptions\Admin\PluginAbstracts\AkpaymentBase</code>
{
    // your code goes here
}</programlisting>

      <para>This allows you to use our base class. In the event that a user
      enables the plugin without having a post-3.5.0 Akeeba Subscriptions
      version installed the plugin will not load, therefore not causing a
      fatal PHP error.</para>

      <section>
        <title>onAKPaymentGetIdentity</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <para><emphasis role="bold">Prototype</emphasis>: <code>public
        function onAKPaymentGetIdentity()</code></para>

        <para><emphasis role="bold">Synopsis</emphasis>: Returns the internal
        name and the human readable description of this payment plugin.</para>

        <para><emphasis role="bold">Sample plugin</emphasis>:
        plugins/akpayment/paypal.php</para>

        <para>Returns a hash array:</para>

        <variablelist>
          <varlistentry>
            <term>name</term>

            <listitem>
              <para>The internal payment processor plugin name. If you have
              plg_akpayment_foobar then this must be foobar.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>title</term>

            <listitem>
              <para>The name of the payment processor as will appear on the
              subscription page, e.g. "Foobar Payments", "Credit Card",
              etc.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </section>

      <section>
        <title>onAKPaymentNew</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <para><emphasis role="bold">Prototype</emphasis>: <code>public
        function onAKPaymentNew($paymentmethod, JUser $user, Levels $level,
        Subscriptions $subscription)</code></para>

        <para><emphasis role="bold">Synopsis</emphasis>: This method is called
        whenever the user asks for a payment to be made for his new
        subscription.</para>

        <para><emphasis role="bold">Sample plugin</emphasis>:
        plugins/akpayment/paypal.php</para>
      </section>

      <section>
        <title>onAKPaymentCallback</title>

        <warning>
          <para>NO SUPPORT. We have discontinued support for this component.
          It is now a developer's product. This means that we will not provide
          any kind of support, help, instructions, custom feature
          implementations or any other kind of work related to this component
          for a fee or for free.</para>
        </warning>

        <para><emphasis role="bold">Prototype</emphasis>: <code>public
        function onAKPaymentCallback($paymentmethod, $data)</code></para>

        <para><emphasis role="bold">Synopsis</emphasis>: This method is called
        whenever the payment processor posts back to Akeeba Subscriptions to
        notify us of a payment having been processed.</para>

        <para><emphasis role="bold">Sample plugin</emphasis>:
        plugins/akpayment/paypal.php</para>
      </section>
    </section>
  </chapter>
</book>
